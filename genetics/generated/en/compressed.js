// Automatically generated file.  Do not edit!
'use strict';var d,ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function da(a,b){if(b){var c=ca;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in c||(c[f]={});c=c[f]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
da("String.prototype.startsWith",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";b+="";var f=e.length,h=b.length;c=Math.max(0,Math.min(c|0,e.length));for(var k=0;k<h&&c<f;)if(e[c++]!=b[k++])return!1;return k>=h}});
function ea(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function fa(){fa=function(){};ca.Symbol||(ca.Symbol=ha)}function ia(a,b){this.Nu=a;ba(this,"description",{configurable:!0,writable:!0,value:b})}ia.prototype.toString=function(){return this.Nu};var ha=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ia("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
function ja(){fa();var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ka(ea(this))}});ja=function(){}}function ka(a){ja();a={next:a};a[ca.Symbol.iterator]=function(){return this};return a}
function la(a,b){ja();a instanceof String&&(a+="");var c=0,e={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}da("Array.prototype.keys",function(a){return a?a:function(){return la(this,function(b){return b})}});da("Math.sign",function(a){return a?a:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});
da("Math.hypot",function(a){return a?a:function(b){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var c,e,f;for(c=f=0;c<arguments.length;c++)f=Math.max(f,Math.abs(arguments[c]));if(1E100<f||1E-100>f){if(!f)return f;for(c=e=0;c<arguments.length;c++){var h=Number(arguments[c])/f;e+=h*h}return Math.sqrt(e)*f}for(c=e=0;c<arguments.length;c++)h=Number(arguments[c]),e+=h*h;return Math.sqrt(e)}});var g=this||self;function ma(a){return void 0!==a}
function u(a){return"string"==typeof a}function na(a){return"number"==typeof a}function oa(a,b){a=a.split(".");var c=g;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&ma(b)?c[e]=b:c=c[e]&&c[e]!==Object.prototype[e]?c[e]:c[e]={}}function pa(){}function qa(a){a.ep=void 0;a.Se=function(){return a.ep?a.ep:a.ep=new a}}
function ra(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function sa(a){return"array"==ra(a)}function ta(a){var b=ra(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ua(a){return"function"==ra(a)}function va(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function wa(a){return a[xa]||(a[xa]=++ya)}var xa="closure_uid_"+(1E9*Math.random()>>>0),ya=0;function za(a,b,c){return a.call.apply(a.bind,arguments)}
function Aa(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function Ba(a,b,c){Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return Ba.apply(null,arguments)}
function Ca(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var e=c.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function Da(a,b){for(var c in b)a[c]=b[c]}function v(a,b){function c(){}c.prototype=b.prototype;a.s=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.jA=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
// Copyright 2013 Google Inc.  Apache License 2.0
var w={};w.F=Object(null);function Ea(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ea);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}v(Ea,Error);Ea.prototype.name="CustomError";var Fa;function Ga(a,b){a=a.split("%s");for(var c="",e=a.length-1,f=0;f<e;f++)c+=a[f]+(f<b.length?b[f]:"%s");Ea.call(this,c+a[e])}v(Ga,Ea);Ga.prototype.name="AssertionError";var Ha=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(u(a))return u(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ia=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=u(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(c,f[h],h,a)},Ja=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var c=
a.length,e=[],f=0,h=u(a)?a.split(""):a,k=0;k<c;k++)if(k in h){var l=h[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},Ka=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,e=Array(c),f=u(a)?a.split(""):a,h=0;h<c;h++)h in f&&(e[h]=b.call(void 0,f[h],h,a));return e},La=Array.prototype.reduce?function(a,b,c){return Array.prototype.reduce.call(a,b,c)}:function(a,b,c){var e=c;Ia(a,function(f,h){e=b.call(void 0,e,f,h,a)});return e},Ma=Array.prototype.every?
function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var c=a.length,e=u(a)?a.split(""):a,f=0;f<c;f++)if(f in e&&!b.call(void 0,e[f],f,a))return!1;return!0};function Na(a,b){return 0<=Ha(a,b)}function Oa(a,b){b=Ha(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Pa(a){return Array.prototype.concat.apply([],arguments)}function Qa(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]}
function Ra(a,b,c,e){Array.prototype.splice.apply(a,Sa(arguments,1))}function Sa(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};var Ta=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function Ua(a,b){if(b)a=a.replace(Va,"&amp;").replace(Wa,"&lt;").replace(Xa,"&gt;").replace(Ya,"&quot;").replace(Za,"&#39;").replace($a,"&#0;");else{if(!ab.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Va,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Wa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Xa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ya,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Za,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace($a,"&#0;"))}return a}
var Va=/&/g,Wa=/</g,Xa=/>/g,Ya=/"/g,Za=/'/g,$a=/\x00/g,ab=/[\x00&<>"']/;function bb(a,b){return a<b?-1:a>b?1:0};var cb;a:{var db=g.navigator;if(db){var eb=db.userAgent;if(eb){cb=eb;break a}}cb=""}function fb(a){return-1!=cb.indexOf(a)};function gb(a,b,c){for(var e in a)b.call(c,a[e],e,a)}function hb(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function ib(a){var b={},c;for(c in a)b[c]=a[c];return b}function jb(a){var b=ra(a);if("object"==b||"array"==b){if(ua(a.clone))return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=jb(a[c]);return b}return a}function kb(a){var b={},c;for(c in a)b[a[c]]=c;return b}var lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function mb(a,b){for(var c,e,f=1;f<arguments.length;f++){e=arguments[f];for(c in e)a[c]=e[c];for(var h=0;h<lb.length;h++)c=lb[h],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}}function nb(a){var b=arguments.length;if(1==b&&sa(arguments[0]))return nb.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},e=0;e<b;e+=2)c[arguments[e]]=arguments[e+1];return c}
function ob(a){var b=arguments.length;if(1==b&&sa(arguments[0]))return ob.apply(null,arguments[0]);for(var c={},e=0;e<b;e++)c[arguments[e]]=!0;return c};var pb={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function qb(a,b){this.zq=a===sb&&b||"";this.Pv=tb}qb.prototype.We=!0;qb.prototype.ce=function(){return this.zq};qb.prototype.toString=function(){return"Const{"+this.zq+"}"};function ub(a){return a instanceof qb&&a.constructor===qb&&a.Pv===tb?a.zq:"type_error:Const"}var tb={},sb={};function vb(){this.Pt=""}vb.prototype.We=!0;vb.prototype.ce=function(){return this.Pt.toString()};vb.prototype.xg=function(a){this.Pt=a;return this};(new vb).xg("");function wb(){this.Rt="";this.Qv=xb}wb.prototype.We=!0;wb.prototype.ce=function(){return this.Rt.toString()};wb.prototype.ap=!0;wb.prototype.qh=function(){return 1};var xb={};function yb(){this.Vp="";this.Nv=zb}yb.prototype.We=!0;yb.prototype.ce=function(){return this.Vp.toString()};yb.prototype.ap=!0;yb.prototype.qh=function(){return 1};function Ab(a){if(a instanceof yb&&a.constructor===yb&&a.Nv===zb)return a.Vp;ra(a);return"type_error:SafeUrl"}var Bb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Cb(a){if(a instanceof yb)return a;a="object"==typeof a&&a.We?a.ce():String(a);Bb.test(a)||(a="about:invalid#zClosurez");return Db(a)}var zb={};
function Db(a){var b=new yb;b.Vp=a;return b}Db("about:blank");function Eb(){this.Tp="";this.Mv=Fb}Eb.prototype.We=!0;var Fb={};Eb.prototype.ce=function(){return this.Tp};Eb.prototype.xg=function(a){this.Tp=a;return this};var Gb=(new Eb).xg("");function Hb(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var e=a[c];null!=e&&(e=sa(e)?Ka(e,Ib).join(" "):Ib(e),b+=c+":"+e+";")}return b?(new Eb).xg(b):Gb}
function Ib(a){if(a instanceof yb)return'url("'+Ab(a).toString().replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof qb)a=ub(a);else{a=String(a);var b=a.replace(Jb,"$1").replace(Jb,"$1").replace(Kb,"url");if(Lb.test(b)){if(b=!Mb.test(a)){for(var c=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&c?b=!b:'"'==f&&b&&(c=!c)}b=b&&c&&Nb(a)}a=b?Ob(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new Ga("Value does not allow [{;}], got: %s.",[a]);return a}
function Nb(a){for(var b=!0,c=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!c.test(f))return!1}return b}var Lb=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Kb=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Jb=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Mb=/\/\*/;
function Ob(a){return a.replace(Kb,function(b,c,e,f){var h="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){h=l;return m});b=Cb(e).ce();return c+h+b+h+f})};function Pb(){this.Qt=""}Pb.prototype.We=!0;Pb.prototype.ce=function(){return this.Qt};Pb.prototype.xg=function(a){this.Qt=a;return this};(new Pb).xg("");function Qb(){this.Sp="";this.Lv=Rb;this.qs=null}Qb.prototype.ap=!0;Qb.prototype.qh=function(){return this.qs};Qb.prototype.We=!0;Qb.prototype.ce=function(){return this.Sp.toString()};function Sb(a){if(a instanceof Qb&&a.constructor===Qb&&a.Lv===Rb)return a.Sp;ra(a);return"type_error:SafeHtml"}function Tb(a){if(a instanceof Qb)return a;var b="object"==typeof a,c=null;b&&a.ap&&(c=a.qh());return Ub(Ua(b&&a.We?a.ce():String(a)),c)}
var Vb=/^[a-zA-Z0-9-]+$/,Wb={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Xb={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function Yb(a,b,c){var e=String(a);if(!Vb.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in Xb)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");a=String(a);e=null;var f="<"+a,h="";if(b)for(n in b){if(!Vb.test(n))throw Error('Invalid attribute name "'+n+'".');var k=b[n];if(null!=k){var l=a;var m=n;if(k instanceof qb)k=ub(k);else if("style"==m.toLowerCase()){if(!va(k))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof k+
" given: "+k);k instanceof Eb||(k=Hb(k));k instanceof Eb&&k.constructor===Eb&&k.Mv===Fb?k=k.Tp:(ra(k),k="type_error:SafeStyle")}else{if(/^on/i.test(m))throw Error('Attribute "'+m+'" requires goog.string.Const value, "'+k+'" given.');if(m.toLowerCase()in Wb)if(k instanceof wb)k instanceof wb&&k.constructor===wb&&k.Qv===xb?k=k.Rt:(ra(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof yb)k=Ab(k).toString();else if(u(k))k=Cb(k).ce();else throw Error('Attribute "'+m+'" on tag "'+
l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+k+'" given.');}k.We&&(k=k.ce());m=m+'="'+Ua(String(k))+'"';h+=" "+m}}var n=f+h;null!=c?sa(c)||(c=[c]):c=[];!0===pb[a.toLowerCase()]?n+=">":(c=Zb(c),n+=">"+Sb(c).toString()+"</"+a+">",e=c.qh());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return Ub(n,e)}
function $b(a){function b(h){sa(h)?Ia(h,b):(h=Tb(h),f.push(Sb(h).toString()),h=h.qh(),0==e?e=h:0!=h&&e!=h&&(e=null))}var c=Tb(ac),e=c.qh(),f=[];Ia(a,b);return Ub(f.join(Sb(c).toString()),e)}function Zb(a){return $b(Array.prototype.slice.call(arguments))}var Rb={};function Ub(a,b){return(new Qb).xg(a,b)}Qb.prototype.xg=function(a,b){this.Sp=a;this.qs=b;return this};Ub("<!DOCTYPE html>",0);var ac=Ub("",0),bc=Ub("<br>",0);var cc=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=Sb(ac);return!b.parentElement});function dc(a,b){if(cc())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=Sb(b)}function ec(a,b){dc(a,b)};function fc(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function gc(a){return a=Ua(a,void 0)}function hc(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c=g.document.createElement("div");return a.replace(ic,function(e,f){var h=b[e];if(h)return h;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(h=String.fromCharCode(f)));h||(h=Ub(e+" ",null),dc(c,h),h=c.firstChild.nodeValue.slice(0,-1));return b[e]=h})}
function jc(a){return a.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?b:String.fromCharCode(c)}})}var ic=/&([^;\s<&]+);?/g;function kc(a){kc[" "](a);return a}kc[" "]=pa;function lc(a,b){var c=mc;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var nc=fb("Opera"),x=fb("Trident")||fb("MSIE"),oc=fb("Edge"),pc=fb("Gecko")&&!(-1!=cb.toLowerCase().indexOf("webkit")&&!fb("Edge"))&&!(fb("Trident")||fb("MSIE"))&&!fb("Edge"),z=-1!=cb.toLowerCase().indexOf("webkit")&&!fb("Edge"),qc=z&&fb("Mobile"),rc=fb("Macintosh"),sc=fb("Android"),tc=fb("iPhone")&&!fb("iPod")&&!fb("iPad"),uc=fb("iPad");function vc(){var a=g.document;return a?a.documentMode:void 0}var wc;
a:{var xc="",yc=function(){var a=cb;if(pc)return/rv:([^\);]+)(\)|;)/.exec(a);if(oc)return/Edge\/([\d\.]+)/.exec(a);if(x)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(z)return/WebKit\/(\S+)/.exec(a);if(nc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();yc&&(xc=yc?yc[1]:"");if(x){var zc=vc();if(null!=zc&&zc>parseFloat(xc)){wc=String(zc);break a}}wc=xc}var mc={};
function Ac(a){return lc(a,function(){for(var b=0,c=Ta(String(wc)).split("."),e=Ta(String(a)).split("."),f=Math.max(c.length,e.length),h=0;0==b&&h<f;h++){var k=c[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=bb(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||bb(0==k[2].length,0==l[2].length)||bb(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var Bc;var Cc=g.document;
Bc=Cc&&x?vc()||("CSS1Compat"==Cc.compatMode?parseInt(wc,10):5):void 0;var Dc=!x||9<=Number(Bc),Ec=!pc&&!x||x&&9<=Number(Bc)||pc&&Ac("1.9.1"),Fc=x&&!Ac("9");function Gc(a){return Math.floor(Math.random()*a)}function Hc(a,b,c){return Math.min(Math.max(a,b),c)}function Ic(a,b){a%=b;return 0>a*b?a+b:a}function Jc(a,b){a=Ic(b,360)-Ic(a,360);180<a?a-=360:-180>=a&&(a=360+a);return a}function Kc(a){return La(arguments,function(b,c){return b+c},0)}function Lc(a){return Kc.apply(null,arguments)/arguments.length};function A(a,b){this.x=ma(a)?a:0;this.y=ma(b)?b:0}d=A.prototype;d.clone=function(){return new A(this.x,this.y)};function Mc(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function Nc(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function Oc(a,b){return new A(a.x-b.x,a.y-b.y)}function Pc(a,b){return new A(a.x+b.x,a.y+b.y)}d.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};d.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
d.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};d.translate=function(a,b){a instanceof A?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),na(b)&&(this.y+=b));return this};d.scale=function(a,b){b=na(b)?b:a;this.x*=a;this.y*=b;return this};function Qc(a,b){this.width=a;this.height=b}d=Qc.prototype;d.clone=function(){return new Qc(this.width,this.height)};d.aspectRatio=function(){return this.width/this.height};d.$s=function(){return!(this.width*this.height)};d.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
d.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};d.scale=function(a,b){b=na(b)?b:a;this.width*=a;this.height*=b;return this};function Rc(a){return a?new Sc(Tc(a)):Fa||(Fa=new Sc)}function Uc(a,b,c){a=c||a;if(a.querySelectorAll&&a.querySelector)return a.querySelectorAll("DIV"+(b?"."+b:""));if(b&&a.getElementsByClassName){a=a.getElementsByClassName(b);c={};for(var e=0,f=0,h;h=a[f];f++)"DIV"==h.nodeName&&(c[e++]=h);c.length=e;return c}a=a.getElementsByTagName("DIV");if(b){c={};for(f=e=0;h=a[f];f++){var k=h.className;"function"==typeof k.split&&Na(k.split(/\s+/),b)&&(c[e++]=h)}c.length=e;return c}return a}
function Vc(a,b){gb(b,function(c,e){c&&"object"==typeof c&&c.We&&(c=c.ce());"style"==e?a.style.cssText=c:"class"==e?a.className=c:"for"==e?a.htmlFor=c:Wc.hasOwnProperty(e)?a.setAttribute(Wc[e],c):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,c):a[e]=c})}
var Wc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Xc(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Qc(a.clientWidth,a.clientHeight)}
function Yc(a){var b=Zc(a);a=a.parentWindow||a.defaultView;return x&&Ac("10")&&a.pageYOffset!=b.scrollTop?new A(b.scrollLeft,b.scrollTop):new A(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function Zc(a){return a.scrollingElement?a.scrollingElement:z||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function $c(a,b,c){return ad(document,arguments)}
function ad(a,b){var c=String(b[0]),e=b[1];if(!Dc&&e&&(e.name||e.type)){c=["<",c];e.name&&c.push(' name="',gc(e.name),'"');if(e.type){c.push(' type="',gc(e.type),'"');var f={};mb(f,e);delete f.type;e=f}c.push(">");c=c.join("")}c=a.createElement(c);e&&(u(e)?c.className=e:sa(e)?c.className=e.join(" "):Vc(c,e));2<b.length&&bd(a,c,b,2);return c}
function bd(a,b,c,e){function f(k){k&&b.appendChild(u(k)?a.createTextNode(k):k)}for(;e<c.length;e++){var h=c[e];!ta(h)||va(h)&&0<h.nodeType?f(h):Ia(cd(h)?Qa(h):h,f)}}function dd(a){for(var b;b=a.firstChild;)a.removeChild(b)}function ed(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function fd(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Tc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function gd(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else dd(a),a.appendChild(Tc(a).createTextNode(String(b)))}var hd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},id={IMG:" ",BR:"\n"};function jd(a){return kd(a)&&ld(a)}function md(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}
function kd(a){return x&&!Ac("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}function ld(a){a=a.tabIndex;return na(a)&&0<=a&&32768>a}function nd(a){var b=[];od(a,b,!1);return b.join("")}function od(a,b,c){if(!(a.nodeName in hd))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in id)b.push(id[a.nodeName]);else for(a=a.firstChild;a;)od(a,b,c),a=a.nextSibling}
function cd(a){if(a&&"number"==typeof a.length){if(va(a))return"function"==typeof a.item||"string"==typeof a.item;if(ua(a))return"function"==typeof a.item}return!1}function Sc(a){this.Ud=a||g.document||document}d=Sc.prototype;d.ae=Rc;d.J=function(a){return u(a)?this.Ud.getElementById(a):a};d.getElementsByTagName=function(a,b){return(b||this.Ud).getElementsByTagName(String(a))};d.setProperties=Vc;d.Z=function(a,b,c){return ad(this.Ud,arguments)};d.createElement=function(a){return this.Ud.createElement(String(a))};
d.createTextNode=function(a){return this.Ud.createTextNode(String(a))};d.appendChild=function(a,b){a.appendChild(b)};d.append=function(a,b){bd(Tc(a),a,arguments,1)};d.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
d.Xt=dd;d.removeNode=ed;d.Ff=function(a){return Ec&&void 0!=a.children?a.children:Ja(a.childNodes,function(b){return 1==b.nodeType})};d.contains=fd;
d.Bg=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!kd(a)||ld(a)):jd(a))&&x?(a=!ua(a.getBoundingClientRect)||x&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};
// Copyright 2012 Google Inc.  Apache License 2.0
w.h={};w.h.removeAttribute=function(a,b){x&&Ac("10.0")?a.setAttribute(b,null):a.removeAttribute(b)};w.h.Va=function(a,b){var c=a.getAttribute("class")||"";if(-1!=(" "+c+" ").indexOf(" "+b+" "))return!1;c&&(c+=" ");a.setAttribute("class",c+b);return!0};
w.h.yb=function(a,b){var c=a.getAttribute("class");if(-1==(" "+c+" ").indexOf(" "+b+" "))return!1;c=c.split(/\s+/);for(var e=0;e<c.length;e++)c[e]&&c[e]!=b||(c.splice(e,1),e--);c.length?a.setAttribute("class",c.join(" ")):w.h.removeAttribute(a,"class");return!0};w.h.Os=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};w.h.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};w.h.Ay=function(a){a.preventDefault();a.stopPropagation()};
w.h.Cm=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
w.h.Uc=function(a){var b=new A(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(w.h.Uc.Vv))b.x+=parseFloat(c[1]),c[3]&&(b.y+=parseFloat(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&((c=a.match(w.h.Uc.Tv))||(c=a.match(w.h.Uc.Uv)),c&&(b.x+=parseFloat(c[1]),c[3]&&(b.y+=parseFloat(c[3]))));return b};
w.h.jm=function(a){for(var b=0,c=0;a;){var e=w.h.Uc(a);b+=e.x;c+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new A(b,c)};w.h.Uc.Vv=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;w.h.Uc.Uv=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;w.h.Uc.Tv=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;
w.h.C=function(a,b,c){a=document.createElementNS(w.De,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a};w.h.Eg=function(a){return a.ctrlKey&&rc?!0:2==a.button};w.h.Dk=function(a,b,c){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;c||(c=b.getScreenCTM().inverse());return e.matrixTransform(c)};
w.h.Po=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*w.Uq,y:a.deltaY*w.Uq};case 2:return{x:a.deltaX*w.Zq,y:a.deltaY*w.Zq}}};w.h.rq=function(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0};
w.h.Cw=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||w.h.rq(a);for(var e=0;e<b;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return c;" "==f&&(c=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return c;return b};
w.h.Dw=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||w.h.rq(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return c;" "==f&&(c=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return c;return b};w.h.rz=function(a){return w.h.Bq(a,!0)};w.h.nc=function(a){if("string"!=typeof a)return a;a=w.h.Bq(a,!1);return a.length?a[0]:""};
w.h.Ar=function(a){for(var b=w.g,c=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,e=c.exec(a);e;){var f=e[1];f=f.toUpperCase();"BKY_"!=f.substr(0,4)?console.log("WARNING: Unsupported message table prefix in %{"+e[1]+"}."):void 0==b[f.substr(4)]&&console.log("WARNING: No message string for %{"+e[1]+"}.");a=a.substring(e.index+f.length+1);e=c.exec(a)}};
w.h.Bq=function(a,b){var c=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&c.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&c.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(c.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(f)?(l=f.toUpperCase(),(l=w.h.startsWith(l,
"BKY_")?l.substring(4):null)&&l in w.g?(f=w.g[l],"string"==typeof f?Array.prototype.push.apply(c,w.h.Bq(f,b)):b?c.push(String(f)):c.push(f)):c.push("%{"+f+"}")):c.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&c.push(l);b=[];for(k=a.length=0;k<c.length;++k)"string"==typeof c[k]?a.push(c[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(c[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};w.h.Oe=function(){for(var a=w.h.Oe.ju.length,b=[],c=0;20>c;c++)b[c]=w.h.Oe.ju.charAt(Math.random()*a);return b.join("")};
w.h.Oe.ju="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";w.h.Lu=function(a,b){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=w.h.Cz(a[c],b);return a.join("\n")};
w.h.Cz=function(a,b){if(a.length<=b)return a;for(var c=a.trim().split(/\s+/),e=0;e<c.length;e++)c[e].length>b&&(b=c[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=c.length/f,m=1;for(e=0;e<c.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=w.h.Mu(c,a,b);e=w.h.Gq(c,a,b);a=w.h.Dz(c,a);f++}while(e>h);return k};
w.h.Gq=function(a,b,c){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===b[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=b=0;h<e.length;h++)b-=2*Math.pow(Math.abs(c-e[h]),1.5),b-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?b+=c/3:-1!=",;)]}".indexOf(f[h])&&(b+=c/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
w.h.Mu=function(a,b,c){for(var e=w.h.Gq(a,b,c),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=w.h.Gq(a,k,c);l>e&&(e=l,f=k)}return f?w.h.Mu(a,f,c):b};w.h.Dz=function(a,b){for(var c=[],e=0;e<a.length;e++)c.push(a[e]),void 0!==b[e]&&c.push(b[e]?"\n":" ");return c.join("")};
w.h.Ag=function(){if(void 0!==w.h.Ag.Tn)return w.h.Ag.Tn;if(!g.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in c)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=g.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[e])}document.body.removeChild(a);
w.h.Ag.Tn="none"!==b;return w.h.Ag.Tn};w.h.Ah=function(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)};w.h.$t=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};
w.h.Pk=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};w.h.Is=function(){var a=Xc(),b=pd();return{right:a.width+b.x,bottom:a.height+b.y,top:b.y,left:b.x}};w.h.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};w.h.zj=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};w.h.bl=function(a){return a*Math.PI/180};w.h.qz=function(a){return 180*a/Math.PI};w.h.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)};
w.h.Jo=function(a,b){var c=Object.create(null),e=qd(a,!0);b&&(a=rd(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c};w.h.Vn=function(a,b,c){if(c<a){var e=c;c=a;a=e}return Math.max(a,Math.min(b,c))};var sd=!x||9<=Number(Bc),td=!x||9<=Number(Bc),ud=x&&!Ac("9"),vd="ontouchstart"in g||!!(g.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!g.navigator||!g.navigator.maxTouchPoints&&!g.navigator.msMaxTouchPoints),wd="PointerEvent"in g,xd="MSPointerEvent"in g&&!(!g.navigator||!g.navigator.msPointerEnabled),yd=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{g.addEventListener("test",
pa,b),g.removeEventListener("test",pa,b)}catch(c){}return a}();
// Copyright 2016 Google Inc.  Apache License 2.0
w.Touch={};w.Touch.dl=null;w.Touch.Fe={};g.PointerEvent?w.Touch.Fe={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:vd&&(w.Touch.Fe={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});w.Gm=0;
w.ny=function(a,b){w.Hg();a.changedTouches&&1!=a.changedTouches.length||(w.Gm=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&zd(b,a)},w.zv))};w.Hg=function(){w.Gm&&(clearTimeout(w.Gm),w.Gm=0)};w.Touch.yf=function(){w.Touch.dl=null};w.Touch.tq=function(a){return!w.Touch.ay(a)||w.Touch.ww(a)};
w.Touch.qm=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};w.Touch.ww=function(a){var b=w.Touch.qm(a);return void 0!==w.Touch.dl&&null!==w.Touch.dl?w.Touch.dl==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(w.Touch.dl=b,!0):!1};
w.Touch.cz=function(a){if(w.h.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};w.Touch.ay=function(a){return w.h.startsWith(a.type,"touch")||w.h.startsWith(a.type,"mouse")||w.h.startsWith(a.type,"pointer")};w.Touch.Dm=function(a){return w.h.startsWith(a.type,"touch")||w.h.startsWith(a.type,"pointer")};
w.Touch.gz=function(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};w.j={};w.j.dk="";w.j.dc=!0;w.j.so=0;w.j.wl="create";w.j.mj=w.j.wl;w.j.yn="delete";w.j.ol=w.j.yn;w.j.bh="change";w.j.Fz=w.j.bh;w.j.qj="move";w.j.Jq=w.j.qj;w.j.gr="var_create";w.j.ir="var_delete";w.j.jr="var_rename";w.j.Dl="ui";w.j.ul="comment_create";w.j.Mq="comment_delete";w.j.Lq="comment_change";w.j.vl="comment_move";w.j.dv="finished_loading";w.j.Pu=[w.j.mj,w.j.Jq,w.j.ul,w.j.vl];w.j.oj=[];w.j.U=function(a){w.j.isEnabled()&&(w.j.oj.length||setTimeout(w.j.mx,0),w.j.oj.push(a))};
w.j.mx=function(){for(var a=w.j.filter(w.j.oj,!0),b=w.j.oj.length=0,c;c=a[b];b++){var e=Ad[c.Ob]||null;if(e){var f=c;if(f.dc)for(e.$h.push(f),e.Kk.length=0;e.$h.length>e.Vq&&0<=e.Vq;)e.$h.shift();for(var h=0;c=e.Zc[h];h++)c(f)}}};
w.j.filter=function(a,b){a=a.slice();b||a.reverse();for(var c=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.Oi()){var k=[h.type,h.Qb,h.Ob].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:h,index:f},c.push(h);else if(h.type==w.j.qj&&l.index==f-1)m.Hh=h.Hh,m.Gh=h.Gh,m.Ig=h.Ig,l.index=f;else if(h.type==w.j.bh&&h.element==m.element&&h.name==m.name)m.newValue=h.newValue;else if(h.type!=w.j.Dl||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:h,
index:1},c.push(h)}a=c.filter(function(n){return!n.Oi()});b||a.reverse();for(f=1;h=a[f];f++)h.type==w.j.bh&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};w.j.yw=function(){for(var a=0,b;b=w.j.oj[a];a++)b.dc=!1};w.j.disable=function(){w.j.so++};w.j.enable=function(){w.j.so--};w.j.isEnabled=function(){return 0==w.j.so};w.j.Ib=function(){return w.j.dk};w.j.N=function(a){w.j.dk="boolean"==typeof a?a?w.h.Oe():"":a};
w.j.Gs=function(a){var b=[];a=qd(a,!1);for(var c=0,e;e=a[c];c++)b[c]=e.id;return b};
w.j.la=function(a){switch(a.type){case w.j.wl:var b=new Bd(null);break;case w.j.yn:b=new Cd(null);break;case w.j.bh:b=new Dd(null,"","","","");break;case w.j.qj:b=new Ed(null);break;case w.j.gr:b=new Fd(null);break;case w.j.ir:b=new Gd(null);break;case w.j.jr:b=new Hd(null,"");break;case w.j.Dl:b=new Id(null);break;case w.j.ul:b=new Jd(null);break;case w.j.Lq:b=new Kd(null);break;case w.j.vl:b=new Ld(null);break;case w.j.Mq:b=new Md(null);break;default:throw Error("Unknown event type.");}b.la(a);
b.Ob=(void 0).id;return b};w.j.rs=function(a){if(a.type==w.j.qj||a.type==w.j.wl){var b=Ad[a.Ob]||null;if(a=Nd(b,a.Qb))if(a.getParent()&&!a.getParent().disabled){b=qd(a,!1);a=0;for(var c;c=b[a];a++)c.rd(!1)}else if((a.M||a.T)&&!b.Kb()){do a.rd(!0),a=rd(a);while(a)}}};
// Copyright 2018 Google Inc.  Apache License 2.0
function Od(){this.Ob=void 0;this.group=w.j.dk;this.dc=w.j.dc}Od.prototype.Aa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};Od.prototype.la=function(a){this.group=a.group};Od.prototype.Oi=function(){return!1};Od.prototype.run=function(){};function Pd(a){a=Ad[a.Ob]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};function Qd(a){Qd.s.constructor.call(this);this.Zg=a.$();this.Ob=a.o.id}v(Qd,Od);Qd.prototype.Aa=function(){var a=Qd.s.Aa.call(this);a.varId=this.Zg;return a};Qd.prototype.la=function(a){Qd.s.Aa.call(this);this.Zg=a.varId};function Fd(a){a&&(Fd.s.constructor.call(this,a),this.di=a.type,this.ci=a.name)}v(Fd,Qd);Fd.prototype.type=w.j.gr;Fd.prototype.Aa=function(){var a=Fd.s.Aa.call(this);a.varType=this.di;a.varName=this.ci;return a};
Fd.prototype.la=function(a){Fd.s.la.call(this,a);this.di=a.varType;this.ci=a.varName};Fd.prototype.run=function(a){var b=Pd(this);a?b.Pc(this.ci,this.di,this.Zg):b.Je(this.Zg)};function Gd(a){a&&(Gd.s.constructor.call(this,a),this.di=a.type,this.ci=a.name)}v(Gd,Qd);Gd.prototype.type=w.j.ir;Gd.prototype.Aa=function(){var a=Gd.s.Aa.call(this);a.varType=this.di;a.varName=this.ci;return a};Gd.prototype.la=function(a){Gd.s.la.call(this,a);this.di=a.varType;this.ci=a.varName};
Gd.prototype.run=function(a){var b=Pd(this);a?b.Je(this.Zg):b.Pc(this.ci,this.di,this.Zg)};function Hd(a,b){a&&(Hd.s.constructor.call(this,a),this.Dp=a.name,this.zp=b)}v(Hd,Qd);Hd.prototype.type=w.j.jr;Hd.prototype.Aa=function(){var a=Hd.s.Aa.call(this);a.oldName=this.Dp;a.newName=this.zp;return a};Hd.prototype.la=function(a){Hd.s.la.call(this,a);this.Dp=a.oldName;this.zp=a.newName};Hd.prototype.run=function(a){var b=Pd(this);a?b.Nh(this.Zg,this.zp):b.Nh(this.Zg,this.Dp)};
// Copyright 2017 Google Inc.  Apache License 2.0
function Rd(a){this.ya={};this.o=a}d=Rd.prototype;d.clear=function(){this.ya=Object(null)};d.Zm=function(a,b){var c=this.lc(b,a.type),e=B(this.o,!1);w.j.N(!0);try{if(c&&c.$()!=a.$()){var f=a.type;b!=c.name&&Sd(c,b,e);for(b=0;b<e.length;b++)e[b].Mk(a.$(),c.$());w.j.U(new Gd(a));this.ya[f].splice(this.ck(f).indexOf(a),1)}else Sd(a,b,e)}finally{w.j.N(!1)}};d.Nh=function(a,b){var c=this.qe(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Zm(c,b)};
function Sd(a,b,c){w.j.U(new Hd(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].rn(a)}d.Pc=function(a,b,c){var e=this.lc(a,b);if(e){if(c&&e.$()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+e.$()+'" which conflicts with the passed in id, "'+c+'".');return e}if(c&&this.qe(c))throw Error('Variable id, "'+c+'", is already in use.');c=c||w.h.Oe();b=b||"";e=new Td(this.o,a,b,c);this.ya[b]?this.ya[b].push(e):this.ya[b]=[e];return e};
d.Je=function(a){var b=this.qe(a);if(b){var c=b.name,e=this.So(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=C(f,"NAME");c=w.g.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);w.alert(c);return}var h=this;1<e.length?(c=w.g.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",c),w.confirm(c,function(k){k&&h.Wl(b,e)})):h.Wl(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
d.Wl=function(a,b){var c=w.j.Ib();c||w.j.N(!0);try{for(var e=0;e<b.length;e++)b[e].B(!0,!1);var f=this.ya[a.type];b=0;for(var h;h=f[b];b++)if(h.$()==a.$()){f.splice(b,1);w.j.U(new Gd(a));break}}finally{c||w.j.N(!1)}};d.lc=function(a,b){if(b=this.ya[b||""])for(var c=0,e;e=b[c];c++)if(Ud(e.name,a))return e;return null};d.qe=function(a){for(var b=Object.keys(this.ya),c=0;c<b.length;c++)for(var e=b[c],f=0,h;h=this.ya[e][f];f++)if(h.$()==a)return h;return null};
d.ck=function(a){return(a=this.ya[a||""])?a.slice():[]};d.Ro=function(){for(var a=Object.keys(this.ya),b=!1,c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};d.Qe=function(){for(var a=[],b=Object.keys(this.ya),c=0;c<b.length;c++)a=a.concat(this.ya[b[c]]);return a};d.So=function(a){for(var b=[],c=B(this.o,!1),e=0;e<c.length;e++){var f=c[e].If();if(f)for(var h=0;h<f.length;h++)f[h].$()==a&&b.push(c[e])}return b};w.w={};w.w.h={};w.w.h.createElement=function(a){return document.createElement(a)};w.w.h.createTextNode=function(a){return document.createTextNode(a)};w.w.h.mz=function(a){return(new DOMParser).parseFromString(a,"text/xml")};w.w.h.Rc=function(a){return(new XMLSerializer).serializeToString(a)};function Vd(a){Vd.s.constructor.call(this);this.Qb=a.id;this.Ob=a.o.id}v(Vd,Od);Vd.prototype.Aa=function(){var a=Vd.s.Aa.call(this);a.blockId=this.Qb;return a};Vd.prototype.la=function(a){Vd.s.Aa.call(this);this.Qb=a.blockId};function Dd(a,b,c,e,f){a&&(Dd.s.constructor.call(this,a),this.element=b,this.name=c,this.oldValue=e,this.newValue=f)}v(Dd,Vd);w.j.hd=Dd;d=Dd.prototype;d.type=w.j.bh;
d.Aa=function(){var a=Dd.s.Aa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};d.la=function(a){Dd.s.la.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};d.Oi=function(){return this.oldValue==this.newValue};
d.run=function(a){var b=Nd(Pd(this),this.Qb);if(b)switch(b.$c&&b.$c.sa(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=Wd(b,this.name))?(Xd(b,a),b.setValue(a)):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Qf(a||null);break;case "collapsed":b.Sg(a);break;case "disabled":b.rd(a);break;case "inline":b.gc(a);break;case "mutation":var c="";b.Da&&(c=(c=b.Da())&&w.w.Rc(c));if(b.Ya){a=a||"<mutation></mutation>";var e=w.w.dd("<xml>"+a+"</xml>");b.Ya(e.firstChild)}w.j.U(new Dd(b,
"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Qb)};function Bd(a){a&&(Bd.s.constructor.call(this,a),this.xml=a.o.O?w.w.Qn(a):w.w.lg(a),this.vg=w.j.Gs(a))}v(Bd,Vd);w.j.tl=Bd;Bd.prototype.type=w.j.wl;Bd.prototype.Aa=function(){var a=Bd.s.Aa.call(this);a.xml=w.w.Rc(this.xml);a.ids=this.vg;return a};
Bd.prototype.la=function(a){Bd.s.la.call(this,a);this.xml=w.w.dd("<xml>"+a.xml+"</xml>").firstChild;this.vg=a.ids};Bd.prototype.run=function(a){var b=Pd(this);if(a)a=w.w.h.createElement("xml"),a.appendChild(this.xml),w.w.Ke(a,b);else{a=0;for(var c;c=this.vg[a];a++){var e=Nd(b,c);e?e.B(!1,!1):c==this.Qb&&console.warn("Can't uncreate non-existent block: "+c)}}};
function Cd(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");Cd.s.constructor.call(this,a);this.yt=a.o.O?w.w.Qn(a):w.w.lg(a);this.vg=w.j.Gs(a)}}v(Cd,Vd);w.j.Kq=Cd;Cd.prototype.type=w.j.yn;Cd.prototype.Aa=function(){var a=Cd.s.Aa.call(this);a.ids=this.vg;return a};Cd.prototype.la=function(a){Cd.s.la.call(this,a);this.vg=a.ids};
Cd.prototype.run=function(a){var b=Pd(this);if(a){a=0;for(var c;c=this.vg[a];a++){var e=Nd(b,c);e?e.B(!1,!1):c==this.Qb&&console.warn("Can't delete non-existent block: "+c)}}else a=w.w.h.createElement("xml"),a.appendChild(this.yt),w.w.Ke(a,b)};function Ed(a){a&&(Ed.s.constructor.call(this,a),a=Yd(this),this.wt=a.Jt,this.vt=a.Ws,this.Bp=a.Pr)}v(Ed,Vd);w.j.nj=Ed;d=Ed.prototype;d.type=w.j.qj;
d.Aa=function(){var a=Ed.s.Aa.call(this);this.Hh&&(a.newParentId=this.Hh);this.Gh&&(a.newInputName=this.Gh);this.Ig&&(a.newCoordinate=Math.round(this.Ig.x)+","+Math.round(this.Ig.y));return a};d.la=function(a){Ed.s.la.call(this,a);this.Hh=a.newParentId;this.Gh=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Ig=new A(parseFloat(a[0]),parseFloat(a[1])))};d.Mf=function(){var a=Yd(this);this.Hh=a.Jt;this.Gh=a.Ws;this.Ig=a.Pr};
function Yd(a){var b=Nd(Ad[a.Ob]||null,a.Qb);a={};var c=b.getParent();if(c){a.Jt=c.id;a:{for(var e=0,f;f=c.S[e];e++)if(f.connection&&D(f.connection)==b){b=f;break a}b=null}b&&(a.Ws=b.name)}else a.Pr=b.wa();return a}d.Oi=function(){return this.wt==this.Hh&&this.vt==this.Gh&&Mc(this.Bp,this.Ig)};
d.run=function(a){var b=Pd(this),c=Nd(b,this.Qb);if(c){var e=a?this.Hh:this.wt,f=a?this.Gh:this.vt;a=a?this.Ig:this.Bp;var h=null;if(e&&(h=Nd(b,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}c.getParent()&&Zd(c);if(a)f=c.wa(),c.moveBy(a.x-f.x,a.y-f.y);else{c=c.M||c.T;if(f){if(b=E(h,f))var k=b.connection}else c.type==w.fg&&(k=h.L);k?c.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Qb)};
// Copyright 2019 Google Inc.  Apache License 2.0
function $d(a){this.Ob=a.id;this.group=w.j.dk;this.dc=!1}v($d,Od);$d.prototype.type=w.j.dv;$d.prototype.Aa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Ob&&(a.workspaceId=this.Ob);return a};$d.prototype.la=function(a){this.Ob=a.workspaceId;this.group=a.group};w.w.Fq=function(a,b){var c=w.w.h.createElement("xml"),e=w.w.Az(w.G.mr(a));e.hasChildNodes()&&c.appendChild(e);var f=ae(a,!0);e=0;for(var h;h=f[e];e++)c.appendChild(h.cl(b));a=be(a,!0);for(e=0;f=a[e];e++)c.appendChild(w.w.Qn(f,b));return c};w.w.Az=function(a){for(var b=w.w.h.createElement("variables"),c=0,e;e=a[c];c++){var f=w.w.h.createElement("variable");f.appendChild(w.w.h.createTextNode(e.name));f.setAttribute("type",e.type);f.setAttribute("id",e.$());b.appendChild(f)}return b};
w.w.Qn=function(a,b){var c;a.o.u&&(c=a.o.zc());b=w.w.lg(a,b);var e=a.wa();b.setAttribute("x",Math.round(a.o.u?c-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};w.w.jx=function(a){null==a.getValue()&&(a.zh(),a.getValue());var b=a.lc();if(!b)throw Error("Tried to serialize a variable field with no variable.");var c=w.w.h.createElement("field");c.appendChild(w.w.h.createTextNode(b.name));c.setAttribute("name",a.name);c.setAttribute("id",b.$());c.setAttribute("variabletype",b.type);return c};
w.w.kx=function(a){var b=!1;a.name&&(a.gg?b=!0:a.dh&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));if(b){if(a.Lh())return w.w.jx(a);b=w.w.h.createElement("field");b.appendChild(w.w.h.createTextNode(a.getValue()));b.setAttribute("name",a.name);return b}return null};w.w.$v=function(a,b){for(var c=0,e;e=a.S[c];c++)for(var f=0,h;h=e.Ha[f];f++)(h=w.w.kx(h))&&b.appendChild(h)};
w.w.lg=function(a,b){var c=w.w.h.createElement(a.Oa?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.Da){var e=a.Da();e&&(e.hasChildNodes()||e.hasAttributes())&&c.appendChild(e)}w.w.$v(a,c);var f=a.gm();f&&(e=w.w.h.createElement("comment"),e.appendChild(w.w.h.createTextNode(f)),"object"==typeof a.Xa&&(e.setAttribute("pinned",a.Xa.isVisible()),f=a.Xa.ph(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),c.appendChild(e));a.data&&(e=w.w.h.createElement("data"),
e.appendChild(w.w.h.createTextNode(a.data)),c.appendChild(e));f=0;for(var h;h=a.S[f];f++){var k,l=!0;if(h.type!=w.pf){var m=D(h.connection);h.type==w.Na?k=w.w.h.createElement("value"):h.type==w.ab&&(k=w.w.h.createElement("statement"));e=h.connection.ze;!e||m&&m.Oa||k.appendChild(w.w.Er(e));m&&(k.appendChild(w.w.lg(m,b)),l=!1);k.setAttribute("name",h.name);l||c.appendChild(k)}}a.Zx!=a.zg&&c.setAttribute("inline",a.zg);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.disabled&&c.setAttribute("disabled",
!0);a.mc()||a.Oa||c.setAttribute("deletable",!1);a.Lb()||a.Oa||c.setAttribute("movable",!1);ce(a)||c.setAttribute("editable",!1);if(f=rd(a))k=w.w.h.createElement("next"),k.appendChild(w.w.lg(f,b)),c.appendChild(k);e=a.L&&a.L.ze;!e||f&&f.Oa||k.appendChild(w.w.Er(e));return c};
w.w.Er=function(a){for(var b=a=a.cloneNode(!0),c;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)c=b,b=b.parentNode,3==c.nodeType&&""==c.data.trim()&&b.firstChild!=c&&w.h.removeNode(c);b&&(c=b,b=b.nextSibling,3==c.nodeType&&""==c.data.trim()&&w.h.removeNode(c))}return a};w.w.Rc=function(a){return w.w.h.Rc(a)};
w.w.oA=function(a){a=w.w.Rc(a).split("<");for(var b="",c=1;c<a.length;c++){var e=a[c];"/"==e[0]&&(b=b.substring(2));a[c]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};w.w.dd=function(a){a=w.w.h.mz(a);if(!a||!a.documentElement||"xml"!=a.documentElement.nodeName.toLowerCase())throw TypeError("Blockly.Xml.textToDom expected an <xml> document.");return a.documentElement};
w.w.lA=function(a,b){b.hc(!1);b.clear();a=w.w.Ke(a,b);b.hc(!0);return a};
w.w.Ke=function(a,b){if(a instanceof de){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.u&&(e=b.zc());c=[];ee();var f=a.childNodes.length,h=w.j.Ib();h||w.j.N(!0);b.hc&&b.hc(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],n=m.nodeName.toLowerCase();if("block"==n||"shadow"==n&&!w.j.dc){var p=w.w.Ai(m,b);c.push(p.id);var t=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,r=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(t)||isNaN(r)||p.moveBy(b.u?e-t:t,r);k=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)if(b.O)fe(m,b,e);else{var q=m,y=b,L=ge(q),R=new he(y,L.content,L.Ls,L.Hu,L.id),aa=parseInt(q.getAttribute("x"),10),rb=parseInt(q.getAttribute("y"),10);isNaN(aa)||isNaN(rb)||R.moveBy(aa,rb);ie(R)}else if("variables"==n){if(k)w.w.gx(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||w.j.N(!1),je()}b.hc&&b.hc(!0);w.j.U(new $d(b));return c};w.w.iA=function(a,b){if(b.hasOwnProperty("scale")){var c=F;try{F=0;var e=ke(b)}finally{F=c}}a=w.w.Ke(a,b);if(e&&e.height){c=e.y+e.height;var f=e.x;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=Nd(b,a[e]).wa();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}c=c-k+10;f-=h;var m;b.u&&(m=b.zc());for(e=0;e<a.length;e++)Nd(b,a[e]).moveBy(b.u?m-f:f,c)}return a};
w.w.Ai=function(a,b){if(a instanceof de){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}w.j.disable();c=b.Qe();try{var e=w.w.xo(a,b),f=qd(e,!1);if(b.O){le(e,!0);for(var h=f.length-1;0<=h;h--)f[h].Bc();for(h=f.length-1;0<=h;h--)f[h].ea(!1);setTimeout(function(){e.o&&le(e,!1)},1);me(e);ne(b)}else for(h=f.length-1;0<=h;h--)f[h].zh()}finally{w.j.enable()}if(w.j.isEnabled()){a=w.G.Fs(b,c);for(h=0;h<a.length;h++)w.j.U(new Fd(a[h]));w.j.U(new w.j.tl(e))}return e};
w.w.gx=function(a,b){for(var c=0,e;e=a.childNodes[c];c++)if(e.nodeType==Element.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");e=e.textContent;if(null==f)throw Error("Variable with id, "+h+" is without a type");b.Pc(e,f,h)}};
w.w.xo=function(a,b){var c=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");c=b.Ze(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,m=0,n;n=k.childNodes[m];m++)1==n.nodeType&&("block"==n.nodeName.toLowerCase()?h=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":c.Ya&&(c.Ya(k),c.Bc&&c.Bc());break;case "comment":c.Qf(k.textContent);
var p=k.getAttribute("pinned");p&&!c.xb&&setTimeout(function(){c.Xa&&c.Xa.sa&&c.Xa.sa("true"==p)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&c.Xa&&c.Xa.sa&&c.Xa.Rg(h,k);break;case "data":c.data=k.textContent;break;case "title":case "field":w.w.ex(c,m,k);break;case "value":case "statement":k=E(c,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.ze=l);if(h)if(h=w.w.xo(h,b),h.M)k.connection.connect(h.M);
else if(h.T)k.connection.connect(h.T);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&c.L&&(c.L.ze=l);if(h){if(!c.L)throw TypeError("Next statement does not exist.");if(c.L.isConnected())throw TypeError("Next statement is already connected.");h=w.w.xo(h,b);if(!h.T)throw TypeError("Next block does not have previous statement.");c.L.connect(h.T)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&c.gc("true"==
f);(f=a.getAttribute("disabled"))&&c.rd("true"==f||"disabled"==f);(f=a.getAttribute("deletable"))&&c.iq("true"==f);(f=a.getAttribute("movable"))&&c.Ph("true"==f);(f=a.getAttribute("editable"))&&c.jq("true"==f);(f=a.getAttribute("collapsed"))&&c.Sg("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=c.Ff(!1);for(f=0;b=a[f];f++)if(!b.Oa)throw TypeError("Shadow block not allowed non-shadow child.");if(c.If().length)throw TypeError("Shadow blocks cannot have variable references.");c.oq(!0)}return c};
w.w.bx=function(a,b,c,e){var f=b.getAttribute("variabletype")||"";"''"==f&&(f="");a=w.G.mm(a,b.id,c,f);if(null!=f&&f!==a.type)throw Error("Serialized variable type with id '"+a.$()+"' had type "+a.type+", and does not match variable field that references it: "+w.w.Rc(b)+".");e.setValue(a.$())};w.w.ex=function(a,b,c){var e=Wd(a,b);e?(a=a.o,b=c.textContent,e.Lh()?w.w.bx(a,c,b,e):e.setValue(b)):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};
w.w.Ww=function(a){for(var b=0,c;c=a.childNodes[b];b++)if("next"==c.nodeName.toLowerCase()){a.removeChild(c);break}};g.Blockly||(g.Blockly={});g.Blockly.Xml||(g.Blockly.Xml={});g.Blockly.Xml.domToText=w.w.Rc;g.Blockly.Xml.domToWorkspace=w.w.Ke;g.Blockly.Xml.textToDom=w.w.dd;g.Blockly.Xml.workspaceToDom=w.w.Fq;function oe(a){this.He=a.id;this.Ob=a.o.id;this.group=w.j.dk;this.dc=w.j.dc}v(oe,Od);oe.prototype.Aa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.He&&(a.commentId=this.He);return a};oe.prototype.la=function(a){this.He=a.commentId;this.group=a.group};function Kd(a,b,c){a&&(Kd.s.constructor.call(this,a),this.ut=b,this.Om=c)}v(Kd,oe);d=Kd.prototype;d.type=w.j.Lq;d.Aa=function(){var a=Kd.s.Aa.call(this);a.newContents=this.Om;return a};
d.la=function(a){Kd.s.la.call(this,a);this.Om=a.newValue};d.Oi=function(){return this.ut==this.Om};d.run=function(a){var b=pe(Pd(this),this.He);b?b.cf(a?this.Om:this.ut):console.warn("Can't change non-existent comment: "+this.He)};function Jd(a){a&&(Jd.s.constructor.call(this,a),this.xml=a.cl())}v(Jd,oe);Jd.prototype.type=w.j.ul;Jd.prototype.Aa=function(){var a=Jd.s.Aa.call(this);a.xml=w.w.Rc(this.xml);return a};Jd.prototype.la=function(a){Jd.s.la.call(this,a);this.xml=w.w.dd("<xml>"+a.xml+"</xml>").firstChild};
Jd.prototype.run=function(a){w.j.Pq(this,a)};w.j.Pq=function(a,b){var c=Pd(a);b?(b=w.w.h.createElement("xml"),b.appendChild(a.xml),w.w.Ke(b,c)):(c=pe(c,a.He))?c.B(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.He)};function Md(a){a&&(Md.s.constructor.call(this,a),this.xml=a.cl())}v(Md,oe);Md.prototype.type=w.j.Mq;Md.prototype.Aa=function(){return Md.s.Aa.call(this)};Md.prototype.la=function(a){Md.s.la.call(this,a)};Md.prototype.run=function(a){w.j.Pq(this,!a)};
function Ld(a){a&&(Ld.s.constructor.call(this,a),this.ao=a,this.Cp=a.Ld.clone(),this.Fh=null)}v(Ld,oe);d=Ld.prototype;d.Mf=function(){if(!this.ao)throw Error("Tried to record the new position of a comment on the same event twice.");this.Fh=this.ao.Ld.clone();this.ao=null};d.type=w.j.vl;d.Aa=function(){var a=Ld.s.Aa.call(this);this.Fh&&(a.newCoordinate=Math.round(this.Fh.x)+","+Math.round(this.Fh.y));return a};
d.la=function(a){Ld.s.la.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Fh=new A(parseFloat(a[0]),parseFloat(a[1])))};d.Oi=function(){return Mc(this.Cp,this.Fh)};d.run=function(a){var b=pe(Pd(this),this.He);if(b){a=a?this.Fh:this.Cp;var c=b.Ld.clone();b.moveBy(a.x-c.x,a.y-c.y)}else console.warn("Can't move non-existent comment: "+this.He)};function he(a,b,c,e,f){this.id=f&&!pe(a,f)?f:w.h.Oe();a.fj.push(this);a.Rl[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Rl[this.id]=this;this.Ld=new A(0,0);this.ua=c;this.ka=e;this.o=a;this.u=a.u;this.Ek=this.Nj=!0;this.yc=b;this.hp=!0;ie(this)}d=he.prototype;
d.B=function(){if(this.o){w.j.isEnabled()&&w.j.U(new Md(this));var a=this.o;if(!w.h.zj(a.fj,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Rl[this.id];this.o=null}};d.Fi=function(){return this.ua};d.zc=function(){return this.ka};d.moveBy=function(a,b){var c=new Ld(this);this.Ld.translate(a,b);c.Mf();w.j.U(c)};d.mc=function(){return this.Nj&&!(this.o&&this.o.options.readOnly)};d.iq=function(a){this.Nj=a};d.Lb=function(){return this.Ek&&!(this.o&&this.o.options.readOnly)};
d.Ph=function(a){this.Ek=a};d.pg=function(){return this.yc};d.cf=function(a){this.yc!=a&&(w.j.U(new Kd(this,this.yc,a)),this.yc=a)};d.cl=function(a){a=qe(this,a);a.setAttribute("x",Math.round(this.Ld.x));a.setAttribute("y",Math.round(this.Ld.y));a.setAttribute("h",this.ua);a.setAttribute("w",this.ka);return a};function qe(a,b){var c=w.w.h.createElement("comment");b||c.setAttribute("id",a.id);c.textContent=a.pg();return c}
function ie(a){if(w.j.isEnabled()){var b=w.j.Ib();b||w.j.N(!0);try{w.j.U(new Jd(a))}finally{b||w.j.N(!1)}}}function ge(a){var b=a.getAttribute("h"),c=a.getAttribute("w");return{id:a.getAttribute("id"),Ls:b?parseInt(b,10):100,Hu:c?parseInt(c,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function de(a){this.id=w.h.Oe();Ad[this.id]=this;this.options=a||{};this.u=!!this.options.u;this.od=!!this.options.od;this.na=this.options.na;this.ej=[];this.fj=[];this.Rl=Object.create(null);this.Zc=[];this.$h=[];this.Kk=[];this.Pn=Object.create(null);this.Yf=Object.create(null);this.ya=new Rd(this);this.Yi=null}d=de.prototype;d.O=!1;d.gp=!1;d.Vq=1024;d.B=function(){this.Zc.length=0;this.clear();delete Ad[this.id]};
d.ff=function(a,b){a=a.wa();b=b.wa();return a.y+de.prototype.ff.offset*a.x-(b.y+de.prototype.ff.offset*b.x)};function re(a,b){if(!w.h.zj(a.ej,b))throw Error("Block not present in workspace's list of top-most blocks.");}function be(a,b){var c=[].concat(a.ej);b&&1<c.length&&(a.ff.offset=Math.sin(w.h.bl(3)),a.u&&(a.ff.offset*=-1),c.sort(a.ff));return c}function ae(a,b){var c=[].concat(a.fj);b&&1<c.length&&(a.ff.offset=Math.sin(w.h.bl(3)),a.u&&(a.ff.offset*=-1),c.sort(a.ff));return c}
function B(a,b){if(b){a=be(a,!0);b=[];for(var c=0;c<a.length;c++)b.push.apply(b,qd(a[c],!0))}else for(b=be(a,!1),c=0;c<b.length;c++)b.push.apply(b,b[c].Ff(!1));return b.filter(function(e){return!e.te})}d.clear=function(){this.gp=!0;try{var a=w.j.Ib();for(a||w.j.N(!0);this.ej.length;)this.ej[0].B();for(;this.fj.length;)this.fj[this.fj.length-1].B();a||w.j.N(!1);this.ya.clear();this.Yi&&this.Yi.clear()}finally{this.gp=!1}};d.Nh=function(a,b){this.ya.Nh(a,b)};
d.Pc=function(a,b,c){return this.ya.Pc(a,b,c)};d.So=function(a){return this.ya.So(a)};d.Je=function(a){this.ya.Je(a)};d.Wl=function(a,b){this.ya.Wl(a,b)};d.lc=function(a,b){return this.ya.lc(a,b)};d.qe=function(a){return this.ya.qe(a)};d.ck=function(a){return this.ya.ck(a)};d.Ro=function(){return this.ya.Ro()};d.Qe=function(){return this.ya.Qe()};d.zc=function(){return 0};d.Ze=function(a,b){return new se(this,a,b)};function te(a){return isNaN(a.options.tp)?Infinity:a.options.tp-B(a).length}
function ue(a,b){if(!ve(a))return!0;var c=0,e;for(e in b){var f=b[e];if(a.options.up){var h=a.options.up[e]||Infinity;var k=a.Yf[e]?a.Yf[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;c+=b[e]}return c>te(a)?!1:!0}function ve(a){return Infinity!=a.options.tp||!!a.options.up}
d.Dq=function(a){var b=a?this.Kk:this.$h,c=a?this.$h:this.Kk,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)c.push(e);f=w.j.filter(f,a);w.j.dc=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{w.j.dc=!0}}};d.Xn=function(){this.$h.length=0;this.Kk.length=0;w.j.yw()};d.Nc=function(a){this.Zc.push(a);return a};d.Ng=function(a){w.h.zj(this.Zc,a)};function Nd(a,b){return a.Pn[b]||null}function pe(a,b){return a.Rl[b]||null}var Ad=Object.create(null);
function we(){var a=[],b;for(b in Ad)a.push(Ad[b]);return a}de.prototype.clear=de.prototype.clear;de.prototype.clearUndo=de.prototype.Xn;de.prototype.addChangeListener=de.prototype.Nc;de.prototype.removeChangeListener=de.prototype.Ng;function xe(a,b,c,e,f,h){this.m=a;this.yc=b;this.gu=c;c=ye;this.m.u&&(c=-c);this.dw=w.h.bl(c);a.Hd.appendChild(this.Ij(b,!(!f||!h)));this.ub=e;this.Pg&&ze(this);f&&h||(b=this.yc.getBBox(),f=b.width+2*Ae,h=b.height+2*Ae);this.Rg(f,h);ze(this);Be(this);this.Pg=!0;a.options.readOnly||(w.R(this.Aj,"mousedown",this,this.mw),this.Vb&&w.R(this.Vb,"mousedown",this,this.Zp))}var Ae=6,ye=20,Ce=null,De=null;d=xe.prototype;d.Yp=null;function Ee(){Ce&&(w.Ea(Ce),Ce=null);De&&(w.Ea(De),De=null)}
function Fe(){w.Touch.yf();Ee()}d.Pg=!1;d.ub=null;d.Nf=0;d.Mg=0;d.ka=0;d.ua=0;d.Hl=!0;
d.Ij=function(a,b){this.yd=w.h.C("g",{},null);var c={filter:"url(#"+this.m.options.ys+")"};-1!=cb.indexOf("JavaFX")&&(c={});c=w.h.C("g",c,this.yd);this.Rn=w.h.C("path",{},c);this.Aj=w.h.C("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Ae,ry:Ae},c);b?(this.Vb=w.h.C("g",{"class":this.m.u?"blocklyResizeSW":"blocklyResizeSE"},this.yd),b=2*Ae,w.h.C("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.Vb),w.h.C("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.Vb),w.h.C("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.Vb)):this.Vb=null;this.yd.appendChild(a);return this.yd};d.Y=function(){return this.yd};function Ge(a,b){a.yd.dataset&&(a.yd.dataset.Qb=b)}d.mw=function(a){var b=this.m.Re(a);b&&He(b,a,this)};d.dj=function(){};d.mc=function(){return!1};d.Zp=function(a){Ie(this);Ee();w.h.Eg(a)||(this.m.ln(a,new A(this.m.u?-this.ka:this.ka,this.ua)),Ce=w.R(document,"mouseup",this,Fe),De=w.R(document,"mousemove",this,this.$p),w.$b());a.stopPropagation()};
d.$p=function(a){this.Hl=!1;a=Je(this.m,a);this.Rg(this.m.u?-a.x:a.x,a.y);this.m.u&&ze(this)};function Ie(a){var b=a.yd.parentNode;return b.lastChild!==a.yd?(b.appendChild(a.yd),!0):!1}function Ke(a,b,c){var e=a.m.u?a.ub.x-b.x-a.ka:b.x+a.ub.x;b=b.y+a.ub.y;return Math.max(0,Math.min(1,(Math.min(e+a.ka,c.pb+c.Ba)-Math.max(e,c.pb))*(Math.min(b+a.ua,c.Cb+c.Fa)-Math.max(b,c.Cb))/(a.ka*a.ua)))}function ze(a){var b=a.ub.x;b=a.m.u?b-(a.Nf+a.ka):b+a.Nf;a.moveTo(b,a.Mg+a.ub.y)}
d.moveTo=function(a,b){this.yd.setAttribute("transform","translate("+a+","+b+")")};d.ph=function(){return{width:this.ka,height:this.ua}};
d.Rg=function(a,b){var c=2*Ae;a=Math.max(a,c+45);b=Math.max(b,c+20);this.ka=a;this.ua=b;this.Aj.setAttribute("width",a);this.Aj.setAttribute("height",b);this.Vb&&(this.m.u?this.Vb.setAttribute("transform","translate("+2*Ae+","+(b-c)+") scale(-1 1)"):this.Vb.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.Pg){if(this.Hl){a=this.m.qb();a.pb/=this.m.scale;a.Ba/=this.m.scale;a.Cb/=this.m.scale;a.Fa/=this.m.scale;b=-this.ka/4;if(!(this.ka>a.Ba)){if(this.m.u){c=this.ub.x-b;var e=c-this.ka;
var f=a.pb+a.Ba,h=a.pb+G/this.m.scale}else e=b+this.ub.x,c=e+this.ka,h=a.pb,f=a.pb+a.Ba-G/this.m.scale;this.m.u?e<h?b=-(h-this.ub.x+this.ka):c>f&&(b=-(f-this.ub.x)):e<h?b=h-this.ub.x:c>f&&(b=f-this.ub.x-this.ka)}e=b;b=-this.ua/4;if(!(this.ua>a.Fa)){c=this.ub.y+b;f=c+this.ua;h=a.Cb;var k=a.Cb+a.Fa-G/this.m.scale,l=this.ub.y;c<h?b=h-l:f>k&&(b=k-l-this.ua)}h=b;f=this.gu.getBBox();b={x:e,y:-this.ua-25};c={x:-this.ka-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=f.width<f.height?h:k;f=f.width<f.height?
k:h;h=Ke(this,b,a);k=Ke(this,c,a);l=Ke(this,e,a);a=Math.max(h,k,l,Ke(this,f,a));h==a?(this.Nf=b.x,this.Mg=b.y):k==a?(this.Nf=c.x,this.Mg=c.y):l==a?(this.Nf=e.x,this.Mg=e.y):(this.Nf=f.x,this.Mg=f.y)}ze(this);Be(this)}this.Yp&&this.Yp()};
function Be(a){var b=[],c=a.ka/2,e=a.ua/2,f=-a.Nf,h=-a.Mg;if(c==f&&e==h)b.push("M "+c+","+e);else{h-=e;f-=c;a.m.u&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),t=a.ph();m=(t.width+t.height)/5;m=Math.min(m,t.width,t.height)/4;t=1-8/k;f=c+t*f;h=e+t*h;t=c+m*p;var r=e+m*n;c-=m*p;e-=m*n;n=l+a.dw;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/4;k=Math.cos(n)*k/4;b.push("M"+t+","+r);b.push("C"+(t+k)+","+
(r+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(c+k)+","+(e+l)+" "+c+","+e)}b.push("z");a.Rn.setAttribute("d",b.join(" "))}d.Hc=function(a){this.Aj.setAttribute("fill",a);this.Rn.setAttribute("fill",a)};d.B=function(){Ee();w.h.removeNode(this.yd);this.gu=this.yc=this.m=this.Vb=this.Aj=this.Rn=this.yd=null};d.Mm=function(a,b){a?a.Wf(b.x,b.y):this.moveTo(b.x,b.y);this.Nf=this.m.u?this.ub.x-b.x-this.ka:b.x-this.ub.x;this.Mg=b.y-this.ub.y;Be(this)};
d.wa=function(){return new A(this.ub.x+this.Nf,this.ub.y+this.Mg)};d.bu=function(a){this.Hl=a};function Id(a,b,c,e){Id.s.constructor.call(this);this.Qb=a?a.id:null;this.Ob=a?a.o.id:null;this.element=b;this.oldValue=c;this.newValue=e;this.dc=!1}v(Id,Od);Id.prototype.type=w.j.Dl;Id.prototype.Aa=function(){var a=Id.s.Aa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Qb&&(a.blockId=this.Qb);return a};Id.prototype.la=function(a){Id.s.la.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Qb=a.blockId};function Le(a){this.V=a}d=Le.prototype;d.Fr=!0;d.Gn=17;d.cb=null;d.yh=null;function Me(a){a.Wc||(a.Wc=w.h.C("g",{"class":"blocklyIconGroup"},null),a.V.xb&&w.h.Va(a.Wc,"blocklyIconGroupReadonly"),a.zo(a.Wc),a.V.Y().appendChild(a.Wc),w.R(a.Wc,"mouseup",a,a.$o),a.$f())}d.B=function(){w.h.removeNode(this.Wc);this.Wc=null;this.sa(!1);this.V=null};d.$f=function(){};d.isVisible=function(){return!!this.cb};d.$o=function(a){this.V.o.Kb()||this.V.xb||w.h.Eg(a)||this.sa(!this.isVisible())};
d.Zf=function(){this.isVisible()&&this.cb.Hc(this.V.Rd)};function Ne(a){var b=a.V.wa(),c=w.h.Uc(a.Wc);b=new A(b.x+c.x+a.Gn/2,b.y+c.y+a.Gn/2);Mc(a.yh,b)||(a.yh=b,a.isVisible()&&(a=a.cb,a.ub=b,a.Pg&&ze(a)))};
// Copyright 2011 Google Inc.  Apache License 2.0
function Oe(a){Oe.s.constructor.call(this,a);Me(this)}v(Oe,Le);d=Oe.prototype;d.xa="";d.ka=160;d.ua=80;d.zo=function(a){w.h.C("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);w.h.C("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);w.h.C("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
d.Jj=function(){this.zd=w.h.C("foreignObject",{x:Ae,y:Ae},null);var a=document.createElementNS(w.cg,"body");a.setAttribute("xmlns",w.cg);a.className="blocklyMinimalBody";var b=document.createElementNS(w.cg,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.V.u?"RTL":"LTR");a.appendChild(b);this.Bb=b;this.zd.appendChild(a);w.R(b,"mouseup",this,this.nz,!0,!0);w.R(b,"wheel",this,function(c){c.stopPropagation()});w.R(b,"change",this,function(){this.xa!=b.value&&(w.j.U(new w.j.hd(this.V,
"comment",null,this.xa,b.value)),this.xa=b.value)});setTimeout(function(){b.focus()},0);return this.zd};d.$f=function(){this.isVisible()&&(this.sa(!1),this.sa(!0));Le.prototype.$f.call(this)};d.an=function(){if(this.isVisible()){var a=this.cb.ph(),b=2*Ae;this.zd.setAttribute("width",a.width-b);this.zd.setAttribute("height",a.height-b);this.Bb.style.width=a.width-b-4+"px";this.Bb.style.height=a.height-b-4+"px"}};
d.sa=function(a){if(a!=this.isVisible())if(w.j.U(new Id(this.V,"commentOpen",!a,a)),!ce(this.V)&&!this.Bb||x)Pe.prototype.sa.call(this,a);else{var b=this.Jb(),c=this.ph();a?(this.cb=new xe(this.V.o,this.Jj(),this.V.cd,this.yh,this.ka,this.ua),Ge(this.cb,this.V.id),a=this.an.bind(this),this.cb.Yp=a,this.Zf()):(this.cb.B(),this.zd=this.Bb=this.cb=null);this.zb(b);this.Rg(c.width,c.height)}};d.nz=function(){Ie(this.cb)&&this.Bb.focus()};
d.ph=function(){return this.isVisible()?this.cb.ph():{width:this.ka,height:this.ua}};d.Rg=function(a,b){this.Bb?this.cb.Rg(a,b):(this.ka=a,this.ua=b)};d.Jb=function(){return this.Bb?this.Bb.value:this.xa};d.zb=function(a){this.xa!=a&&(w.j.U(new w.j.hd(this.V,"comment",null,this.xa,a)),this.xa=a);this.Bb&&(this.Bb.value=a)};d.B=function(){w.j.isEnabled()&&this.zb("");this.V.Xa=null;Le.prototype.B.call(this)};function Qe(a,b){this.v=a;this.type=b;a.o.bo&&(this.Sd=a.o.bo[b],this.Vl=a.o.bo[w.ni[b]],this.Te=!this.Sd)}d=Qe.prototype;d.ga=null;d.vf=null;d.ze=null;d.Pb=0;d.Ga=0;d.wg=!1;d.Sd=null;d.Vl=null;d.Te=null;
d.Sl=function(a){var b=this,c=b.v,e=a.v;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=D(b),h=b.ze;b.ze=null;if(f.Oa)h=w.w.lg(f),f.B(),f=null;else if(b.type==w.Na){if(!f.M)throw Error("Orphan block does not have an output connection.");var k=Re(e,f);k&&(f.M.connect(k),f=null)}else if(b.type==w.ab){if(!f.T)throw Error("Orphan block does not have a previous connection.");for(k=e;k.L;){var l=rd(k);if(l&&!l.Oa)k=l;else{Se(f.T,k.L)&&(k.L.connect(f.T),f=null);break}}}if(f&&(b.disconnect(),w.j.dc)){var m=
w.j.Ib();setTimeout(function(){f.o&&!f.getParent()&&(w.j.N(m),f.M?Te(f.M,b):f.T&&Te(f.T,b),w.j.N(!1))},w.rl)}b.ze=h}var n;w.j.isEnabled()&&(n=new w.j.nj(e));Ue(b,a);e.Qh(c);n&&(n.Mf(),w.j.U(n))};d.B=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.wg&&Ve(this.Sd,this);this.Vl=this.Sd=null};function We(a){return a.type==w.Na||a.type==w.ab}d.isConnected=function(){return!!this.ga};
function Xe(a,b){if(!b)return 3;if(We(a))var c=a.v,e=b.v;else e=a.v,c=b.v;return c&&c==e?1:b.type!=w.ni[a.type]?2:c&&e&&c.o!==e.o?5:Se(a,b)?c.Oa&&!e.Oa?6:0:4}
d.ym=function(a){if(a.v.te||0!=Xe(this,a))return!1;switch(a.type){case w.fg:return this.ga||-1!=w.Oj.indexOf(a)?a=!1:a.ga?(a=D(a),a=a.te?!(a.T&&D(a.T)):!1):a=!0,a;case w.eg:if(a.isConnected()&&!D(a).te||this.isConnected())return!1;break;case w.Na:if(a.isConnected()&&!D(a).Lb()&&!D(a).Oa)return!1;break;case w.ab:if(a.isConnected()&&!this.v.L&&!D(a).Oa&&D(a).L)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=w.Oj.indexOf(a)?!1:!0};
d.connect=function(a){if(this.ga!=a){switch(Xe(this,a)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(this+" expected "+this.vf+", found "+a.vf));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var b=w.j.Ib();b||w.j.N(!0);We(this)?this.Sl(a):a.Sl(this);b||w.j.N(!1)}};function Ue(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.ga=b;b.ga=a}function Ye(a,b){for(var c=!1,e=0;e<a.S.length;e++){var f=a.S[e].connection;if(f&&f.type==w.Na&&Se(b.M,f)){if(c)return null;c=f}}return c}function Re(a,b){for(var c;c=Ye(a,b);)if(a=D(c),!a||a.Oa)return c;return null}
d.disconnect=function(){var a=this.ga;if(!a)throw Error("Source connection not connected.");if(a.ga!=this)throw Error("Target connection not connected to source connection.");if(We(this)){var b=this.v;var c=a.v;a=this}else b=a.v,c=this.v;var e=w.j.Ib();e||w.j.N(!0);this.to(b,c);a.bq();e||w.j.N(!1)};d.to=function(a,b){var c;w.j.isEnabled()&&(c=new w.j.nj(b));this.ga=this.ga.ga=null;b.Qh(null);c&&(c.Mf(),w.j.U(c))};
d.bq=function(){var a=this.v,b=this.ze;if(a.o&&b&&w.j.dc)if(a=w.w.Ai(b,a.o),a.M)this.connect(a.M);else if(a.T)this.connect(a.T);else throw Error("Child block does not have output or previous statement.");};function D(a){return a.isConnected()?a.ga.v:null}function Se(a,b){if(!a.vf||!b.vf)return!0;for(var c=0;c<a.vf.length;c++)if(-1!=b.vf.indexOf(a.vf[c]))return!0;return!1}d.zt=function(){this.isConnected()&&!Se(this,this.ga)&&Zd(We(this)?D(this):this.v)};
d.Ka=function(a){a?(Array.isArray(a)||(a=[a]),this.vf=a,this.zt()):this.vf=null;return this};d.tt=function(){return[]};
d.toString=function(){var a=this.v;if(a)if(a.M==this)var b="Output Connection of ";else if(a.T==this)b="Previous Connection of ";else if(a.L==this)b="Next Connection of ";else{b=null;for(var c=0,e;e=a.S[c];c++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";c=a.type?'"'+a.type+'" block':"Block";a.id&&(c+=' (id="'+a.id+'")');return b+c};function Ze(){this.Eb=[]}function $e(a,b){if(b.wg)throw Error("Connection already in database.");b.v.xb||(a.Eb.splice(af(a,b),0,b),b.wg=!0)}function bf(a,b){if(!a.Eb.length)return-1;var c=af(a,b);if(c>=a.Eb.length)return-1;for(var e=b.Ga,f=c;0<=f&&a.Eb[f].Ga==e;){if(a.Eb[f]==b)return f;f--}for(;c<a.Eb.length&&a.Eb[c].Ga==e;){if(a.Eb[c]==b)return c;c++}return-1}
function af(a,b){if(!a.Eb.length)return 0;for(var c=0,e=a.Eb.length;c<e;){var f=Math.floor((c+e)/2);if(a.Eb[f].Ga<b.Ga)c=f+1;else if(a.Eb[f].Ga>b.Ga)e=f;else{c=f;break}}return c}function Ve(a,b){if(!b.wg)throw Error("Connection not in database.");var c=bf(a,b);if(-1==c)throw Error("Unable to find connection in connectionDB.");b.wg=!1;a.Eb.splice(c,1)}
function cf(a,b,c){function e(n){var p=h-f[n].Pb,t=k-f[n].Ga;Math.sqrt(p*p+t*t)<=c&&m.push(f[n]);return t<c}var f=a.Eb,h=b.Pb,k=b.Ga;a=0;for(var l=b=f.length-2;a<l;)f[l].Ga<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m};w.mA={};w.Uq=40;w.Zq=125;w.$u=5;w.ev=10;w.Kc=28;w.Su=w.Kc;w.Vu=8;w.pv="#000000";w.rl=250;w.xn=10;w.Qu=30;w.zv=750;w.Ov=100;w.av=!0;w.nv=.45;w.ov=.65;w.Lc={width:96,height:124,url:"sprites.png"};w.De="http://www.w3.org/2000/svg";w.cg="http://www.w3.org/1999/xhtml";w.Na=1;w.eg=2;w.ab=3;w.fg=4;w.pf=5;w.lj=-1;w.ml=0;w.ah=1;w.Jz=0;w.Kz=1;w.Hz=1;w.Iz=2;w.ni=[];w.ni[w.Na]=w.eg;w.ni[w.eg]=w.Na;w.ni[w.ab]=w.fg;w.ni[w.fg]=w.ab;w.Mc=0;w.hg=1;w.jd=2;w.Ee=3;w.Qq=null;w.zn=1;w.Rq=2;w.er="VARIABLE";w.Rv="VARIABLE_DYNAMIC";
w.$q="PROCEDURE";w.cr="RENAME_VARIABLE_ID";w.Sq="DELETE_VARIABLE_ID";w.Ma={};w.Ma.uo=0;w.Ma.Zl=null;w.Ma.$w=function(a){var b=a.o,c=a.Y();b.kg.play("delete");a=df(b,c);c=c.cloneNode(!0);c.vz=a.x;c.wz=a.y;c.setAttribute("transform","translate("+a.x+","+a.y+")");H(b).appendChild(c);c.pr=c.getBBox();w.Ma.ts(c,b.u,new Date,b.scale)};w.Ma.ts=function(a,b,c,e){var f=(new Date-c)/150;1<f?w.h.removeNode(a):(a.setAttribute("transform","translate("+(a.vz+(b?-1:1)*a.pr.width*e/2*f)+","+(a.wz+a.pr.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(w.Ma.ts,10,a,b,c,e))};
w.Ma.Fw=function(a){var b=a.o,c=b.scale;b.kg.play("click");if(!(1>c)){var e=df(b,a.Y());a.M?(e.x+=(a.u?3:-3)*c,e.y+=13*c):a.T&&(e.x+=(a.u?-23:23)*c,e.y+=3*c);a=w.h.C("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},H(b));w.Ma.Mr(a,new Date,c)}};w.Ma.Mr=function(a,b,c){var e=(new Date-b)/150;1<e?w.h.removeNode(a):(a.setAttribute("r",25*e*c),a.style.opacity=1-e,w.Ma.uo=setTimeout(w.Ma.Mr,10,a,b,c))};
w.Ma.Zw=function(a){a.o.kg.play("disconnect");if(!(1>a.o.scale)){var b=a.Yb().height;b=Math.atan(10/b)/Math.PI*180;a.u||(b*=-1);w.Ma.ss(a.Y(),b,new Date)}};w.Ma.ss=function(a,b,c){var e=(new Date-c)/200;1<e?a.Sh="":(a.Sh="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",w.Ma.Zl=a,w.Ma.uo=setTimeout(w.Ma.ss,10,a,b,c));a.setAttribute("transform",a.Xf+a.Sh)};w.Ma.vo=function(){if(w.Ma.Zl){clearTimeout(w.Ma.uo);var a=w.Ma.Zl;a.Sh="";a.setAttribute("transform",a.Xf);w.Ma.Zl=null}};function ef(a,b){ef.s.constructor.call(this,a,b);this.Pm=new A(0,0)}v(ef,Qe);function ff(a,b){var c=a.Pb-b.Pb;a=a.Ga-b.Ga;return Math.sqrt(c*c+a*a)}function Te(a,b){if(!a.v.o.Kb()){var c=gf(a.v);if(!c.xb){var e=!1;if(!c.Lb()){c=gf(b.v);if(!c.Lb())return;b=a;e=!0}var f=w.selected==c;f||c.si();var h=b.Pb+w.Kc+Math.floor(Math.random()*w.xn)-a.Pb,k=b.Ga+w.Kc+Math.floor(Math.random()*w.xn)-a.Ga;e&&(k=-k);c.u&&(h=b.Pb-w.Kc-Math.floor(Math.random()*w.xn)-a.Pb);c.moveBy(h,k);f||c.Mh()}}}d=ef.prototype;
d.moveTo=function(a,b){this.wg&&Ve(this.Sd,this);this.Pb=a;this.Ga=b;this.Te||$e(this.Sd,this)};d.moveBy=function(a,b){this.moveTo(this.Pb+a,this.Ga+b)};function hf(a,b){a.moveTo(b.x+a.Pm.x,b.y+a.Pm.y)}function jf(a,b,c){a.Pm.x=b;a.Pm.y=c}function kf(a){var b=a.ga.Pb-a.Pb,c=a.ga.Ga-a.Ga;if(0!=b||0!=c){a=D(a);var e=a.Y();if(!e)throw Error("block is not rendered.");e=w.h.Uc(e);a.Y().setAttribute("transform","translate("+(e.x-b)+","+(e.y-c)+")");lf(a,-b,-c)}}
d.closest=function(a,b){var c=this.Vl;if(c.Eb.length){var e=this.Ga,f=this.Pb;this.Pb=f+b.x;this.Ga=e+b.y;var h=af(c,this);b=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(c.Eb[m].Ga-this.Ga)<=a;)l=c.Eb[m],this.ym(l,k)&&(b=l,k=ff(l,this)),m--;for(;h<c.Eb.length&&Math.abs(c.Eb[h].Ga-this.Ga)<=a;)l=c.Eb[h],this.ym(l,k)&&(b=l,k=ff(l,this)),h++;this.Pb=f;this.Ga=e;a={connection:b,Wm:k}}else a={connection:null,Wm:a};return a};
d.Rs=function(){var a=this.type==w.Na||this.type==w.eg?"m 0,0 "+mf+" v 5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5";var b=this.v.wa();Qe.Ts=w.h.C("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.Pb-b.x)+","+(this.Ga-b.y)+")"+(this.v.u?" scale(-1 1)":"")},this.v.Y())};
function nf(a){of(a,!1);var b=[];if(a.type!=w.Na&&a.type!=w.ab)return b;if(a=D(a)){if(a.isCollapsed()){var c=[];a.M&&c.push(a.M);a.L&&c.push(a.L);a.T&&c.push(a.T)}else c=a.$d(!0);for(var e=0;e<c.length;e++)b.push.apply(b,nf(c[e]));b.length||(b[0]=a)}return b}function of(a,b){(a.Te=b)&&a.wg?Ve(a.Sd,a):b||a.wg||$e(a.Sd,a)}function pf(a){of(a,!0);if(a.ga){a=qd(D(a),!1);for(var b=0;b<a.length;b++){for(var c=a[b],e=c.$d(!0),f=0;f<e.length;f++)of(e[f],!0);c=qf(c);for(f=0;f<c.length;f++)c[f].sa(!1)}}}
d.ym=function(a,b){return ff(this,a)>b?!1:ef.s.ym.call(this,a)};d.connect=function(a){ef.s.connect.call(this,a);if(this.Te||a.Te){a=We(this)?this:a;a.Te?pf(a):nf(a);var b=D(a);b.Y().style.display=a.Te?"none":"block";b.O=!a.Te}};d.disconnect=function(){var a=We(this)?this:this.ga;if(this.ga&&a.Te){nf(a);var b=D(a);b.Y().style.display="block";b.O=!0;of(a,!0)}ef.s.disconnect.call(this)};d.to=function(a,b){ef.s.to.call(this,a,b);a.O&&a.ea();b.O&&(me(b),b.ea())};
d.bq=function(){var a=this.v,b=this.ze;if(a.o&&b&&w.j.dc){ef.s.bq.call(this);b=D(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.Bc();b.ea(!1);a.O&&!this.Te&&a.ea()}};d.tt=function(a){return cf(this.Vl,this,a)};d.Sl=function(a){ef.s.Sl.call(this,a);var b=this.v;a=a.v;b.O&&me(b);a.O&&me(a);b.O&&a.O&&(this.type==w.ab||this.type==w.fg?a.ea():b.ea())};d.zt=function(){this.isConnected()&&!Se(this,this.ga)&&(Zd(We(this)?D(this):this.v),this.v.mb())};function rf(a){this.Be=w.selected=a;this.m=a.o;this.Dh=this.lp=null;this.Bi=sf(this,this.Be);this.ac=this.eb=null;this.nf=!1;this.Ri=null;this.Zo=!1;this.Mi=null;a=this.Be.$d(!1);var b;a:{for(b=this.Be.L;b;){var c=D(b);if(!c)break a;b=c.L}b=null}b&&b!=this.Be.L&&(a.push(b),this.lp=b,this.Dh=sf(this,b.v));this.On=a}
rf.prototype.B=function(){this.m=this.Be=null;this.On.length=0;this.ac=this.eb=null;w.j.disable();try{this.Bi&&(this.Bi.B(),this.Bi=null),this.Dh&&(this.Dh.B(),this.Dh=null)}finally{w.j.enable()}this.Mi=null};
rf.prototype.update=function(a,b){var c=this.eb&&this.ac?w.Su:w.Kc;for(var e=null,f=null,h=0;h<this.On.length;h++){var k=this.On[h],l=k.closest(c,a);l.connection&&(e=l.connection,f=k,c=l.Wm)}e=(c={closest:e,local:f,Wm:c},!!c.closest)&&b!=w.Rq;if((this.nf=!!b&&!this.Be.getParent()&&this.Be.mc()&&!e)||tf(this,c,a)){w.j.disable();c.closest?(a=this.eb!=c.closest,b=this.ac!=c.local,this.eb&&this.ac&&(a||b||this.nf)&&uf(this)):uf(this);this.ac=this.eb=this.Ri=null;if(!this.nf&&(a=c.closest,b=c.local,a))if(a==
this.eb||a.v.te)console.log("trying to connect to an insertion marker");else{this.eb=a;this.ac=b;a=this.eb;b=this.ac;if(b.type==w.eg)a=a.isConnected()&&!Re(this.Be,a.ga.v);else{a:{for(c=0;e=b.v.S[c];c++)if(e.connection&&e.connection.type==w.ab){c=e.connection;break a}c=null}a=b==c?0:!this.Be.L&&b.type==w.fg&&a.isConnected()}if(a)a=this.eb,b=this.ac,D(a)?(this.Mi=D(a),vf(D(a),!0)):b.type==w.eg&&(this.Mi=a.v,a.v.Tx(a,!0)),this.Zo=!0;else{c=this.ac;a=this.eb;b=this.lp&&c==this.lp?this.Dh:this.Bi;a:{f=
c.v;e=b.$d(!0);f=f.$d(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(h=0;h<f.length;h++)if(f[h]==c){c=e[h];break a}c=null}b.ea();b.O=!0;b.Y().setAttribute("visibility","visible");c.type!=w.ab&&c.type!=w.Na||b.moveBy(a.Pb-c.Pb,a.Ga-c.Ga);c.connect(a);this.Ri=c}this.eb&&this.eb.Rs()}w.j.enable()}};
function sf(a,b){var c=b.type;w.j.disable();try{var e=a.m.Ze(c);e.du(!0);if(b.Da){var f=b.Da();f&&e.Ya(f)}for(a=0;a<b.S.length;a++){var h=b.S[a];for(c=0;c<h.Ha.length;c++){var k=h.Ha[c];wf(e,k.getValue(),k.name)}}e.Bc();e.Y().setAttribute("visibility","hidden")}finally{w.j.enable()}return e}
function tf(a,b,c){var e=b.local,f=b.closest;b=b.Wm;if(e&&f){if(a.ac&&a.eb){if(a.eb==f&&a.ac==e)return!1;e=a.ac.Pb+c.x-a.eb.Pb;a=a.ac.Ga+c.y-a.eb.Ga;a=Math.sqrt(e*e+a*a);return!(f&&b>a-w.Vu)}if(a.ac||a.eb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.ac||!a.eb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function uf(a){a.eb&&(w.h.removeNode(Qe.Ts),delete Qe.Ts);if(a.Zo){var b=a.eb;b.type!=w.Na||b.isConnected()?vf(a.Mi,!1):a.Mi.Tx(b,!1);a.Mi=null;a.Zo=!1}else if(a.Ri)if(a.Ri){b=a.Ri;var c=b.v,e=c.L,f=c.T,h=c.M;h=b.type==w.Na&&!(h&&h.ga);!(b!=e||f&&f.ga)||h?Zd(D(b),!1):b.type==w.ab&&b!=e?(e=b.ga,Zd(e.v,!1),f=f?f.ga:null,Zd(c,!0),f&&f.connect(e)):Zd(c,!0);if(b.ga)throw"markerConnection_ still connected at the end of disconnectInsertionMarker";a.Ri=null;c.Y().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
rf.prototype.Gi=function(){var a=[];this.Bi&&a.push(this.Bi);this.Dh&&a.push(this.Dh);return a};function xf(a,b){this.gb=a;this.m=b;this.Le=new rf(this.gb);this.kh=null;this.nf=!1;this.gf=this.gb.wa();b=[];a=qd(a,!1);for(var c=0,e;e=a[c];c++){e=qf(e);for(var f=0;f<e.length;f++)b.push({location:e[f].yh,icon:e[f]})}this.am=b}xf.prototype.B=function(){this.Wb=this.m=this.gb=null;this.am.length=0;this.Le&&(this.Le.B(),this.Le=null)};
function yf(a,b,c){c=a.Wi(c);a.gb.Mm(Pc(a.gf,c));for(var e=0;e<a.am.length;e++){var f=a.am[e],h=f.icon;f=Pc(f.location,c);h.yh=f;h.isVisible()&&(h=h.cb,h.ub=f,h.Pg&&ze(h))}a.kh=zf(a.m,b);a.Le.update(c,a.kh);a.nf=a.Le.nf;b=a.m.qc;a.nf?(a.gb.Qk(!0),a.kh==w.zn&&b&&Af(b,!0)):(a.gb.Qk(!1),b&&Af(b,!1))}
function Bf(a,b,c){yf(a,b,c);a.am=[];je();w.Ma.vo();b=a.Wi(c);a.gb.st(Pc(a.gf,b));c=a.m.qc;a.nf?(c&&setTimeout(c.close.bind(c),100),a.Rj(),a.gb.B(!1,!0)):c&&c.close();a.nf||(lf(a.gb,b.x,b.y),a.gb.Tg(!1),a.Rj(),a.Le.eb?(b=a.Le,b.eb&&(w.j.disable(),uf(b),w.j.enable(),b.ac.connect(b.eb),b.Be.O&&(w.Ma.Fw((We(b.ac)?b.eb:b.ac).v),Cf(gf(b.Be))))):a.gb.ea(),Df(a.gb));a.m.hc(!0);(b=a.m.aa)&&w.h.yb(b.Ic,a.gb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");w.j.N(!1)}
xf.prototype.Rj=function(){var a=new w.j.nj(this.gb);a.Bp=this.gf;a.Mf();w.j.U(a)};xf.prototype.Wi=function(a){a=new A(a.x/this.m.scale,a.y/this.m.scale);this.m.Ni&&(a=a.scale(1/this.m.options.Mb.scale));return a};xf.prototype.Gi=function(){return this.Le&&this.Le.Gi?this.Le.Gi():[]};function Ef(a,b,c,e,f){this.A=w.h.C("g",{"class":"blocklyComment"},null);this.A.Xf="";this.$k=w.h.C("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.$k);this.Pg=!1;this.mf=w.h.Ag()&&!!a.Db;Ef.s.constructor.call(this,a,b,c,e,f);this.ea()}v(Ef,he);d=Ef.prototype;
d.B=function(){if(this.o){if(w.selected==this){this.ai();var a=this.o;a.Gb&&a.Gb.cancel()}w.j.isEnabled()&&w.j.U(new Md(this));w.h.removeNode(this.A);this.Wh=this.Wg=this.zd=this.Bb=this.$k=this.A=null;this.Df=!0;w.j.disable();Ef.s.B.call(this);w.j.enable()}};d.Bc=function(){if(!this.o.O)throw TypeError("Workspace is headless.");this.o.options.readOnly||this.Bo||(w.R(this.Wg,"mousedown",this,this.Kt),w.R(this.Wh,"mousedown",this,this.Kt));this.Bo=!0;Ff(this);this.Y().parentNode||this.o.Hd.appendChild(this.Y())};
d.Kt=function(a){var b=this.o.Re(a);b&&He(b,a,this)};d.dj=function(a){if(!this.o.options.readOnly){var b=[];this.mc()&&this.Lb()&&(b.push(w.ba.Bw(this)),b.push(w.ba.Aw(this)));w.ba.show(a,b,this.u)}};d.select=function(){if(w.selected!=this){var a=null;if(w.selected){a=w.selected.id;w.j.disable();try{w.selected.ai()}finally{w.j.enable()}}a=new Id(null,"selected",a,this.id);a.Ob=this.o.id;w.j.U(a);w.selected=this;this.si()}};
d.ai=function(){if(w.selected==this){var a=new Id(null,"selected",this.id,null);a.Ob=this.o.id;w.j.U(a);w.selected=null;this.Mh();Gf(this)}};d.si=function(){w.h.Va(this.A,"blocklySelected");this.kq()};d.Mh=function(){w.h.yb(this.A,"blocklySelected");Gf(this)};
d.wa=function(){var a=0,b=0,c=this.mf?this.o.Db.Ib():null,e=this.Y();if(e){do{var f=w.h.Uc(e);a+=f.x;b+=f.y;this.mf&&this.o.Db.Vd.firstChild==e&&(f=this.o.Db.pm(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.o.Hd&&e!=c)}return this.Ld=new A(a,b)};d.moveBy=function(a,b){var c=new Ld(this),e=this.wa();this.translate(e.x+a,e.y+b);this.Ld=new A(e.x+a,e.y+b);c.Mf();w.j.U(c);ne(this.o)};d.translate=function(a,b){this.Ld=new A(a,b);this.Y().setAttribute("transform","translate("+a+","+b+")")};
d.Nm=function(){if(this.mf){var a=this.wa();w.h.removeAttribute(this.Y(),"transform");this.o.Db.Wf(a.x,a.y);Hf(this.o.Db,this.Y())}};d.st=function(a){this.mf&&(this.translate(a.x,a.y),this.o.Db.Dj(this.o.Ra))};d.Mm=function(a,b){a?a.Wf(b.x,b.y):(this.A.Xf="translate("+b.x+","+b.y+")",this.A.setAttribute("transform",this.A.Xf+this.A.Sh))};d.moveTo=function(a,b){this.translate(a,b)};
d.dm=function(){var a=this.wa(),b=this.Yb();if(this.u){var c=new A(a.x-b.width,a.y);a=new A(a.x,a.y+b.height)}else c=new A(a.x,a.y),a=new A(a.x+b.width,a.y+b.height);return{fd:c,xd:a}};function Ff(a){a.Lb()?w.h.Va(a.A,"blocklyDraggable"):w.h.yb(a.A,"blocklyDraggable")}d.Ph=function(a){Ef.s.Ph.call(this,a);Ff(this)};d.Tg=function(a){a?(a=this.Y(),a.Xf="",a.Sh="",w.h.Va(this.A,"blocklyDragging")):w.h.yb(this.A,"blocklyDragging")};d.Y=function(){return this.A};
d.pg=function(){return this.Bb?this.Bb.value:this.yc};d.cf=function(a){Ef.s.cf.call(this,a);this.Bb&&(this.Bb.value=a)};d.Qk=function(a){a?w.h.Va(this.A,"blocklyDraggingDelete"):w.h.yb(this.A,"blocklyDraggingDelete")};d.bu=function(){};function fe(a,b,c){w.j.disable();try{var e=ge(a),f=new Ef(b,e.content,e.Ls,e.Hu,e.id);b.O&&(f.Bc(),f.ea(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.u){var h=c||b.zc();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{w.j.enable()}ie(f);return f}
d.cl=function(a){var b;this.o.u&&(b=this.o.zc());a=qe(this,a);var c=this.wa();a.setAttribute("x",Math.round(this.o.u?b-c.x:c.x));a.setAttribute("y",Math.round(c.y));a.setAttribute("h",this.Fi());a.setAttribute("w",this.zc());return a};function If(a,b){this.Tb=a;this.m=b;this.kh=null;this.tn=!1;this.gf=this.Tb.wa();this.nh=w.h.Ag()&&b.Db?b.Db:null}If.prototype.B=function(){this.nh=this.m=this.Tb=null};function Jf(a,b,c){c=a.Wi(c);a.Tb.Mm(a.nh,Pc(a.gf,c));a.Tb.mc()&&(a.kh=zf(a.m,b),a.tn=a.kh!=w.Qq,b=a.m.qc,a.tn?(a.Tb.Qk(!0),a.kh==w.zn&&b&&Af(b,!0)):(a.Tb.Qk(!1),b&&Af(b,!1)))}
function Kf(a,b,c){Jf(a,b,c);b=a.Wi(c);b=Pc(a.gf,b);a.Tb.moveTo(b.x,b.y);b=a.m.qc;a.tn?(b&&setTimeout(b.close.bind(b),100),a.Rj(),a.Tb.B(!1,!0)):b&&b.close();a.tn||(a.nh&&a.nh.Dj(a.m.Hd),a.Tb.Tg&&a.Tb.Tg(!1),a.Rj());a.m.hc(!0);a.m.aa&&w.h.yb(a.m.aa.Ic,a.Tb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");w.j.N(!1)}If.prototype.Rj=function(){if(this.Tb.hp){var a=new Ld(this.Tb);a.Cp=this.gf;a.Mf();w.j.U(a)}};
If.prototype.Wi=function(a){a=new A(a.x/this.m.scale,a.y/this.m.scale);this.m.Ni&&(a=a.scale(1/this.m.options.Mb.scale));return a};If.prototype.Nm=function(){this.Tb.moveTo(0,0);this.nh.Wf(this.gf.x,this.gf.y);Hf(this.nh,this.Tb.Y())};function Lf(a){this.m=a;this.iz=new A(a.scrollX,a.scrollY)}Lf.prototype.B=function(){this.m=null};Lf.prototype.ln=function(){w.selected&&w.selected.ai();Mf(this.m)};Lf.prototype.mh=function(a){a=Pc(this.iz,a);this.m.scroll(a.x,a.y)};function Nf(a){Nf.s.constructor.call(this,a.sm());this.fc=a.fc;this.Ue=a.Ue}v(Nf,Lf);w.D={};w.D.visible=!1;w.D.ui=!1;w.D.tv=50;w.D.rt=0;w.D.Tk=0;w.D.np=0;w.D.op=0;w.D.W=null;w.D.Sm=null;w.D.Wq=0;w.D.Xq=10;w.D.Jv=10;w.D.mv=750;w.D.An=5;w.D.oa=null;w.D.Z=function(){w.D.oa||(w.D.oa=document.createElement("div"),w.D.oa.className="blocklyTooltipDiv",document.body.appendChild(w.D.oa))};w.D.hh=function(a){w.kc(a,"mouseover",null,w.D.Py);w.kc(a,"mouseout",null,w.D.Oy);a.addEventListener("mousemove",w.D.Ny,!1)};
w.D.Py=function(a){if(!w.D.ui){for(a=a.target;"string"!=typeof a.ud&&"function"!=typeof a.ud;)a=a.ud;w.D.W!=a&&(w.D.Ia(),w.D.Sm=null,w.D.W=a);clearTimeout(w.D.rt)}};w.D.Oy=function(){w.D.ui||(w.D.rt=setTimeout(function(){w.D.W=null;w.D.Sm=null;w.D.Ia()},1),clearTimeout(w.D.Tk))};
w.D.Ny=function(a){if(w.D.W&&w.D.W.ud&&!w.K.isVisible()&&!w.D.ui)if(w.D.visible){var b=w.D.np-a.pageX;a=w.D.op-a.pageY;Math.sqrt(b*b+a*a)>w.D.Jv&&w.D.Ia()}else w.D.Sm!=w.D.W&&(clearTimeout(w.D.Tk),w.D.np=a.pageX,w.D.op=a.pageY,w.D.Tk=setTimeout(w.D.ez,w.D.mv))};w.D.Ia=function(){w.D.visible&&(w.D.visible=!1,w.D.oa&&(w.D.oa.style.display="none"));w.D.Tk&&clearTimeout(w.D.Tk)};w.D.block=function(){w.D.Ia();w.D.ui=!0};w.D.xz=function(){w.D.ui=!1};
w.D.ez=function(){if(!w.D.ui&&(w.D.Sm=w.D.W,w.D.oa)){w.D.oa.innerHTML="";for(var a=w.D.W.ud;"function"==typeof a;)a=a();a=w.h.Lu(a,w.D.tv);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));w.D.oa.appendChild(c)}a=w.D.W.u;b=Xc();w.D.oa.style.direction=a?"rtl":"ltr";w.D.oa.style.display="block";w.D.visible=!0;c=w.D.np;c=a?c-(w.D.Wq+w.D.oa.offsetWidth):c+w.D.Wq;var e=w.D.op+w.D.Xq;e+w.D.oa.offsetHeight>b.height+window.scrollY&&
(e-=w.D.oa.offsetHeight+2*w.D.Xq);a?c=Math.max(w.D.An-window.scrollX,c):c+w.D.oa.offsetWidth>b.width+window.scrollX-2*w.D.An&&(c=b.width-w.D.oa.offsetWidth-2*w.D.An);w.D.oa.style.top=e+"px";w.D.oa.style.left=c+"px"}};function Of(a,b){this.Wb=this.pc=this.Th=this.Uh=this.Fd=this.Qc=this.qt=null;this.Iw=b;this.pk=this.Ch=this.qk=this.sh=!1;this.ue=a;this.H=this.$g=this.me=this.tf=this.Rm=this.Qm=null;this.Am=this.uh=this.xr=!1;this.Qs=!w.av}d=Of.prototype;d.B=function(){w.Touch.yf();w.D.xz();this.Iw.Gb=null;this.Qm&&w.Ea(this.Qm);this.Rm&&w.Ea(this.Rm);this.H=this.Wb=this.pc=this.Th=this.Uh=null;this.me&&(this.me.B(),this.me=null);this.$g&&(this.$g.B(),this.$g=null);this.tf&&(this.tf.B(),this.tf=null)};
function Pf(a,b){a.Qc=Oc(new A(b.clientX,b.clientY),a.qt);if(a.sh)var c=!1;else c=a.Qc,a.sh=Math.sqrt(c.x*c.x+c.y*c.y)>(a.H?w.ev:w.$u),c=a.sh;if(c){if(a.xr)throw Error("updateIsDragging_ should only be called once per gesture.");a.xr=!0;if(a.Fd){a.pk=!0;a.tf=new If(a.Fd,a.Wb);c=a.tf;w.j.Ib()||w.j.N(!0);c.m.hc(!1);c.Tb.bu(!1);c.nh&&c.Nm();c.Tb.Tg&&c.Tb.Tg(!0);var e=c.m.aa;e&&w.h.Va(e.Ic,c.Tb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");Jf(a.tf,a.ue,a.Qc);c=!0}else c=!1;if(!c){if(a.pc)if(a.H?(a.H.Ys(a.pc)?
!Qf(a.H)||a.H.Zs(a.Qc)?(a.Wb=a.H.va,Rf(a.Wb),w.j.Ib()||w.j.N(!0),a.Th=null,a.pc=Sf(a.H,a.pc),a.pc.select(),c=!0):c=!1:c=!1,a.Ch=c):a.pc.Lb()&&(a.Ch=!0),a.Ch){a.me=new xf(a.pc,a.Wb);c=a.me;e=a.Qc;var f=a.Qs;w.j.Ib()||w.j.N(!0);c.m.Ni&&Cf(c.gb);ee();c.m.hc(!1);w.Ma.vo();if(c.gb.getParent()||f&&c.gb.L&&D(c.gb.L))Zd(c.gb,f),e=c.Wi(e),e=Pc(c.gf,e),c.gb.translate(e.x,e.y),w.Ma.Zw(c.gb);c.gb.Tg(!0);c.gb.Nm();(e=c.m.aa)&&w.h.Va(e.Ic,c.gb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");yf(a.me,a.ue,a.Qc);
c=!0}else c=!1;else c=!1;if(c=!c)if(a.H)c=Qf(a.H);else if(c=a.Wb)c=a.Wb,c=c.options.bc&&c.options.bc.mh;c&&(a.$g=a.H?new Nf(a.H):new Lf(a.Wb),a.qk=!0,a.$g.ln())}w.Hg()}a.ue=b}
d.wo=function(a){w.h.Cm(a)?this.cancel():(this.uh=!0,w.Ma.vo(),Rf(this.Wb),this.Wb.Ni&&this.Wb.resize(),Tf(this.Wb),this.ue=a,w.$b(!!this.H),w.D.block(),this.pc&&this.pc.select(),w.h.Eg(a)?zd(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||w.ny(a,this),this.qt=new A(a.clientX,a.clientY),this.Qs=a.altKey||a.ctrlKey||a.metaKey,this.hh(a)))};
d.hh=function(a){this.Qm=w.R(document,"mousemove",null,this.hk.bind(this));this.Rm=w.R(document,"mouseup",null,this.tm.bind(this));a.preventDefault();a.stopPropagation()};d.hk=function(a){Pf(this,a);this.qk?this.$g.mh(this.Qc):this.Ch?yf(this.me,this.ue,this.Qc):this.pk&&Jf(this.tf,this.ue,this.Qc);a.preventDefault();a.stopPropagation()};
d.tm=function(a){Pf(this,a);w.Hg();if(this.Am)console.log("Trying to end a gesture recursively.");else{this.Am=!0;if(this.pk)Kf(this.tf,a,this.Qc);else if(this.Ch)Bf(this.me,a,this.Qc);else if(this.qk){var b=this.$g;b.mh(this.Qc);Uf(b.m)}else this.Fd&&!this.sh?(this.Fd.kq&&this.Fd.kq(),this.Fd.select&&this.Fd.select()):Vf(this)?(this.Uh.ef(),Wf(this)):!this.Th||this.sh||Vf(this)?this.Th||this.Fd||this.Uh||this.sh||w.selected&&w.selected.ai():(this.H&&this.H.ti?this.pc.disabled||(w.j.Ib()||w.j.N(!0),
Df(Sf(this.H,this.pc))):w.j.U(new Id(this.Th,"click",void 0,void 0)),Wf(this),w.j.N(!1));a.preventDefault();a.stopPropagation();this.B()}};d.cancel=function(){if(!this.Am){w.Hg();if(this.pk)Kf(this.tf,this.ue,this.Qc);else if(this.Ch)Bf(this.me,this.ue,this.Qc);else if(this.qk){var a=this.$g;a.mh(this.Qc);Uf(a.m)}this.B()}};function zd(a,b){a.pc?(Wf(a),w.$b(a.H),a.pc.dj(b)):a.Fd?a.Fd.dj(b):a.Wb&&!a.H&&(w.$b(),a.Wb.dj(b));b.preventDefault();b.stopPropagation();a.B()}
function Xf(a,b,c){if(a.uh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Wb||(a.Wb=c);a.ue=b;a.wo(b)}function Yf(a,b,c){if(a.uh)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.H||(a.H=c);Xf(a,b,c.sm())}function He(a,b,c){if(a.uh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.Fd||(a.Fd=c);a.ue=b}function Wf(a){a.pc&&!a.H&&Cf(a.pc)}
function Zf(a,b){a.Th||a.Fd||(a.Th=b,b.xb&&b!=gf(b)?$f(a,gf(b)):$f(a,b))}function $f(a,b){b.Oa?$f(a,b.getParent()):a.pc=b}function Vf(a){if(a.Uh){var b=a.Uh;b=b.dh&&!!b.v&&ce(b.v)}else b=!1;return b&&!a.sh&&(!a.H||!a.H.ti)}d.Kb=function(){return this.qk||this.Ch||this.pk};d.Gi=function(){return this.me?this.me.Gi():[]};function ag(){for(var a=we(),b=0,c;c=a[b];b++)if(c.Gb)return!0;return!1};function bg(a,b){this.Hi=a;this.wq=b.spacing;this.dt=b.length;this.gy=(this.qp=a.firstChild)&&this.qp.nextSibling;this.fz=b.snap}bg.prototype.Qg=1;bg.prototype.B=function(){this.Hi=null};bg.prototype.update=function(a){this.Qg=a;var b=this.wq*a||100;this.Hi.setAttribute("width",b);this.Hi.setAttribute("height",b);b=Math.floor(this.wq/2)+.5;var c=b-this.dt/2,e=b+this.dt/2;b*=a;c*=a;e*=a;cg(this.qp,a,c,e,b,b);cg(this.gy,a,b,b,c,e)};
function cg(a,b,c,e,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}bg.prototype.moveTo=function(a,b){this.Hi.setAttribute("x",a);this.Hi.setAttribute("y",b);(x||oc)&&this.update(this.Qg)};w.dr={};
w.dr.Yu=new function(){this.lw={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};this.qw={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},
math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}};function dg(a){var b=!!a.readOnly;if(b)var c=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{c=eg(a.toolbox);e=!(!c||!c.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl,t=a.horizontalLayout;void 0===t&&(t=!1);var r=a.toolboxPosition;r="end"===r?!1:!0;r=t?r?w.Mc:w.hg:r==p?w.Ee:w.jd;var q=a.css;void 0===
q&&(q=!0);var y="https://blockly-demo.appspot.com/static/media/";a.media?y=a.media:a.path&&(y=a.path+"media/");var L=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,R=a.theme||w.dr.Yu;this.u=p;this.ge=L;this.collapse=h;this.Fj=k;this.disable=l;this.readOnly=b;this.tp=a.maxBlocks||Infinity;this.up=a.maxInstances;this.we=y;this.Ns=e;b=a.move||{};h={};h.scrollbars=void 0===b.scrollbars&&void 0===a.scrollbars?e:!!b.scrollbars||!!a.scrollbars;h.ei=h.scrollbars&&void 0!==b.wheel?!!b.wheel:!1;h.mh=h.scrollbars?
void 0===b.drag?!0:!!b.drag:!1;this.bc=h;this.Ps=f;this.Ti=n;this.Qx=m;this.Px=q;this.od=t;this.Ye=c;c=a.grid||{};e={};e.spacing=parseFloat(c.spacing)||0;e.Gr=c.colour||"#888";e.length=parseFloat(c.length)||1;e.FA=0<e.spacing&&!!c.snap;this.Js=e;a=a.zoom||{};c={};c.controls=void 0===a.controls?!1:!!a.controls;c.ei=void 0===a.wheel?!1:!!a.wheel;c.ou=void 0===a.startScale?1:parseFloat(a.startScale);c.Bk=void 0===a.maxScale?3:parseFloat(a.maxScale);c.Ck=void 0===a.minScale?.3:parseFloat(a.minScale);
c.bz=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);this.$a=c;this.na=r;this.oz=R}dg.prototype.Mb=null;dg.prototype.Sf=null;dg.prototype.qb=null;function eg(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=w.w.dd(a))):a=null;return a};function fg(a){this.m=a;this.Bd=new gg(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Kd=new gg(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Hj=w.h.C("rect",{height:G,width:G,"class":"blocklyScrollbarBackground"},null);w.h.Ah(this.Hj,a.Hd)}fg.prototype.kb=null;fg.prototype.B=function(){w.h.removeNode(this.Hj);this.kb=this.m=this.Hj=null;this.Bd.B();this.Bd=null;this.Kd.B();this.Kd=null};
fg.prototype.resize=function(){var a=this.m.qb();if(a){var b=!1,c=!1;this.kb&&this.kb.Ba==a.Ba&&this.kb.Fa==a.Fa&&this.kb.tb==a.tb&&this.kb.sb==a.sb?(this.kb&&this.kb.ld==a.ld&&this.kb.pb==a.pb&&this.kb.Sb==a.Sb||(b=!0),this.kb&&this.kb.Oc==a.Oc&&this.kb.Cb==a.Cb&&this.kb.Fb==a.Fb||(c=!0)):c=b=!0;b&&this.Bd.resize(a);c&&this.Kd.resize(a);this.kb&&this.kb.Ba==a.Ba&&this.kb.sb==a.sb||this.Hj.setAttribute("x",this.Kd.Ec.x);this.kb&&this.kb.Fa==a.Fa&&this.kb.tb==a.tb||this.Hj.setAttribute("y",this.Bd.Ec.y);
this.kb=a}};fg.prototype.set=function(a,b){var c={};a*=this.Bd.cc;b*=this.Kd.cc;var e=this.Kd.ie,f=a/this.Bd.ie;c.x=isNaN(f)?0:f;e=b/e;c.y=isNaN(e)?0:e;this.m.Sf(c);hg(this.Bd,a);hg(this.Kd,b)};
function gg(a,b,c,e){this.m=a;this.Vi=c||!1;this.xh=b;this.kb=null;this.Ij(e);this.Ec=new A(0,0);a=G;b?(this.Gd.setAttribute("height",a),this.$e.setAttribute("height",a),this.jf.setAttribute("height",a-5),this.jf.setAttribute("y",2.5),this.xk="width",this.Lt="x"):(this.Gd.setAttribute("width",a),this.$e.setAttribute("width",a),this.jf.setAttribute("width",a-5),this.jf.setAttribute("x",2.5),this.xk="height",this.Lt="y");this.Et=w.R(this.Gd,"mousedown",this,this.Ky);this.Ft=w.R(this.jf,"mousedown",
this,this.Ly)}var ig,jg;d=gg.prototype;d.Ip=new A(0,0);d.nu=0;d.ie=0;d.sg=0;d.ik=0;d.Fg=!0;d.ih=!0;var G=15;vd&&(G=25);gg.prototype.B=function(){kg();w.Ea(this.Et);this.Et=null;w.Ea(this.Ft);this.Ft=null;w.h.removeNode(this.$e);this.m=this.jf=this.Gd=this.A=this.$e=null};function hg(a,b){a.ik=b;a.jf.setAttribute(a.Lt,a.ik)}function lg(a,b){a.ie=b;a.$e.setAttribute(a.xk,a.ie);a.Gd.setAttribute(a.xk,a.ie)}fg.prototype.Oh=function(a){this.Bd.Oh(a);this.Kd.Oh(a)};
function mg(a,b,c){a.Ec.x=b;a.Ec.y=c;w.h.Pk(a.$e,"translate("+(a.Ec.x+a.Ip.x)+"px,"+(a.Ec.y+a.Ip.y)+"px)")}d=gg.prototype;d.resize=function(a){if(!a&&(a=this.m.qb(),!a))return;var b=this.kb;a&&b&&a.Ba==b.Ba&&a.Fa==b.Fa&&a.pb==b.pb&&a.Cb==b.Cb&&a.tb==b.tb&&a.sb==b.sb&&a.ld==b.ld&&a.Oc==b.Oc&&a.Sb==b.Sb&&a.Fb==b.Fb||(this.kb=a,this.xh?ng(this,a):og(this,a),pg(this))};function ng(a,b){var c=b.Ba-1;a.Vi&&(c-=G);lg(a,Math.max(0,c));c=b.sb+.5;a.Vi&&a.m.u&&(c+=G);mg(a,c,b.tb+b.Fa-G-.5);qg(a,b)}
function qg(a,b){a.Vi||a.sa(a.ie<b.ld);a.cc=a.ie/b.ld;if(-Infinity==a.cc||Infinity==a.cc||isNaN(a.cc))a.cc=0;a.sg=Math.max(0,b.Ba*a.cc);a.jf.setAttribute(a.xk,a.sg);hg(a,rg(a,(b.pb-b.Sb)*a.cc))}function og(a,b){var c=b.Fa-1;a.Vi&&(c-=G);lg(a,Math.max(0,c));c=b.sb+.5;a.m.u||(c+=b.Ba-G-1);mg(a,c,b.tb+.5);sg(a,b)}
function sg(a,b){a.Vi||a.sa(a.ie<b.Oc);a.cc=a.ie/b.Oc;if(-Infinity==a.cc||Infinity==a.cc||isNaN(a.cc))a.cc=0;a.sg=Math.max(0,b.Fa*a.cc);a.jf.setAttribute(a.xk,a.sg);hg(a,rg(a,(b.Cb-b.Fb)*a.cc))}
d.Ij=function(a){var b="blocklyScrollbar"+(this.xh?"Horizontal":"Vertical");a&&(b+=" "+a);this.$e=w.h.C("svg",{"class":b},null);this.A=w.h.C("g",{},this.$e);this.Gd=w.h.C("rect",{"class":"blocklyScrollbarBackground"},this.A);a=Math.floor((G-5)/2);this.jf=w.h.C("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.A);w.h.Ah(this.$e,H(this.m))};d.isVisible=function(){return this.Fg};d.Oh=function(a){var b=a!=this.ih;this.ih=a;b&&this.il()};
d.sa=function(a){var b=a!=this.isVisible();if(this.Vi)throw Error("Unable to toggle visibility of paired scrollbars.");this.Fg=a;b&&this.il()};d.il=function(){this.ih&&this.isVisible()?this.$e.setAttribute("display","block"):this.$e.setAttribute("display","none")};
d.Ky=function(a){Tf(this.m);w.Touch.yf();kg();if(w.h.Eg(a))a.stopPropagation();else{var b=w.h.Dk(a,H(this.m),tg(this.m));b=this.xh?b.x:b.y;var c=w.h.jm(this.jf);c=this.xh?c.x:c.y;var e=this.ik,f=.95*this.sg;b<=c?e-=f:b>=c+this.sg&&(e+=f);hg(this,rg(this,e));pg(this);a.stopPropagation();a.preventDefault()}};
d.Ly=function(a){Tf(this.m);kg();w.h.Eg(a)?a.stopPropagation():(this.hz=this.ik,Mf(this.m),this.nu=this.xh?a.clientX:a.clientY,ig=w.R(document,"mouseup",this,this.Qy),jg=w.R(document,"mousemove",this,this.My),a.stopPropagation(),a.preventDefault())};d.My=function(a){hg(this,rg(this,this.hz+((this.xh?a.clientX:a.clientY)-this.nu)));pg(this)};d.Qy=function(){Uf(this.m);w.Touch.yf();kg()};function kg(){w.$b(!0);ig&&(w.Ea(ig),ig=null);jg&&(w.Ea(jg),jg=null)}
function rg(a,b){return b=0>=b||isNaN(b)||a.ie<a.sg?0:Math.min(b,a.ie-a.sg)}function pg(a){var b=a.ik/a.ie;isNaN(b)&&(b=0);var c={};a.xh?c.x=b:c.y=b;a.m.Sf(c)}d.set=function(a){hg(this,rg(this,a*this.cc));pg(this)};function ug(a,b){ug.s.constructor.call(this,a,b);this.Bm=!1;this.Qd={};this.mu=this.Jk=0;this.Hp=null}v(ug,Of);d=ug.prototype;d.wo=function(a){ug.s.wo.call(this,a);!this.Am&&w.Touch.Dm(a)&&vg(this,a)};d.hh=function(a){this.Hp=w.R(document,"mousedown",null,this.Ix.bind(this),!0);this.Qm=w.R(document,"mousemove",null,this.hk.bind(this),!0);this.Rm=w.R(document,"mouseup",null,this.tm.bind(this),!0);a.preventDefault();a.stopPropagation()};
d.Ix=function(a){!this.Kb()&&w.Touch.Dm(a)&&(vg(this,a),this.Bm&&w.Hg())};d.hk=function(a){if(this.Kb())w.Touch.tq(a)&&ug.s.hk.call(this,a);else if(this.Bm){if(w.Touch.Dm(a)){this.Qd[w.Touch.qm(a)]=wg(this,a);var b=Object.keys(this.Qd);if(2==b.length){b=Nc(this.Qd[b[0]],this.Qd[b[1]])/this.mu;if(0<this.Jk&&Infinity>this.Jk){var c=b-this.Jk;c=0<c?5*c:6*c;var e=this.Wb,f=w.h.Dk(a,H(e),tg(e));e.zoom(f.x,f.y,c)}this.Jk=b;a.preventDefault()}}w.Hg()}else ug.s.hk.call(this,a)};
d.tm=function(a){if(w.Touch.Dm(a)&&!this.Kb()){var b=w.Touch.qm(a);this.Qd[b]&&delete this.Qd[b];2>Object.keys(this.Qd).length&&(this.Qd={},this.Jk=0)}!this.Bm||this.Kb()?w.Touch.tq(a)&&ug.s.tm.call(this,a):(a.preventDefault(),a.stopPropagation(),this.B())};d.B=function(){ug.s.B.call(this);this.Hp&&w.Ea(this.Hp)};function vg(a,b){a.Qd[w.Touch.qm(b)]=wg(a,b);var c=Object.keys(a.Qd);2==c.length&&(a.mu=Nc(a.Qd[c[0]],a.Qd[c[1]]),a.Bm=!0,b.preventDefault())}
function wg(a,b){return a.Wb?new A(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function xg(a,b,c,e){this.top=a;this.right=b;this.bottom=c;this.left=e}d=xg.prototype;d.zc=function(){return this.right-this.left};d.Fi=function(){return this.bottom-this.top};d.clone=function(){return new xg(this.top,this.right,this.bottom,this.left)};d.contains=function(a){return this&&a?a instanceof xg?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
d.expand=function(a,b,c,e){va(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(e));return this};d.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
d.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};d.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};d.translate=function(a,b){a instanceof A?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,na(b)&&(this.top+=b,this.bottom+=b));return this};
d.scale=function(a,b){b=na(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function yg(a,b,c,e){this.left=a;this.top=b;this.width=c;this.height=e}d=yg.prototype;d.clone=function(){return new yg(this.left,this.top,this.width,this.height)};d.contains=function(a){return a instanceof A?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};d.ak=function(){return new Qc(this.width,this.height)};
d.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};d.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
d.translate=function(a,b){a instanceof A?(this.left+=a.x,this.top+=a.y):(this.left+=a,na(b)&&(this.top+=b));return this};d.scale=function(a,b){b=na(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};function zg(a){this.m=a;this.Xo=!1;this.wi=[];0>=this.m.options.Ti||(a={scrollbars:!0,Cf:this.m.options.Cf,Mb:this.m,u:this.m.u,ge:this.m.options.ge},this.m.od?(a.na=this.m.na==w.Mc?w.hg:w.Mc,this.H=new Ag(a)):(a.na=this.m.na==w.Ee?w.jd:w.Ee,this.H=new Bg(a)),this.m.Nc(Cg(this)))}d=zg.prototype;d.gh=47;d.ql=44;d.ji=16;d.Bn=20;d.pj=20;d.Al=10;d.Hn=0;d.In=32;d.kv=.1;d.Pi=!1;d.Km=0;d.A=null;d.pn=null;d.pp=0;d.Gg=0;d.wk=0;d.gj=0;
d.Z=function(){this.A=w.h.C("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=w.h.C("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.A);w.h.C("rect",{width:this.gh,height:this.ql,y:this.ji},b);var c=w.h.C("image",{width:w.Lc.width,x:-this.Hn,height:w.Lc.height,y:-this.In,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.A);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.m.options.we+w.Lc.url);b=w.h.C("clipPath",{id:"blocklyTrashLidClipPath"+
a},this.A);w.h.C("rect",{width:this.gh,height:this.ji},b);this.pn=w.h.C("image",{width:w.Lc.width,x:-this.Hn,height:w.Lc.height,y:-this.In,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.A);this.pn.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.m.options.we+w.Lc.url);w.R(this.A,"mouseup",this,this.click);w.kc(c,"mouseover",this,this.uy);w.kc(c,"mouseout",this,this.ty);this.Mn();return this.A};
d.I=function(a){0<this.m.options.Ti&&(w.h.Ah(this.H.Z("svg"),H(this.m)),this.H.I(this.m),this.H.Ys=function(){return!0});this.ag=this.Bn+a;Af(this,!1);return this.ag+this.ql+this.ji};d.B=function(){this.A&&(w.h.removeNode(this.A),this.A=null);this.m=this.pn=null;clearTimeout(this.pp)};
d.position=function(){if(this.ag){var a=this.m.qb();a&&(this.wk=a.na==w.jd||this.m.od&&!this.m.u?a.Ba+a.sb-this.gh-this.pj-G:this.pj+G,this.gj=a.na==w.hg?this.ag:a.Fa+a.tb-(this.ql+this.ji)-this.ag,this.A.setAttribute("transform","translate("+this.wk+","+this.gj+")"))}};d.Di=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect();return new yg(a.left+this.Hn-this.Al,a.top+this.In-this.Al,this.gh+2*this.Al,this.ji+this.ql+2*this.Al)};
function Af(a,b){a.Pi!=b&&(clearTimeout(a.pp),a.Pi=b,a.Mn())}d.Mn=function(){this.Gg+=this.Pi?.2:-.2;this.Gg=Math.min(Math.max(this.Gg,this.Km),1);Dg(this,45*this.Gg);this.A.style.opacity=.4+.4*this.Gg;this.Gg>this.Km&&1>this.Gg&&(this.pp=setTimeout(this.Mn.bind(this),20))};function Dg(a,b){var c=a.m.na==w.Ee||a.m.od&&a.m.u;a.pn.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.gh-4)+","+(a.ji-2)+")")}d.close=function(){Af(this,!1)};
d.click=function(){if(this.Xo){for(var a=[],b=0,c;c=this.wi[b];b++)a[b]=w.w.dd(c).firstChild;this.H.show(a)}};d.uy=function(){this.Xo&&Af(this,!0)};d.ty=function(){Af(this,!1)};
function Cg(a){return function(b){if(!(0>=a.m.options.Ti)&&b.type==w.j.ol){for(var c=b=b.yt.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"));var e=c.firstChild||c.nextSibling;if(!e)for(e=c.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}c=e}b="<xml>"+w.w.Rc(b)+"</xml>";-1==a.wi.indexOf(b)&&(a.wi.unshift(b),a.wi.length>a.m.options.Ti&&a.wi.splice(a.m.options.Ti,a.wi.length-a.m.options.Ti),a.Xo=!0,a.Km=a.kv,Dg(a,45*a.Km))}}}
;function Td(a,b,c,e){this.o=a;this.name=b;this.type=c||"";this.ug=e||w.h.Oe();w.j.U(new Fd(this))}Td.prototype.$=function(){return this.ug};function Eg(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};w.G={};w.G.Ta=w.er;w.G.mr=function(a){var b=B(a,!1);a=Object.create(null);for(var c=0;c<b.length;c++){var e=b[c].If();if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.$();k&&(a[k]=h)}}b=[];for(k in a)b.push(a[k]);return b};w.G.hA=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};w.G.Iq={};
w.G.Zv=function(a){a=B(a,!1);for(var b=Object.create(null),c=0,e;e=a[c];c++){var f=e.sA;!f&&e.sx&&(f=e.sx,w.G.Iq[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),w.G.Iq[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
w.G.og=function(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");Fg(a,"CREATE_VARIABLE",function(e){w.G.xi(e.va)});b.push(c);a=w.G.Eo(a);return b=b.concat(a)};
w.G.Eo=function(a){a=a.ck("");var b=[];if(0<a.length){var c=w.G.Vj(a[a.length-1]);if(w.F.variables_set){var e=w.F.math_change?8:24;e=w.w.dd('<xml><block type="variables_set" gap="'+e+'">'+c+"</block></xml>").firstChild;b.push(e)}w.F.math_change&&(e=w.F.variables_get?20:8,e=w.w.dd('<xml><block type="math_change" gap="'+e+'">'+c+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>').firstChild,b.push(e));if(w.F.variables_get)for(a.sort(Eg),c=0;e=
a[c];c++)e='<xml><block type="variables_get" gap="8">'+w.G.Vj(e)+"</block></xml>",e=w.w.dd(e).firstChild,b.push(e)}return b};w.G.Ds=function(a){a=a.Qe();var b="";if(a.length)for(var c=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,c++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<c&&(f+=c)):b=f}else b="i";return b};
w.G.xi=function(a,b,c){function e(h){w.G.Tt(w.g.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=w.G.wy(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var n=w.g.VARIABLE_ALREADY_EXISTS.replace("%1",m);else n=w.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",m).replace("%2",l.type);w.alert(n,function(){e(k)})}else a.Pc(k,f),b&&b(k)}else b&&b(null)})}var f=c||"";e("")};oa("Blockly.Variables.createVariableButtonHandler",w.G.xi);w.G.Pc=w.G.xi;oa("Blockly.Variables.createVariable",w.G.Pc);
w.G.Zm=function(a,b){function c(e){var f=w.g.RENAME_VARIABLE_TITLE.replace("%1",b.name);w.G.Tt(f,e,function(h){if(h){var k=w.G.xy(h,b.type,a);k?(k=w.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.toLowerCase()).replace("%2",k.type),w.alert(k,function(){c(h)})):a.Nh(b.$(),h)}})}c("")};w.G.Tt=function(a,b,c){w.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),e==w.g.RENAME_VARIABLE||e==w.g.NEW_VARIABLE)&&(e=null);c(e)})};
w.G.xy=function(a,b,c){c=c.ya.Qe();a=a.toLowerCase();for(var e=0,f;f=c[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};w.G.wy=function(a,b){b=b.ya.Qe();a=a.toLowerCase();for(var c=0,e;e=b[c];c++)if(e.name.toLowerCase()==a)return e;return null};w.G.Vj=function(a){var b=a.type;""==b&&(b="''");return'<field name="VAR" id="'+a.$()+'" variabletype="'+gc(b)+'">'+gc(a.name)+"</field>"};w.G.Es=function(a){a="<xml>"+w.G.Vj(a)+"</xml>";return w.w.dd(a).firstChild};
w.G.mm=function(a,b,c,e){var f=w.G.lc(a,b,c,e);f||(f=w.G.Hw(a,b,c,e));return f};w.G.lc=function(a,b,c,e){var f=a.Yi;if(b){var h=a.qe(b);!h&&f&&(h=f.qe(b));if(h)return h}if(c){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.lc(c,e);!h&&f&&(h=f.lc(c,e))}return h};w.G.Hw=function(a,b,c,e){var f=a.Yi;c||(c=w.G.Ds(a.fe?a.Zh:a));return f?f.Pc(c,e,b):a.Pc(c,e,b)};
w.G.Fs=function(a,b){a=a.Qe();var c=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&c.push(f)}return c};w.Pd={};w.Pd.Ey=function(a){w.G.xi(a.va,null,"String")};w.Pd.Dy=function(a){w.G.xi(a.va,null,"Number")};w.Pd.Cy=function(a){w.G.xi(a.va,null,"Colour")};
w.Pd.og=function(a){var b=[],c=document.createElement("button");c.setAttribute("text",w.g.NEW_STRING_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(c);c=document.createElement("button");c.setAttribute("text",w.g.NEW_NUMBER_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(c);c=document.createElement("button");c.setAttribute("text",w.g.NEW_COLOUR_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(c);Fg(a,"CREATE_VARIABLE_STRING",w.Pd.Ey);
Fg(a,"CREATE_VARIABLE_NUMBER",w.Pd.Dy);Fg(a,"CREATE_VARIABLE_COLOUR",w.Pd.Cy);a=w.Pd.Eo(a);return b=b.concat(a)};w.Pd.Eo=function(a){a=a.Qe();var b=[];if(0<a.length){if(w.F.variables_set_dynamic){var c='<xml><block type="variables_set_dynamic" gap="24">'+w.G.Vj(a[a.length-1])+"</block></xml>";c=w.w.dd(c).firstChild;b.push(c)}if(w.F.variables_get_dynamic){a.sort(Eg);for(var e=0;c=a[e];e++)c='<xml><block type="variables_get_dynamic" gap="8">'+w.G.Vj(c)+"</block></xml>",c=w.w.dd(c).firstChild,b.push(c)}}return b};function Gg(a){this.Lp=a;this.vj=Object.create(null)}d=Gg.prototype;d.mp=null;d.B=function(){this.vj=this.Lp=null};d.load=function(a,b){if(a.length){try{var c=new window.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&c.canPlayType("audio/"+k[1])){e=new window.Audio(h);break}}e&&e.play&&(this.vj[b]=e)}};d.preload=function(){for(var a in this.vj){var b=this.vj[a];b.volume=.01;b.play().catch(function(){});b.pause();if(uc||tc)break}};
d.play=function(a,b){var c=this.vj[a];c?(a=new Date,null!=this.mp&&a-this.mp<w.Ov||(this.mp=a,c=Bc&&9===Bc||uc||sc?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.Lp&&this.Lp.kg.play(a,b)};d=Ef.prototype;d.Yb=function(){return{width:this.zc(),height:this.Fi()}};
d.ea=function(){if(!this.Pg){var a=this.Yb();this.Jj();this.A.appendChild(this.zd);this.Wh=w.h.C("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.A.appendChild(this.Wh);this.Wg=w.h.C("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.Wg);this.Vb=w.h.C("g",{"class":this.u?"blocklyResizeSW":"blocklyResizeSE"},this.A);w.h.C("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.Vb);w.h.C("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/
3},this.Vb);w.h.C("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.Vb);this.mc()&&(this.ng=w.h.C("g",{"class":"blocklyCommentDeleteIcon"},this.A),this.ks=w.h.C("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.ng),w.h.C("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.ng),w.h.C("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.ng));Hg(this,a.width,a.height);this.Bb.value=this.yc;this.Pg=!0;this.Vb&&w.R(this.Vb,
"mousedown",this,this.Zp);this.mc()&&(w.R(this.ng,"mousedown",this,this.Tw),w.R(this.ng,"mouseout",this,this.Uw),w.R(this.ng,"mouseup",this,this.Vw))}};
d.Jj=function(){this.zd=w.h.C("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(w.cg,"body");a.setAttribute("xmlns",w.cg);a.className="blocklyMinimalBody";var b=document.createElementNS(w.cg,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.u?"RTL":"LTR");a.appendChild(b);this.Bb=b;this.zd.appendChild(a);w.R(b,"wheel",this,function(c){c.stopPropagation()});w.R(b,"change",this,function(){this.cf(b.value)});return this.zd};
d.Zp=function(a){Ig(this);w.h.Eg(a)||(this.o.ln(a,new A(this.o.u?-this.ka:this.ka,this.ua)),this.Jh=w.R(document,"mouseup",this,this.Zy),this.Gp=w.R(document,"mousemove",this,this.$p),w.$b());a.stopPropagation()};d.Tw=function(a){w.h.Va(this.ks,"blocklyDeleteIconHighlighted");a.stopPropagation()};d.Uw=function(){w.h.yb(this.ks,"blocklyDeleteIconHighlighted")};d.Vw=function(a){this.B(!0,!0);a.stopPropagation()};function Ig(a){a.Jh&&(w.Ea(a.Jh),a.Jh=null);a.Gp&&(w.Ea(a.Gp),a.Gp=null)}
d.Zy=function(){w.Touch.yf();Ig(this)};d.$p=function(a){this.Hl=!1;a=Je(this.o,a);Hg(this,this.u?-a.x:a.x,a.y)};
function Hg(a,b,c){b=Math.max(b,45);c=Math.max(c,30);a.ka=b;a.ua=c;a.$k.setAttribute("width",b);a.$k.setAttribute("height",c);a.Wg.setAttribute("width",b);a.Wg.setAttribute("height",c);a.Wh.setAttribute("width",b);a.Wh.setAttribute("height",10);a.u&&(a.$k.setAttribute("transform","scale(-1 1)"),a.Wg.setAttribute("transform","scale(-1 1)"));a.Vb&&(a.u?(a.Vb.setAttribute("transform","translate("+(-b+8)+","+(c-8)+") scale(-1 1)"),a.ng.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.Vb.setAttribute("transform","translate("+(b-8)+","+(c-8)+")"),a.ng.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.Yb();a.zd.setAttribute("width",b.width);a.zd.setAttribute("height",b.height-10);a.u&&a.zd.setAttribute("x",-b.width);a.Bb.style.width=b.width-4+"px";a.Bb.style.height=b.height-4-10+"px"}
d.kq=function(){var a=this;this.Sj=!0;setTimeout(function(){a.Df||(a.Bb.focus(),w.h.Va(a.A,"blocklyFocused"),w.h.Va(a.Wg,"blocklyCommentTargetFocused"),w.h.Va(a.Wh,"blocklyCommentHandleTargetFocused"))},0)};function Gf(a){a.Sj=!1;setTimeout(function(){a.Df||(a.Bb.blur(),w.h.yb(a.A,"blocklyFocused"),w.h.yb(a.Wg,"blocklyCommentTargetFocused"),w.h.yb(a.Wh,"blocklyCommentHandleTargetFocused"))},0)};function Jg(a){this.Gj=a;this.Z()}d=Jg.prototype;d.Ua=null;d.Vd=null;d.Gj=null;d.Z=function(){this.Ua||(this.Ua=w.h.C("svg",{xmlns:w.De,"xmlns:html":w.cg,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Gj.appendChild(this.Ua))};d.Wf=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Ua.style.display="block";w.h.Pk(this.Ua,"translate3d("+a+"px, "+b+"px, 0px)")};d.pm=function(){return w.h.Uc(this.Ua)};
d.Dj=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Ua.childNodes[0],c=this.Ua.childNodes[1];if(!(b&&c&&w.h.Os(b,"blocklyBlockCanvas")&&w.h.Os(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.xe?w.h.Ah(b,this.xe):a.insertBefore(b,a.firstChild);w.h.Ah(c,b);this.Ua.style.display="none";if(this.Ua.childNodes.length)throw Error("Drag surface was not cleared.");w.h.Pk(this.Ua,"");
this.xe=null};
// Copyright 2015 Google Inc.  Apache License 2.0
function Kg(a){this.m=a}d=Kg.prototype;d.gh=32;d.Tq=110;d.Bn=20;d.pj=20;d.A=null;d.wk=0;d.gj=0;d.Z=function(){this.A=w.h.C("g",{},null);var a=String(Math.random()).substring(2);Lg(this,a);Mg(this,a);this.m.Lb()&&Ng(this,a);return this.A};d.I=function(a){this.ag=this.Bn+a;return this.ag+this.Tq};d.B=function(){this.A&&(w.h.removeNode(this.A),this.A=null);this.m=null};
d.position=function(){if(this.ag){var a=this.m.qb();a&&(this.wk=a.na==w.jd||this.m.od&&!this.m.u?a.Ba+a.sb-this.gh-this.pj-G:this.pj+G,a.na==w.hg?(this.gj=this.ag,this.un.setAttribute("transform","translate(0, 34)"),this.vn&&this.vn.setAttribute("transform","translate(0, 77)")):(this.gj=a.Fa+a.tb-this.Tq-this.ag,this.un.setAttribute("transform","translate(0, 43)"),this.Hq.setAttribute("transform","translate(0, 77)")),this.A.setAttribute("transform","translate("+this.wk+","+this.gj+")"))}};
function Lg(a,b){var c=a.m;a.Hq=w.h.C("g",{"class":"blocklyZoom"},a.A);var e=w.h.C("clipPath",{id:"blocklyZoomoutClipPath"+b},a.Hq);w.h.C("rect",{width:32,height:32},e);a=w.h.C("image",{width:w.Lc.width,height:w.Lc.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.Hq);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.we+w.Lc.url);w.R(a,"mousedown",null,function(f){Tf(c);Og(c,-1);w.Touch.yf();f.stopPropagation();f.preventDefault()})}
function Mg(a,b){var c=a.m;a.un=w.h.C("g",{"class":"blocklyZoom"},a.A);var e=w.h.C("clipPath",{id:"blocklyZoominClipPath"+b},a.un);w.h.C("rect",{width:32,height:32},e);a=w.h.C("image",{width:w.Lc.width,height:w.Lc.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.un);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.we+w.Lc.url);w.R(a,"mousedown",null,function(f){Tf(c);Og(c,1);w.Touch.yf();f.stopPropagation();f.preventDefault()})}
function Ng(a,b){var c=a.m;a.vn=w.h.C("g",{"class":"blocklyZoom"},a.A);var e=w.h.C("clipPath",{id:"blocklyZoomresetClipPath"+b},a.vn);w.h.C("rect",{width:32,height:32},e);a=w.h.C("image",{width:w.Lc.width,height:w.Lc.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.vn);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.we+w.Lc.url);w.R(a,"mousedown",null,function(f){Tf(c);c.setScale(c.options.$a.ou);Pg(c);Qg(c);setTimeout(function(){w.h.yb(c.Ra,"blocklyCanvasTransitioning");
w.h.yb(c.Hd,"blocklyCanvasTransitioning")},500);w.Touch.yf();f.stopPropagation();f.preventDefault()})};
// Copyright 2014 Google Inc.  Apache License 2.0
function Rg(a,b,c){Rg.s.constructor.call(this,a);this.qb=a.qb||Sg;this.Sf=a.Sf||Tg;var e=[];e[w.Na]=new Ze;e[w.eg]=new Ze;e[w.ab]=new Ze;e[w.fg]=new Ze;this.bo=e;b&&(this.Db=b);c&&(this.gi=c);this.sn=this.gi&&w.h.Ag();this.kk=[];this.kg=new Gg(a.Mb);this.ee=this.options.Ks?new bg(a.Ks,a.Js):null;w.G&&w.G.og&&Ug(this,w.er,w.G.og);w.Pd&&w.Pd.og&&Ug(this,w.Rv,w.Pd.og);w.pa&&w.pa.og&&Ug(this,w.$q,w.pa.og)}v(Rg,de);d=Rg.prototype;d.dn=null;d.O=!0;d.Fg=!0;d.fe=!1;d.Ni=!1;d.aq=!0;d.scrollX=0;d.scrollY=0;
d.vs=null;d.scale=1;d.qc=null;d.rb=null;d.Gb=null;d.Db=null;d.gi=null;d.sn=!1;d.zm=!1;d.cp=null;d.bt=null;d.Do={};d.Cq={};d.Kr=null;d.Zh=null;d.Xs=null;d.fp=!0;function tg(a){if(a.fp){var b=H(a).getScreenCTM();b&&(a.Xs=b.inverse(),a.fp=!1)}return a.Xs}d.jl=function(){this.fp=!0};d.isVisible=function(){return this.Fg};
function df(a,b){var c=0,e=0,f=1;if(w.h.containsNode(a.Ra,b)||w.h.containsNode(a.Hd,b))f=a.scale;do{var h=w.h.Uc(b);if(b==a.Ra||b==a.Hd)f=1;c+=h.x*f;e+=h.y*f;b=b.parentNode}while(b&&b!=H(a));return new A(c,e)}
d.Z=function(a){this.A=w.h.C("g",{"class":"blocklyWorkspace"},null);a&&(this.Gd=w.h.C("rect",{height:"100%",width:"100%","class":a},this.A),"blocklyMainBackground"==a&&this.ee&&(this.Gd.style.fill="url(#"+this.ee.Hi.id+")"));this.Ra=w.h.C("g",{"class":"blocklyBlockCanvas"},this.A);this.Hd=w.h.C("g",{"class":"blocklyBubbleCanvas"},this.A);this.fe||(w.R(this.A,"mousedown",this,this.Jg,!1,!0),w.R(this.A,"wheel",this,this.Sy));this.options.Ns&&(this.aa=new Vg(this));this.ee&&this.ee.update(this.scale);
Wg(this);return this.A};
d.B=function(){this.O=!1;this.Gb&&this.Gb.cancel();Rg.s.B.call(this);this.A&&(w.h.removeNode(this.A),this.A=null);this.Hd=this.Ra=null;this.aa&&(this.aa.B(),this.aa=null);this.H&&(this.H.B(),this.H=null);this.qc&&(this.qc.B(),this.qc=null);this.rb&&(this.rb.B(),this.rb=null);this.ii&&(this.ii.B(),this.ii=null);this.kg&&(this.kg.B(),this.kg=null);this.ee&&(this.ee.B(),this.ee=null);this.Do=this.Cq=null;if(!this.options.Mb){var a=H(this).parentNode;a&&w.h.removeNode(a)}this.dn&&(w.Ea(this.dn),this.dn=
null)};d.Ze=function(a,b){return new I(this,a,b)};function Xg(a){a.qc=new zg(a);var b=a.qc.Z();a.A.insertBefore(b,a.Ra)}function Yg(a){a.ii=new Kg(a);var b=a.ii.Z();a.A.appendChild(b)}function Zg(a,b){var c={Cf:a.options.Cf,Mb:a,u:a.u,ge:a.options.ge,od:a.od,na:a.options.na};a.H=null;a.H=a.od?new Ag(c):new Bg(c);a.H.ti=!1;return a.H.Z(b)}function $g(a){return a.H?a.H:a.aa?a.aa.H:null}function ne(a){if(a.aq&&a.O){if(a.rb){var b=a.qb();qg(a.rb.Bd,b);sg(a.rb.Kd,b)}a.jl()}}
d.resize=function(){this.aa&&this.aa.position();this.H&&this.H.position();this.qc&&this.qc.position();this.ii&&this.ii.position();this.rb&&this.rb.resize();this.jl();Wg(this)};function Rf(a){var b=Yc(document);Mc(a.bt,b)||(a.bt=b,a.jl(),Wg(a))}function H(a){if(a.rr)return a.rr;for(var b=a.A;b;){if("svg"==b.tagName)return a.rr=b;b=b.parentNode}return null}
d.translate=function(a,b){if(this.sn&&this.zm)this.gi.Wf(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.Ra.setAttribute("transform",c);this.Hd.setAttribute("transform",c)}if(this.Db){c=this.Db;var e=this.scale;c.Qg=e;c.Vd.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.ee&&this.ee.moveTo(a,b)};
function Uf(a){if(a.sn){a.zm=!1;var b=a.gi.pm();a.gi.Dj(a.A);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Ra.setAttribute("transform",b);a.Hd.setAttribute("transform",b)}}
function Mf(a){if(a.sn&&!a.zm){a.zm=!0;var b=a.Ra.previousSibling,c=parseInt(H(a).getAttribute("width"),10),e=parseInt(H(a).getAttribute("height"),10),f=w.h.Uc(a.Ra),h=a.gi,k=a.Ra,l=a.Hd,m=a.scale;if(h.Ua.childNodes.length)throw Error("Already dragging a block.");h.xe=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.Ua.setAttribute("width",c);h.Ua.setAttribute("height",e);h.Ua.appendChild(k);h.Ua.appendChild(l);h.Ua.style.display=
"block";a.gi.Wf(f.x,f.y)}}d.zc=function(){var a=this.qb();return a?a.Ba/this.scale:0};d.sa=function(a){this.rb&&this.rb.Oh(a);$g(this)&&$g(this).Oh(a);H(this).style.display=a?"block":"none";this.aa&&(this.aa.Ic.style.display=a?"block":"none");a?(this.ea(),this.aa&&this.aa.position()):w.$b(!0);this.Fg=a};d.ea=function(){for(var a=B(this,!1),b=a.length-1;0<=b;b--)a[b].ea(!1);if(this.Gb)for(a=this.Gb.Gi(),b=0;b<a.length;b++)a[b].ea(!1)};
function ah(a){var b=w.Ej;if(a.O&&!(b.getElementsByTagName("block").length>=te(a)))if(a.Gb&&a.Gb.cancel(),"comment"==b.tagName.toLowerCase()){w.j.disable();try{var c=fe(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.u&&(e=-e),c.moveBy(e+50,f+50))}finally{w.j.enable()}c.select()}else{w.j.disable();try{var h=w.w.Ai(b,a),k=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(k)&&!isNaN(l)){a.u&&(k=-k);do{b=!1;var m=B(a,!1);c=
0;for(var n;n=m[c];c++){var p=n.wa();if(1>=Math.abs(k-p.x)&&1>=Math.abs(l-p.y)){b=!0;break}}if(!b){var t=h.$d(!1);c=0;for(var r;r=t[c];c++)if(r.closest(w.Kc,new A(k,l)).connection){b=!0;break}}b&&(k=a.u?k-w.Kc:k+w.Kc,l+=2*w.Kc)}while(b);h.moveBy(k,l)}}finally{w.j.enable()}w.j.isEnabled()&&!h.Oa&&w.j.U(new w.j.tl(h));h.select()}}function bh(a){if((a=a.fe?a.Zh:a)&&!a.Gb&&a.aa&&a.aa.H){a=a.aa;var b=a.gd.Gc;b&&b.Ge&&a.H.show(b.Ge)}}d.Nh=function(a,b){Rg.s.Nh.call(this,a,b);bh(this)};
d.Je=function(a){Rg.s.Je.call(this,a);bh(this)};d.Pc=function(a,b,c){a=Rg.s.Pc.call(this,a,b,c);bh(this);return a};function Wg(a){a.js=a.qc&&a.A.parentNode?a.qc.Di():null;a.hs=a.H?a.H.Di():a.aa?a.aa.Di():null}function zf(a,b){b=new A(b.clientX,b.clientY);return a.js&&a.js.contains(b)?w.zn:a.hs&&a.hs.contains(b)?w.Rq:w.Qq}d.Jg=function(a){var b=this.Re(a);b&&Xf(b,a,this)};d.ln=function(a,b){a=w.h.Dk(a,H(this),tg(this));a.x/=this.scale;a.y/=this.scale;this.vs=Oc(b,a)};
function Je(a,b){b=w.h.Dk(b,H(a),tg(a));b.x/=a.scale;b.y/=a.scale;return Pc(a.vs,b)}d.Kb=function(){return null!=this.Gb&&this.Gb.Kb()};function ch(a){return a.options.bc&&a.options.bc.scrollbars||a.options.bc&&a.options.bc.ei||a.options.bc&&a.options.bc.mh||a.options.$a&&a.options.$a.controls||a.options.$a&&a.options.$a.ei}d.Lb=function(){return this.options.bc&&this.options.bc.scrollbars||this.options.bc&&this.options.bc.ei||this.options.bc&&this.options.bc.mh||this.options.$a&&this.options.$a.ei};
d.Sy=function(a){if(ag())a.preventDefault(),a.stopPropagation();else{var b=this.options.$a&&this.options.$a.ei,c=this.options.bc&&this.options.bc.ei;if(b||c){var e=w.h.Po(a);!b||!a.ctrlKey&&c?(b=this.scrollX-e.x,c=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,c=this.scrollY),this.scroll(b,c)):(e=-e.y/50,b=w.h.Dk(a,H(this),tg(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function ke(a){var b=be(a,!1);a=ae(a,!1);b=b.concat(a);if(!b.length)return{x:0,y:0,width:0,height:0};a=b[0].dm();for(var c=1;c<b.length;c++){var e=b[c].dm();e.fd.x<a.fd.x&&(a.fd.x=e.fd.x);e.xd.x>a.xd.x&&(a.xd.x=e.xd.x);e.fd.y<a.fd.y&&(a.fd.y=e.fd.y);e.xd.y>a.xd.y&&(a.xd.y=e.xd.y)}return{x:a.fd.x,y:a.fd.y,width:a.xd.x-a.fd.x,height:a.xd.y-a.fd.y}}
d.xw=function(){this.hc(!1);w.j.N(!0);for(var a=be(this,!0),b=0,c=0,e;e=a[c];c++)if(e.Lb()){var f=e.wa();e.moveBy(-f.x,b-f.y);dh(e);b=e.wa().y+e.Yb().height+25}w.j.N(!1);this.hc(!0)};
d.dj=function(a){function b(q){if(q.mc())r=r.concat(qd(q,!1));else{q=q.Ff(!1);for(var y=0;y<q.length;y++)b(q[y])}}function c(){w.j.N(h);var q=r.shift();q&&(q.o?(q.B(!1,!0),setTimeout(c,10)):c());w.j.N(!1)}if(!this.options.readOnly&&!this.fe){var e=[],f=be(this,!0),h=w.h.Oe(),k=this,l={};l.text=w.g.UNDO;l.enabled=0<this.$h.length;l.Wa=this.Dq.bind(this,!1);e.push(l);l={};l.text=w.g.REDO;l.enabled=0<this.Kk.length;l.Wa=this.Dq.bind(this,!0);e.push(l);this.Lb()&&(l={},l.text=w.g.CLEAN_UP,l.enabled=1<
f.length,l.Wa=this.xw.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var p=f[n];p;)p.isCollapsed()?l=!0:m=!0,p=rd(p);var t=function(q){for(var y=0,L=0;L<f.length;L++)for(var R=f[L];R;)setTimeout(R.Sg.bind(R,q),y),R=rd(R),y+=10};m={enabled:m};m.text=w.g.COLLAPSE_ALL;m.Wa=function(){t(!0)};e.push(m);l={enabled:l};l.text=w.g.EXPAND_ALL;l.Wa=function(){t(!1)};e.push(l)}var r=[];for(n=0;n<f.length;n++)b(f[n]);l={text:1==r.length?w.g.DELETE_BLOCK:w.g.DELETE_X_BLOCKS.replace("%1",
String(r.length)),enabled:0<r.length,Wa:function(){k.Gb&&k.Gb.cancel();2>r.length?c():w.confirm(w.g.DELETE_ALL_BLOCKS.replace("%1",r.length),function(q){q&&c()})}};e.push(l);this.Kr&&this.Kr(e);w.ba.show(a,e,this.u)}};
d.Du=function(a){if(a=eg(a)){if(!this.options.Ye)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.aa)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Ye=a;a=this.aa.Tm(a);eh(this.aa);this.aa.position();this.aa.gd.Uf(a)}else{if(!this.H)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Ye=a;this.H.show(a.childNodes)}}else if(this.options.Ye)throw Error("Can't nullify an existing toolbox.");
};function Tf(a){if(a.options.Mb)Tf(a.options.Mb);else{w.yk=a;document.activeElement&&document.activeElement.blur();try{H(a).focus()}catch(b){try{H(a).parentNode.setActive()}catch(c){H(a).parentNode.focus()}}}}
d.zoom=function(a,b,c){c=Math.pow(this.options.$a.bz,c);var e=this.scale*c;if(this.scale!=e){e>this.options.$a.Bk?c=this.options.$a.Bk/this.scale:e<this.options.$a.Ck&&(c=this.options.$a.Ck/this.scale);var f=this.Ra.getCTM(),h=H(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(f.inverse());a=h.x;b=h.y;f=f.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
function Og(a,b){var c=a.qb();if(a.H){var e=c.lz/2;c=c.kz/2}else e=c.Ba/2+c.sb,c=c.Fa/2+c.tb;a.zoom(e,c,b)}function Pg(a){w.h.Va(a.Ra,"blocklyCanvasTransitioning");w.h.Va(a.Hd,"blocklyCanvasTransitioning")}function Qg(a){if(a.Lb()){var b=a.qb(),c=(b.ld-b.Ba)/2,e=(b.Oc-b.Fa)/2;c=-c-b.Sb;e=-e-b.Fb;a.scroll(c,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
d.setScale=function(a){this.options.$a.Bk&&a>this.options.$a.Bk?a=this.options.$a.Bk:this.options.$a.Ck&&a<this.options.$a.Ck&&(a=this.options.$a.Ck);this.scale=a;w.$b(!1);this.H&&(this.H.Wp(),Wg(this));this.ee&&this.ee.update(this.scale);a=this.qb();this.scrollX-=a.sb;this.scrollY-=a.tb;a.pb+=a.sb;a.Cb+=a.tb;this.scroll(this.scrollX,this.scrollY);this.rb&&(this.H?(ng(this.rb.Bd,a),og(this.rb.Kd,a)):(qg(this.rb.Bd,a),sg(this.rb.Kd,a)))};
d.scroll=function(a,b){var c=this.qb(),e=c.ld+c.Sb-c.Ba,f=c.Oc+c.Fb-c.Fa;a=Math.min(a,-c.Sb);b=Math.min(b,-c.Fb);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.rb&&(hg(this.rb.Bd,-(a+c.Sb)*this.rb.Bd.cc),hg(this.rb.Kd,-(b+c.Fb)*this.rb.Kd.cc));w.K.Ia(!0);a+=c.sb;b+=c.tb;this.translate(a,b)};function fh(a){var b=0,c=0;a&&(b=a.zc(),c=a.Fi());return{width:b,height:c}}
function gh(a){var b=ke(a),c=a.scale;a=b.width*c;var e=b.height*c,f=b.x*c;b=b.y*c;return{left:f,top:b,right:f+a,bottom:b+e,width:a,height:e}}
function Sg(){var a=fh(this.aa),b=fh(this.H),c=w.vu(H(this)),e=c.height,f=c.width;if(this.aa)if(this.na==w.Mc||this.na==w.hg)e-=a.height;else{if(this.na==w.jd||this.na==w.Ee)f-=a.width}else if(this.H)if(this.na==w.Mc||this.na==w.hg)e-=b.height;else if(this.na==w.jd||this.na==w.Ee)f-=b.width;if(ch(this)){var h=gh(this);var k=f,l=e,m=k/2,n=l/2,p=Math.min(h.left-m,h.right-k),t=Math.min(h.top-n,h.bottom-l);h={left:p,top:t,height:Math.max(h.bottom+n,h.top+l)-t,width:Math.max(h.right+m,h.left+k)-p}}else h=
gh(this);k=0;this.aa&&this.na==w.jd?k=a.width:this.H&&this.na==w.jd&&(k=b.width);l=0;this.aa&&this.na==w.Mc?l=a.height:this.H&&this.na==w.Mc&&(l=b.height);return{Oc:h.height,ld:h.width,Fb:h.top,Sb:h.left,Fa:e,Ba:f,Cb:-this.scrollY,pb:-this.scrollX,tb:l,sb:k,kz:c.height,lz:c.width,zu:a.width,yu:a.height,rA:b.width,qA:b.height,na:this.na}}
function Tg(a){var b=this.qb();"number"==typeof a.x&&(this.scrollX=-b.ld*a.x-b.Sb);"number"==typeof a.y&&(this.scrollY=-b.Oc*a.y-b.Fb);this.translate(this.scrollX+b.sb,this.scrollY+b.tb)}d.hc=function(a){var b=!this.aq&&a;this.aq=a;b&&ne(this)};d.clear=function(){this.hc(!1);Rg.s.clear.call(this);this.hc(!0)};function Fg(a,b,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Do[b]=c}function hh(a,b){return(a=a.Do[b])?a:null}
function Ug(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.Cq[b]=c}d.Re=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Gb;return c?b&&c.uh?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Gb=new ug(a,this):null};Rg.prototype.setVisible=Rg.prototype.sa;function ih(a){ih.s.constructor.call(this,null);this.Ut=a}v(ih,Le);d=ih.prototype;d.kj=0;d.ll=0;
d.zo=function(a){w.h.C("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);w.h.C("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
w.h.C("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};d.$o=function(a){ce(this.V)&&Le.prototype.$o.call(this,a)};
d.Jj=function(){this.Zk=w.h.C("svg",{x:Ae,y:Ae},null);if(this.Ut.length)for(var a=w.w.h.createElement("xml"),b=0,c;c=this.Ut[b];b++){var e=w.w.h.createElement("block");e.setAttribute("type",c);a.appendChild(e)}else a=null;a={disable:!1,Cf:this.V.o.options.Cf,Ye:a,Mb:this.V.o,we:this.V.o.options.we,u:this.V.u,na:this.V.u?w.Ee:w.jd,od:!1,qb:this.tx.bind(this),Sf:null};this.m=new Rg(a);this.m.Ni=!0;this.m.Nc(w.j.rs);a=Zg(this.m,"g");b=this.m.Z("blocklyMutatorBackground");b.insertBefore(a,this.m.Ra);
this.Zk.appendChild(b);return this.Zk};d.$f=function(){this.V.xb||(ce(this.V)?this.Wc&&w.h.yb(this.Wc,"blocklyIconGroupReadonly"):(this.sa(!1),this.Wc&&w.h.Va(this.Wc,"blocklyIconGroupReadonly")));Le.prototype.$f.call(this)};
d.an=function(){var a=2*Ae,b=this.m.Ra.getBBox();var c=this.V.u?-b.x:b.width+b.x;b=b.height+3*a;if(this.m.H){var e=this.m.H.Gf();b=Math.max(b,e.Oc+20)}c+=3*a;if(Math.abs(this.kj-c)>a||Math.abs(this.ll-b)>a)this.kj=c,this.ll=b,this.cb.Rg(c+a,b+a),this.Zk.setAttribute("width",this.kj),this.Zk.setAttribute("height",this.ll);this.V.u&&this.m.Ra.setAttribute("transform","translate("+this.kj+",0)");this.m.resize()};
d.sa=function(a){if(a!=this.isVisible())if(w.j.U(new Id(this.V,"mutatorOpen",!a,a)),a){this.cb=new xe(this.V.o,this.Jj(),this.V.cd,this.yh,null,null);Ge(this.cb,this.V.id);if(a=this.m.options.Ye)this.m.H.I(this.m),this.m.H.show(a.childNodes);this.Pf=this.V.Bf(this.m);a=qd(this.Pf,!1);for(var b=0,c;c=a[b];b++)c.ea();this.Pf.Ph(!1);this.Pf.iq(!1);this.m.H?(a=2*this.m.H.ta,b=$g(this.m).zc()+a):b=a=16;this.V.u&&(b=-b);this.Pf.moveBy(b,a);if(this.V.fn){var e=this;this.V.fn(this.Pf);this.jn=function(){e.V.fn(e.Pf)};
this.V.o.Nc(this.jn)}this.an();this.m.Nc(this.Bz.bind(this));this.Zf()}else this.Zk=null,this.m.B(),this.Pf=this.m=null,this.cb.B(),this.cb=null,this.ll=this.kj=0,this.jn&&(this.V.o.Ng(this.jn),this.jn=null)};
d.Bz=function(a){if(a.type!=w.j.Dl&&(a.type!=w.j.bh||"disabled"!=a.element)){if(!this.m.Kb()){a=be(this.m,!1);for(var b=0,c;c=a[b];b++){var e=c.wa(),f=c.Yb();20>e.y+f.height&&c.moveBy(0,20-f.height-e.y)}}if(this.Pf.o==this.m){w.j.N(!0);c=this.V;a=(a=c.Da())&&w.w.Rc(a);b=c.O;c.O=!1;c.Af(this.Pf);c.O=b;c.Bc();b=(b=c.Da())&&w.w.Rc(b);if(a!=b){w.j.U(new w.j.hd(c,"mutation",null,a,b));var h=w.j.Ib();setTimeout(function(){w.j.N(h);c.mb();w.j.N(!1)},w.rl)}c.O&&c.ea();this.m.Kb()||this.an();w.j.N(!1)}}};
d.tx=function(){return{Fa:this.ll,Ba:this.kj-$g(this.m).zc(),tb:0,sb:this.m.u?0:$g(this.m).zc()}};d.B=function(){this.V.$c=null;Le.prototype.B.call(this)};function jh(a,b,c){if(!a||!a.v.o)return!1;c=E(b,c).connection;var e=D(a);return e&&e!=b||c.ga==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}function kh(a){var b=null;if(a&&a.options){var c=a.options.Mb;a.fe?c&&c.options&&(b=c.options.Mb):c&&(b=c)}return b}g.Blockly||(g.Blockly={});g.Blockly.Mutator||(g.Blockly.Mutator={});
g.Blockly.Mutator.reconnect=jh;w.P={};w.P.wn={};w.P.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(w.P.wn[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');w.P.wn[a]=b};w.P.Xm=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');w.P.register(a,function(){lh(this,b)})};
w.P.Xp=function(a,b,c,e){var f='Error when registering mutator "'+a+'": ';w.P.zr(f,b.Ya,"domToMutation");w.P.zr(f,b.Da,"mutationToDom");var h=w.P.Br(b,f);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');w.P.register(a,function(){h&&this.Vg(new ih(e));lh(this,b);c&&c.apply(this)})};
w.P.apply=function(a,b,c){var e=w.P.wn[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(c)w.P.vw(a,b);else var f=w.P.Oo(b);e.apply(b);if(c)w.P.tw('Error after applying mutator "'+a+'": ',b);else if(!w.P.vy(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
w.P.zr=function(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');};w.P.vw=function(a,b){if(w.P.Oo(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
w.P.Br=function(a,b){var c=void 0!==a.Af,e=void 0!==a.Bf;if(c&&e){if("function"!=typeof a.Af)throw Error(b+"compose must be a function.");if("function"!=typeof a.Bf)throw Error(b+"decompose must be a function.");return!0}if(c||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
w.P.tw=function(a,b){if("function"!=typeof b.Ya)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Da)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');w.P.Br(b,a)};w.P.Oo=function(a){var b=[];void 0!==a.Ya&&b.push(a.Ya);void 0!==a.Da&&b.push(a.Da);void 0!==a.Af&&b.push(a.Af);void 0!==a.Bf&&b.push(a.Bf);return b};w.P.vy=function(a,b){b=w.P.Oo(b);if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!=b[c])return!1;return!0};
w.P.Il=function(a,b){var c=[];"object"==typeof document&&w.h.$t(function(){for(var e in b)w.h.Ar(b[e])});return function(){this.type&&-1===c.indexOf(this.type)&&(w.P.uw(this,a,b),c.push(this.type));this.qa(function(){var e=C(this,a),f=b[e];null==f?-1===c.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=w.h.nc(f);return f}.bind(this))}};
w.P.uw=function(a,b,c){var e=Wd(a,b);if("function"!=typeof e.Eh){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==c[h]&&console.warn("No tooltip mapping for value "+h+" of field "+b+" of block type "+a.type)}}};w.P.Sn=function(a){"object"==typeof document&&w.h.$t(function(){w.h.Ar(a)});return function(){this.qa(function(){var b=Wd(this,"VAR");return w.h.nc(a).replace("%1",b?b.Jb():"")}.bind(this))}};
w.P.ix=function(){this.uz=this.ud;this.qa(function(){var a=this.getParent();return a&&mh(a)&&a.ud||this.uz}.bind(this))};w.P.register("parent_tooltip_when_inline",w.P.ix);function nh(a,b){var c=Tc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function oh(a,b){return nh(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function pd(){var a=document,b=a.body;a=a.documentElement;return new A(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function ph(a){try{var b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}x&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function qh(a){var b=Tc(a),c=new A(0,0);var e=b?Tc(b):document;e=!x||9<=Number(Bc)||"CSS1Compat"==Rc(e).Ud.compatMode?e.documentElement:e.body;if(a==e)return c;a=ph(a);b=Yc(Rc(b).Ud);c.x=a.left+b.x;c.y=a.top+b.y;return c}
function rh(a){"number"==typeof a&&(a+="px");return a}function sh(a){var b=th;if("none"!=oh(a,"display"))return b(a);var c=a.style,e=c.display,f=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=e;c.position=h;c.visibility=f;return a}function th(a){var b=a.offsetWidth,c=a.offsetHeight,e=z&&!b&&!c;return ma(b)&&!e||!a.getBoundingClientRect?new Qc(b,c):(a=ph(a),new Qc(a.right-a.left,a.bottom-a.top))}
function uh(a,b){a.style.display=b?"":"none"}var vh=pc?"MozUserSelect":z||oc?"WebkitUserSelect":null;function wh(a,b,c){c=c?null:a.getElementsByTagName("*");if(vh){if(b=b?"none":"",a.style&&(a.style[vh]=b),c){a=0;for(var e;e=c[a];a++)e.style&&(e.style[vh]=b)}}else if(x||nc)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;e=c[a];a++)e.setAttribute("unselectable",b)}var xh={thin:2,medium:4,thick:6};
function yh(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;if(c in xh)a=xh[c];else if(/^\d+px?$/.test(c))a=parseInt(c,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+c}return a};function zh(a,b){this.Ab=new Qc(0,25);this.setValue(a);this.bi=b}var Ah={};function Bh(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.la)throw Error('Field "'+b+'" must have a fromJson function');Ah[a]=b}var Ch=null,Dh=0;d=zh.prototype;d.name=void 0;d.mt=50;d.xa="";d.v=null;d.ip=!0;d.La=!0;d.bi=null;d.Yn=null;d.dh=!0;d.gg=!1;d.pq=function(a){if(this.v)throw Error("Field already bound to a block.");this.v=a};
d.I=function(){this.hb||(this.hb=w.h.C("g",{},null),this.La||(this.hb.style.display="none"),this.wd=w.h.C("rect",{rx:4,ry:4,x:-5,y:0,height:16},this.hb),this.za=w.h.C("text",{"class":"blocklyText",y:this.Ab.height-12.5},this.hb),this.$f(),this.Yn=this.Y(),this.v.Y().appendChild(this.hb),this.Lm=w.R(this.Yn,"mousedown",this,this.Jg))};d.zh=function(){};d.B=function(){this.Lm&&(w.Ea(this.Lm),this.Lm=null);this.v=null;this.hb&&(w.h.removeNode(this.hb),this.hb=null);this.bi=this.wd=this.za=null};
d.$f=function(){var a=this.Yn||this.Y();this.dh&&a&&(ce(this.v)?(w.h.Va(a,"blocklyEditableText"),w.h.yb(a,"blocklyNonEditableText"),a.style.cursor=this.xl):(w.h.Va(a,"blocklyNonEditableText"),w.h.yb(a,"blocklyEditableText"),a.style.cursor=""))};d.isVisible=function(){return this.La};d.sa=function(a){if(this.La!=a){this.La=a;var b=this.Y();b&&(b.style.display=a?"block":"none",this.Of())}};function Eh(a,b){a.bi=b}d.Wn=function(a){return a};
function Xd(a,b){var c=a.Wn(b);if(null===c)return null;void 0!==c&&(b=c);if(c=a.bi){a=c.call(a,b);if(null===a)return null;void 0!==a&&(b=a)}return b}d.Y=function(){return this.hb};d.Of=function(){this.La?(this.za.textContent=Fh(this),this.jj(),this.ip=!1):this.Ab.width=0};d.jj=function(){var a=Gh(this.za);this.wd&&this.wd.setAttribute("width",a+10);this.Ab.width=a};
function Gh(a){var b=a.textContent+"\n"+a.className.baseVal,c;if(Ch&&(c=Ch[b]))return c;try{c=x||oc?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}Ch&&(Ch[b]=c);return c}function ee(){Dh++;Ch||(Ch={})}function je(){Dh--;Dh||(Ch=null)}d.ak=function(){this.ip?this.Of():this.La&&0==this.Ab.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Of());return this.Ab};
function Hh(a){var b=a.wd.getBBox(),c=b.height*a.v.o.scale;b=b.width*a.v.o.scale;a=qh(a.wd);return{top:a.y,bottom:a.y+c,left:a.x,right:a.x+b}}function Fh(a){var b=a.xa;if(!b)return"\u00a0";b.length>a.mt&&(b=b.substring(0,a.mt-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.v.u&&(b+="\u200f");return b}d.Jb=function(){return this.xa};d.zb=function(a){null!==a&&(a=String(a),a!==this.xa&&(this.xa=a,this.Tj()))};d.Tj=function(){this.ip=!0;this.v&&this.v.O&&(this.v.ea(),this.v.mb())};d.getValue=function(){return this.Jb()};
d.setValue=function(a){if(null!==a){var b=Xd(this,a);null!==b&&(a=b);b=this.getValue();b!=a&&(this.v&&w.j.isEnabled()&&w.j.U(new w.j.hd(this.v,"field",this.name,b,a)),this.zb(a))}};d.Jg=function(a){if(this.v&&this.v.o&&(a=this.v.o.Re(a))){if(a.uh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Uh||(a.Uh=this)}};d.qa=function(){};d.Lh=function(){return!1};function Ih(a,b){this.Ab=new Qc(0,17.5);this.Dr=b;this.setValue(a);this.lf=""}v(Ih,zh);Ih.la=function(a){var b=w.h.nc(a.text);return new Ih(b,a["class"])};d=Ih.prototype;d.dh=!1;d.I=function(){this.za||(this.za=w.h.C("text",{"class":"blocklyText",y:this.Ab.height-5},null),this.Dr&&w.h.Va(this.za,this.Dr),this.La||(this.za.style.display="none"),this.v.Y().appendChild(this.za),this.za.ud=this.lf?this.lf:this.v,w.D.hh(this.za))};d.B=function(){this.za&&(w.h.removeNode(this.za),this.za=null)};d.Y=function(){return this.za};
d.qa=function(a){this.lf=a;this.za&&(this.za.ud=a)};Bh("field_label",Ih);function Jh(a,b,c,e){if(a!=w.pf&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.v=c;this.connection=e;this.Ha=[]}d=Jh.prototype;d.align=w.lj;d.La=!0;function J(a,b,c){Kh(a,a.Ha.length,b,c);return a}
function Kh(a,b,c,e){if(0>b||b>a.Ha.length)throw Error("index "+b+" out of bounds.");if(!c&&!e)return b;"string"==typeof c&&(c=new Ih(c));c.pq(a.v);a.v.O&&c.I();c.name=e;c.Op&&(b=Kh(a,b,c.Op));a.Ha.splice(b,0,c);++b;c.Aq&&(b=Kh(a,b,c.Aq));a.v.O&&(a.v.ea(),a.v.mb());return b}d.isVisible=function(){return this.La};
d.sa=function(a){var b=[];if(this.La==a)return b;for(var c=(this.La=a)?"block":"none",e=0,f;f=this.Ha[e];e++)f.sa(a);this.connection&&(a?b=nf(this.connection):pf(this.connection),e=D(this.connection))&&(e.Y().style.display=c,a||(e.O=!1));return b};d.Ka=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ka(a);return this};function Lh(a,b){a.align=b;a.v.O&&a.v.ea();return a}d.I=function(){if(this.v.o.O)for(var a=0;a<this.Ha.length;a++)this.Ha[a].I()};
d.B=function(){for(var a=0,b;b=this.Ha[a];a++)b.B();this.connection&&this.connection.B();this.v=null};function Pe(a){Pe.s.constructor.call(this,a);Me(this);this.xa={}}v(Pe,Le);d=Pe.prototype;d.Fr=!1;d.zo=function(a){w.h.C("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);w.h.C("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);w.h.C("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
d.sa=function(a){if(a!=this.isVisible())if(w.j.U(new Id(this.V,"warningOpen",!a,a)),a){var b=this.Jb();a=w.h.C("text",{"class":"blocklyText blocklyBubbleText",y:Ae},null);b=b.split("\n");for(var c=0;c<b.length;c++)w.h.C("tspan",{dy:"1em",x:Ae},a).appendChild(document.createTextNode(b[c]));this.cb=new xe(this.V.o,a,this.V.cd,this.yh,null,null);Ge(this.cb,this.V.id);if(this.V.u){b=a.getBBox().width;c=0;for(var e;e=a.childNodes[c];c++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Ae)}this.Zf();
a=this.cb.ph();this.cb.Rg(a.width,a.height)}else this.cb.B(),this.cb=null};d.zb=function(a,b){this.xa[b]!=a&&(a?this.xa[b]=a:delete this.xa[b],this.isVisible()&&(this.sa(!1),this.sa(!0)))};d.Jb=function(){var a=[],b;for(b in this.xa)a.push(this.xa[b]);return a.join("\n")};d.B=function(){this.V.rc=null;Le.prototype.B.call(this)};function se(a,b,c){if("undefined"!==typeof Mh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!Nd(a,c)?c:w.h.Oe();a.Pn[this.id]=this;this.T=this.L=this.M=null;this.S=[];this.zg=void 0;this.disabled=!1;this.ud="";this.contextMenu=!0;this.af=null;this.wf=[];this.xs=this.Ek=this.Nj=!0;this.zf=this.Oa=!1;this.Xa=null;this.Ld=new A(0,0);this.o=a;this.xb=a.fe;this.u=a.u;this.te=!1;this.vh=void 0;if(b){this.type=b;c=w.F[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+
b);Da(this,c)}a.ej.push(this);a.Yf[this.type]||(a.Yf[this.type]=[]);a.Yf[this.type].push(this);"function"==typeof this.I&&this.I();this.Zx=this.zg;if(w.j.isEnabled()){(a=w.j.Ib())||w.j.N(!0);try{w.j.U(new w.j.tl(this))}finally{a||w.j.N(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Hk&&this.o.Ng(this.Hk);if(this.onchange=a)this.Hk=a.bind(this),this.o.Nc(this.Hk)}}d=se.prototype;d.data=null;d.Rd="#000000";d.Hr=null;
d.Ir=null;d.Xk=null;
d.B=function(a){if(this.o){this.Hk&&this.o.Ng(this.Hk);Zd(this,a);w.j.isEnabled()&&w.j.U(new w.j.Kq(this));w.j.disable();try{if(this.o){re(this.o,this);var b=this.o;b.Yf[this.type].splice(b.Yf[this.type].indexOf(this),1);b.Yf[this.type].length||delete b.Yf[this.type];delete this.o.Pn[this.id];this.o=null}w.selected==this&&(w.selected=null);for(var c=this.wf.length-1;0<=c;c--)this.wf[c].B(!1);c=0;for(var e;e=this.S[c];c++)e.B();this.S.length=0;var f=this.$d(!0);for(c=0;c<f.length;c++){var h=f[c];h.isConnected()&&
h.disconnect();f[c].B()}}finally{w.j.enable()}}};d.zh=function(){for(var a=0,b;b=this.S[a];a++)for(var c=0,e;e=b.Ha[c];c++)e.zh&&e.zh()};
function Zd(a,b){if(a.M){var c=null;a.M.isConnected()&&(c=a.M.ga,a.M.disconnect());if(c&&b){a:{b=null;for(var e=0;e<a.S.length;e++){var f=a.S[e].connection;if(f&&f.type==w.Na&&f.ga){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!D(a).Oa&&(a=a.ga,Se(a,c)&&(a.disconnect(),c.connect(a)))}}else a.T&&(c=null,a.T.isConnected()&&(c=a.T.ga,a.T.disconnect()),e=rd(a),b&&e&&!e.Oa&&(a=a.L.ga,a.disconnect(),c&&Se(c,a)&&c.connect(a)))}
d.$d=function(){var a=[];this.M&&a.push(this.M);this.T&&a.push(this.T);this.L&&a.push(this.L);for(var b=0,c;c=this.S[b];b++)c.connection&&a.push(c.connection);return a};d.mb=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};d.getParent=function(){return this.af};function Nh(a){do{var b=a;a=a.getParent();if(!a)return null}while(rd(a)==b);return a}function rd(a){return a.L&&D(a.L)}
function gf(a){var b=a;do a=b,b=a.af;while(b);return a}d.Ff=function(a){if(!a)return this.wf;a=[];for(var b=0,c;c=this.S[b];b++)c.connection&&(c=D(c.connection))&&a.push(c);(b=rd(this))&&a.push(b);return a};d.Qh=function(a){if(a!=this.af){if(this.af){w.h.zj(this.af.wf,this);if(this.T&&this.T.isConnected())throw Error("Still connected to previous block.");if(this.M&&this.M.isConnected())throw Error("Still connected to parent block.");this.af=null}else re(this.o,this);(this.af=a)?a.wf.push(this):this.o.ej.push(this)}};
function qd(a,b){var c=[a];a=a.Ff(b);for(var e,f=0;e=a[f];f++)c.push.apply(c,qd(e,b));return c}d.mc=function(){return this.Nj&&!this.Oa&&!(this.o&&this.o.options.readOnly)};d.iq=function(a){this.Nj=a};d.Lb=function(){return this.Ek&&!this.Oa&&!(this.o&&this.o.options.readOnly)};d.Ph=function(a){this.Ek=a};d.oq=function(a){this.Oa=a};d.du=function(a){this.te=a};function ce(a){return a.xs&&!(a.o&&a.o.options.readOnly)}d.jq=function(a){this.xs=a;a=0;for(var b;b=this.S[a];a++)for(var c=0,e;e=b.Ha[c];c++)e.$f()};
function le(a,b){if(!b&&a.isCollapsed()){if(a.M&&of(a.M,b),a.T&&of(a.T,b),a.L){of(a.L,b);var c=D(a.L);c&&le(c,b)}}else{a=a.$d(!0);for(var e=0;c=a[e];e++)of(c,b),We(c)&&(c=D(c))&&le(c,b)}}d.qa=function(a){this.ud=a};d.Hc=function(a){var b="string"==typeof a?w.h.nc(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)this.Rd=w.Us(c);else if("string"==typeof b&&/^#[0-9a-fA-F]{6}$/.test(b))this.Rd=b;else throw c='Invalid colour: "'+b+'"',a!=b&&(c+=' (from "'+a+'")'),Error(c);};
function Oh(a,b){var c=w.al;if(!c)throw Error("Trying to set block style to "+b+" before theme was defined via Blockly.setTheme().");c=c.lw[b];a.Xk=b;if(c)a.Hr=c.colourSecondary,a.Ir=c.colourTertiary,a.vh=c.vh,a.Hc(c.colourPrimary);else throw Error("Invalid style name: "+b);}function Wd(a,b){for(var c=0,e;e=a.S[c];c++)for(var f=0,h;h=e.Ha[f];f++)if(h.name===b)return h;return null}d.rm=function(){for(var a=[],b=0,c;c=this.S[b];b++)for(var e=0,f;f=c.Ha[e];e++)f.Lh()&&a.push(f.getValue());return a};
d.If=function(){for(var a=[],b=0,c;c=this.S[b];b++)for(var e=0,f;f=c.Ha[e];e++)f.Lh()&&(f=this.o.qe(f.getValue()))&&a.push(f);return a};d.rn=function(a){for(var b=0,c;c=this.S[b];b++)for(var e=0,f;f=c.Ha[e];e++)f.Lh()&&a.$()==f.getValue()&&f.zb(a.name)};d.Mk=function(a,b){for(var c=0,e;e=this.S[c];c++)for(var f=0,h;h=e.Ha[f];f++)h.Lh()&&a==h.getValue()&&h.setValue(b)};function C(a,b){return(a=Wd(a,b))?a.getValue():null}
function wf(a,b,c){a=Wd(a,c);if(!a)throw Error('Field "'+c+'" not found.');a.setValue(b)}d.Ed=function(a,b){if(a){void 0===b&&(b=null);if(!this.T){if(this.M)throw Error("Remove output connection prior to adding previous connection.");this.T=this.zk(w.fg)}this.T.Ka(b)}else if(this.T){if(this.T.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.T.B();this.T=null}};
d.Dd=function(a,b){if(a)void 0===b&&(b=null),this.L||(this.L=this.zk(w.ab)),this.L.Ka(b);else if(this.L){if(this.L.isConnected())throw Error("Must disconnect next statement before removing connection.");this.L.B();this.L=null}};
d.bd=function(a,b){if(a){void 0===b&&(b=null);if(!this.M){if(this.T)throw Error("Remove previous connection prior to adding output connection.");this.M=this.zk(w.eg)}this.M.Ka(b)}else if(this.M){if(this.M.isConnected())throw Error("Must disconnect output value before removing connection.");this.M.B();this.M=null}};d.gc=function(a){this.zg!=a&&(w.j.U(new w.j.hd(this,"inline",null,this.zg,a)),this.zg=a)};
function mh(a){if(void 0!=a.zg)return a.zg;for(var b=1;b<a.S.length;b++)if(a.S[b-1].type==w.pf&&a.S[b].type==w.pf)return!1;for(b=1;b<a.S.length;b++)if(a.S[b-1].type==w.Na&&a.S[b].type==w.pf)return!0;return!1}d.rd=function(a){this.disabled!=a&&(w.j.U(new w.j.hd(this,"disabled",null,this.disabled,a)),this.disabled=a)};function Ph(a){for(a=Nh(a);a;){if(a.disabled)return!0;a=Nh(a)}return!1}d.isCollapsed=function(){return this.zf};
d.Sg=function(a){this.zf!=a&&(w.j.U(new w.j.hd(this,"collapsed",null,this.zf,a)),this.zf=a)};d.toString=function(a,b){var c=[],e=b||"?";if(this.zf)c.push(E(this,"_TEMP_COLLAPSED_INPUT").Ha[0].xa);else for(var f=0,h;h=this.S[f];f++){for(var k=0,l;l=h.Ha[k];k++)l instanceof K&&!l.getValue()?c.push(e):c.push(l.Jb());h.connection&&((h=D(h.connection))?c.push(h.toString(void 0,b)):c.push(e))}c=c.join(" ").trim()||"???";a&&c.length>a&&(c=c.substring(0,a-3)+"...");return c};
function M(a,b){return a.yj(w.Na,b)}function Qh(a,b){return a.yj(w.ab,b)}function N(a,b){return a.yj(w.pf,b||"")}
function Rh(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.vh&&(a.vh=b.style.vh,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{Oh(a,e)}catch(q){console.warn(c+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{e=b.colour;try{a.Hc(e)}catch(q){console.warn(c+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,h=b["args"+e]||[],k=b["lastDummyAlign"+e],l=w.h.rz(b["message"+e]),m=[],n=0,p=[],t=0;t<l.length;t++){var r=l[t];if("number"==typeof r){if(0>=r||r>h.length)throw Error('Block "'+f.type+'": Message index %'+r+" out of range.");if(m[r])throw Error('Block "'+f.type+'": Message index %'+r+" duplicated.");m[r]=!0;n++;p.push(h[r-1])}else(r=r.trim())&&p.push(r)}if(n!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");p.length&&("string"==typeof p[p.length-1]||w.h.startsWith(p[p.length-1].type,"field_"))&&(t={type:"input_dummy"},k&&(t.align=k),p.push(t));k={LEFT:w.lj,RIGHT:w.ah,CENTRE:w.ml};h=[];for(t=0;t<p.length;t++)if(m=p[t],"string"==typeof m)h.push([m,void 0]);else{l=r=null;do if(n=!1,"string"==typeof m)r=new Ih(m);else switch(m.type){case "input_value":l=M(f,m.name);break;case "input_statement":l=Qh(f,m.name);break;case "input_dummy":l=N(f,m.name);break;default:r=(r=Ah[m.type])?r.la(m):
null,r||(m.alt?(m=m.alt,n=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(n);if(r)h.push([r,m.name]);else if(l){m.check&&l.Ka(m.check);m.align&&Lh(l,k[m.align]);for(m=0;m<h.length;m++)J(l,h[m][0],h[m][1]);h.length=0}}e++}void 0!==b.inputsInline&&a.gc(b.inputsInline);void 0!==b.output&&a.bd(!0,b.output);void 0!==b.previousStatement&&a.Ed(!0,b.previousStatement);void 0!==b.nextStatement&&
a.Dd(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=w.h.nc(e),a.qa(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=w.h.nc(e),a.Za=e);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&w.P.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=b.extensions,c=0;c<b.length;++c)w.P.apply(b[c],
a,!1)}function lh(a,b){var c=[],e;for(e in b)void 0!==a[e]&&c.push(e);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));Da(a,b)}d.yj=function(a,b){var c=null;if(a==w.Na||a==w.ab)c=this.zk(a);a=new Jh(a,b,this,c);this.S.push(a);return a};
function Sh(a,b,c){if(b!=c){for(var e=-1,f=c?-1:a.S.length,h=0,k;k=a.S[h];h++)if(k.name==b){if(e=h,-1!=f)break}else if(c&&k.name==c&&(f=h,-1!=e))break;if(-1==e)throw Error('Named input "'+b+'" not found.');if(-1==f)throw Error('Reference input "'+c+'" not found.');a.wp(e,f)}}
d.wp=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.S.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.S.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.S[a];this.S.splice(a,1);a<b&&b--;this.S.splice(b,0,c)};
d.Ja=function(a,b){for(var c=0,e;e=this.S[c];c++)if(e.name==a){e.connection&&e.connection.isConnected()&&(e.connection.ze=null,a=D(e.connection),a.Oa?a.B():Zd(a));e.B();this.S.splice(c,1);return}if(!b)throw Error("Input not found: "+a);};function E(a,b){for(var c=0,e;e=a.S[c];c++)if(e.name==b)return e;return null}function Th(a,b){return(a=E(a,b))&&a.connection&&D(a.connection)}d.gm=function(){return this.Xa||""};
d.Qf=function(a){this.Xa!=a&&(w.j.U(new w.j.hd(this,"comment",null,this.Xa,a||"")),this.Xa=a)};d.Vf=function(){};d.Vg=function(){};d.wa=function(){return this.Ld};d.moveBy=function(a,b){if(this.af)throw Error("Block has parent.");var c=new w.j.nj(this);this.Ld.translate(a,b);c.Mf();w.j.U(c)};d.zk=function(a){return new Qe(this,a)};w.h.hj={};w.h.hj.ak=function(a){a=a.J();var b=sh(a);b.height=a.scrollHeight;return b};w.h.hj.lr=function(a,b,c){b.left+=c.width;b.right+=c.width;a.left+=c.width;a.right+=c.width};function Uh(){0!=Vh&&(Wh[wa(this)]=this);this.Df=this.Df;this.Kf=this.Kf}var Vh=0,Wh={};Uh.prototype.Df=!1;Uh.prototype.B=function(){if(!this.Df&&(this.Df=!0,this.wb(),0!=Vh)){var a=wa(this);if(0!=Vh&&this.Kf&&0<this.Kf.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wh[a]}};
function Xh(a,b){a.Df?ma(void 0)?b.call(void 0):b():(a.Kf||(a.Kf=[]),a.Kf.push(ma(void 0)?Ba(b,void 0):b))}Uh.prototype.wb=function(){if(this.Kf)for(;this.Kf.length;)this.Kf.shift()()};function Yh(a){a&&"function"==typeof a.B&&a.B()};function Zh(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Kh=!1;this.Zt=!0}Zh.prototype.stopPropagation=function(){this.Kh=!0};Zh.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Zt=!1};var $h={li:wd?"pointerdown":xd?"MSPointerDown":"mousedown",mi:wd?"pointerup":xd?"MSPointerUp":"mouseup",ki:wd?"pointercancel":xd?"MSPointerCancel":"mousecancel",Ev:wd?"pointermove":xd?"MSPointerMove":"mousemove",Gv:wd?"pointerover":xd?"MSPointerOver":"mouseover",Fv:wd?"pointerout":xd?"MSPointerOut":"mouseout",Cv:wd?"pointerenter":xd?"MSPointerEnter":"mouseenter",Dv:wd?"pointerleave":xd?"MSPointerLeave":"mouseleave"},ai={li:"mousedown",mi:"mouseup",ki:"mousecancel",Ev:"mousemove",Gv:"mouseover",Fv:"mouseout",
Cv:"mouseenter",Dv:"mouseleave"};function bi(a,b){Zh.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Np=!1;this.pointerId=0;this.pointerType="";this.Ne=null;a&&this.I(a,b)}v(bi,Zh);var ci=[1,4,2],di={2:"touch",3:"pen",4:"mouse"};
bi.prototype.I=function(a,b){var c=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(pc){a:{try{kc(b.nodeName);var f=!0;break a}catch(h){}f=!1}f||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=z||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=z||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Np=rc?a.metaKey:
a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=u(a.pointerType)?a.pointerType:di[a.pointerType]||"";this.state=a.state;this.Ne=a;a.defaultPrevented&&this.preventDefault()};function ei(a){return sd?0==a.Ne.button:"click"==a.type?!0:!!(a.Ne.button&ci[0])}bi.prototype.stopPropagation=function(){bi.s.stopPropagation.call(this);this.Ne.stopPropagation?this.Ne.stopPropagation():this.Ne.cancelBubble=!0};
bi.prototype.preventDefault=function(){bi.s.preventDefault.call(this);var a=this.Ne;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ud)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var fi="closure_listenable_"+(1E6*Math.random()|0);function gi(a){return!(!a||!a[fi])}var hi=0;function ii(a,b,c,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!e;this.um=f;this.key=++hi;this.$i=this.Jl=!1}function ji(a){a.$i=!0;a.listener=null;a.proxy=null;a.src=null;a.um=null};function ki(a){this.src=a;this.Yc={};this.hl=0}ki.prototype.add=function(a,b,c,e,f){var h=a.toString();a=this.Yc[h];a||(a=this.Yc[h]=[],this.hl++);var k=li(a,b,e,f);-1<k?(b=a[k],c||(b.Jl=!1)):(b=new ii(b,this.src,h,!!e,f),b.Jl=c,a.push(b));return b};ki.prototype.remove=function(a,b,c,e){a=a.toString();if(!(a in this.Yc))return!1;var f=this.Yc[a];b=li(f,b,c,e);return-1<b?(ji(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.Yc[a],this.hl--),!0):!1};
function mi(a,b){var c=b.type;c in a.Yc&&Oa(a.Yc[c],b)&&(ji(b),0==a.Yc[c].length&&(delete a.Yc[c],a.hl--))}ki.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.Yc)if(!a||c==a){for(var e=this.Yc[c],f=0;f<e.length;f++)++b,ji(e[f]);delete this.Yc[c];this.hl--}return b};ki.prototype.Yj=function(a,b,c,e){a=this.Yc[a.toString()];var f=-1;a&&(f=li(a,b,c,e));return-1<f?a[f]:null};
function li(a,b,c,e){for(var f=0;f<a.length;++f){var h=a[f];if(!h.$i&&h.listener==b&&h.capture==!!c&&h.um==e)return f}return-1};var ni="closure_lm_"+(1E6*Math.random()|0),oi={},pi=0;function qi(a,b,c,e,f){if(e&&e.once)return ri(a,b,c,e,f);if(sa(b)){for(var h=0;h<b.length;h++)qi(a,b[h],c,e,f);return null}c=si(c);return gi(a)?a.ra(b,c,va(e)?!!e.capture:!!e,f):ti(a,b,c,!1,e,f)}
function ti(a,b,c,e,f,h){if(!b)throw Error("Invalid event type");var k=va(f)?!!f.capture:!!f,l=ui(a);l||(a[ni]=l=new ki(a));c=l.add(b,c,e,k,h);if(c.proxy)return c;e=vi();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)yd||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(wi(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");pi++;return c}
function vi(){var a=xi,b=td?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function ri(a,b,c,e,f){if(sa(b)){for(var h=0;h<b.length;h++)ri(a,b[h],c,e,f);return null}c=si(c);return gi(a)?a.ft(b,c,va(e)?!!e.capture:!!e,f):ti(a,b,c,!0,e,f)}function yi(a,b,c,e,f){if(sa(b))for(var h=0;h<b.length;h++)yi(a,b[h],c,e,f);else e=va(e)?!!e.capture:!!e,c=si(c),gi(a)?a.Id(b,c,e,f):a&&(a=ui(a))&&(b=a.Yj(b,c,e,f))&&zi(b)}
function zi(a){if(!na(a)&&a&&!a.$i){var b=a.src;if(gi(b))mi(b.Ef,a);else{var c=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(c,e,a.capture):b.detachEvent?b.detachEvent(wi(c),e):b.addListener&&b.removeListener&&b.removeListener(e);pi--;(c=ui(b))?(mi(c,a),0==c.hl&&(c.src=null,b[ni]=null)):ji(a)}}}function wi(a){return a in oi?oi[a]:oi[a]="on"+a}
function Ai(a,b,c,e){var f=!0;if(a=ui(a))if(b=a.Yc[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==c&&!h.$i&&(h=Bi(h,e),f=f&&!1!==h)}return f}function Bi(a,b){var c=a.listener,e=a.um||a.src;a.Jl&&zi(a);return c.call(e,b)}
function xi(a,b){if(a.$i)return!0;if(!td){if(!b)a:{b=["window","event"];for(var c=g,e=0;e<b.length;e++)if(c=c[b[e]],null==c){b=null;break a}b=c}e=b;b=new bi(e,this);c=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.Kh&&0<=f;f--){b.currentTarget=e[f];var h=Ai(e[f],a,!0,b);c=c&&h}for(f=0;!b.Kh&&f<e.length;f++)b.currentTarget=
e[f],h=Ai(e[f],a,!1,b),c=c&&h}return c}return Bi(a,new bi(b,this))}function ui(a){a=a[ni];return a instanceof ki?a:null}var Ci="__closure_events_fn_"+(1E9*Math.random()>>>0);function si(a){if(ua(a))return a;a[Ci]||(a[Ci]=function(b){return a.handleEvent(b)});return a[Ci]};function Di(a){Uh.call(this);this.Li=a;this.Qi={}}v(Di,Uh);var Ei=[];d=Di.prototype;d.ra=function(a,b,c,e){sa(b)||(b&&(Ei[0]=b.toString()),b=Ei);for(var f=0;f<b.length;f++){var h=qi(a,b[f],c||this.handleEvent,e||!1,this.Li||this);if(!h)break;this.Qi[h.key]=h}return this};d.ft=function(a,b,c,e){return Fi(this,a,b,c,e)};function Fi(a,b,c,e,f,h){if(sa(c))for(var k=0;k<c.length;k++)Fi(a,b,c[k],e,f,h);else{b=ri(b,c,e||a.handleEvent,f,h||a.Li||a);if(!b)return a;a.Qi[b.key]=b}return a}
d.Id=function(a,b,c,e,f){if(sa(b))for(var h=0;h<b.length;h++)this.Id(a,b[h],c,e,f);else c=c||this.handleEvent,e=va(e)?!!e.capture:!!e,f=f||this.Li||this,c=si(c),e=!!e,b=gi(a)?a.Yj(b,c,e,f):a?(a=ui(a))?a.Yj(b,c,e,f):null:null,b&&(zi(b),delete this.Qi[b.key]);return this};d.removeAll=function(){gb(this.Qi,function(a,b){this.Qi.hasOwnProperty(b)&&zi(a)},this);this.Qi={}};d.wb=function(){Di.s.wb.call(this);this.removeAll()};
d.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Gi(){Uh.call(this);this.Ef=new ki(this);this.Xv=this;this.Kp=null}v(Gi,Uh);Gi.prototype[fi]=!0;d=Gi.prototype;d.nm=function(){return this.Kp};d.mq=function(a){this.Kp=a};d.addEventListener=function(a,b,c,e){qi(this,a,b,c,e)};d.removeEventListener=function(a,b,c,e){yi(this,a,b,c,e)};
d.dispatchEvent=function(a){var b,c=this.nm();if(c)for(b=[];c;c=c.nm())b.push(c);c=this.Xv;var e=a.type||a;if(u(a))a=new Zh(a,c);else if(a instanceof Zh)a.target=a.target||c;else{var f=a;a=new Zh(e,c);mb(a,f)}f=!0;if(b)for(var h=b.length-1;!a.Kh&&0<=h;h--){var k=a.currentTarget=b[h];f=Hi(k,e,!0,a)&&f}a.Kh||(k=a.currentTarget=c,f=Hi(k,e,!0,a)&&f,a.Kh||(f=Hi(k,e,!1,a)&&f));if(b)for(h=0;!a.Kh&&h<b.length;h++)k=a.currentTarget=b[h],f=Hi(k,e,!1,a)&&f;return f};
d.wb=function(){Gi.s.wb.call(this);this.removeAllListeners();this.Kp=null};d.ra=function(a,b,c,e){return this.Ef.add(String(a),b,!1,c,e)};d.ft=function(a,b,c,e){return this.Ef.add(String(a),b,!0,c,e)};d.Id=function(a,b,c,e){return this.Ef.remove(String(a),b,c,e)};d.removeAllListeners=function(a){return this.Ef?this.Ef.removeAll(a):0};
function Hi(a,b,c,e){b=a.Ef.Yc[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.$i&&k.capture==c){var l=k.listener,m=k.um||k.src;k.Jl&&mi(a.Ef,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.Zt}d.Yj=function(a,b,c,e){return this.Ef.Yj(String(a),b,c,e)};function Ii(){}qa(Ii);Ii.prototype.zy=0;Ii.prototype.Wx="";function Ji(a){Gi.call(this);this.lh=a||Rc();this.aj=Ki;this.ug=null;this.Ca=!1;this.W=null;this.rg=void 0;this.ne=this.xc=this.qd=this.vp=null;this.Xi=this.Iu=!1}v(Ji,Gi);Ji.prototype.Vx=Ii.Se();var Ki=null;
function Li(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}d=Ji.prototype;d.$=function(){var a;(a=this.ug)||(a=this.Vx,a=this.ug=a.Wx+":"+(a.zy++).toString(36));return a};
function Mi(a,b){if(a.qd&&a.qd.ne){var c=a.qd.ne,e=a.ug;e in c&&delete c[e];hb(a.qd.ne,b,a)}a.ug=b}d.J=function(){return this.W};function Ni(a){a.rg||(a.rg=new Di(a));return a.rg}d.Qh=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.qd&&this.ug&&Oi(this.qd,this.ug)&&this.qd!=a)throw Error("Unable to set parent component");this.qd=a;Ji.s.mq.call(this,a)};d.getParent=function(){return this.qd};
d.mq=function(a){if(this.qd&&this.qd!=a)throw Error("Method not supported");Ji.s.mq.call(this,a)};d.ae=function(){return this.lh};d.Z=function(){this.W=this.lh.createElement("DIV")};d.ea=function(a){this.Of(a)};d.Of=function(a,b){if(this.Ca)throw Error("Component already rendered");this.W||this.Z();a?a.insertBefore(this.W,b||null):this.lh.Ud.body.appendChild(this.W);this.qd&&!this.qd.Ca||this.Hb()};
d.Td=function(a){if(this.Ca)throw Error("Component already rendered");if(a&&this.uf(a)){this.Iu=!0;var b=Tc(a);this.lh&&this.lh.Ud==b||(this.lh=Rc(a));this.Mj(a);this.Hb()}else throw Error("Invalid element to decorate");};d.uf=function(){return!0};d.Mj=function(a){this.W=a};d.Hb=function(){this.Ca=!0;Pi(this,function(a){!a.Ca&&a.J()&&a.Hb()})};d.Xd=function(){Pi(this,function(a){a.Ca&&a.Xd()});this.rg&&this.rg.removeAll();this.Ca=!1};
d.wb=function(){this.Ca&&this.Xd();this.rg&&(this.rg.B(),delete this.rg);Pi(this,function(a){a.B()});!this.Iu&&this.W&&ed(this.W);this.qd=this.vp=this.W=this.ne=this.xc=null;Ji.s.wb.call(this)};d.xj=function(a,b){this.ri(a,Qi(this),b)};
d.ri=function(a,b,c){if(a.Ca&&(c||!this.Ca))throw Error("Component already rendered");if(0>b||b>Qi(this))throw Error("Child component index out of bounds");this.ne&&this.xc||(this.ne={},this.xc=[]);if(a.getParent()==this){var e=a.$();this.ne[e]=a;Oa(this.xc,a)}else hb(this.ne,a.$(),a);a.Qh(this);Ra(this.xc,b,0,a);a.Ca&&this.Ca&&a.getParent()==this?(c=this.Sc(),b=c.childNodes[b]||null,b!=a.J()&&c.insertBefore(a.J(),b)):c?(this.W||this.Z(),b=O(this,b+1),a.Of(this.Sc(),b?b.W:null)):this.Ca&&!a.Ca&&a.W&&
a.W.parentNode&&1==a.W.parentNode.nodeType&&a.Hb()};d.Sc=function(){return this.W};function Ri(a){null==a.aj&&(a.aj="rtl"==oh(a.Ca?a.W:a.lh.Ud.body,"direction"));return a.aj}d.Tf=function(a){if(this.Ca)throw Error("Component already rendered");this.aj=a};function Si(a){return!!a.xc&&0!=a.xc.length}function Qi(a){return a.xc?a.xc.length:0}function Oi(a,b){a.ne&&b?(a=a.ne,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function O(a,b){return a.xc?a.xc[b]||null:null}
function Pi(a,b,c){a.xc&&Ia(a.xc,b,c)}function Ti(a,b){return a.xc&&b?Ha(a.xc,b):-1}d.removeChild=function(a,b){if(a){var c=u(a)?a:a.$();a=Oi(this,c);if(c&&a){var e=this.ne;c in e&&delete e[c];Oa(this.xc,a);b&&(a.Xd(),a.W&&ed(a.W));a.Qh(null)}}if(!a)throw Error("Child is not in parent component");return a};d.Xt=function(a){for(var b=[];Si(this);)b.push(this.removeChild(O(this,0),a));return b};var Ui;ob("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Vi(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function Wi(a,b,c){sa(c)&&(c=c.join(" "));var e="aria-"+b;""===c||void 0==c?(Ui||(Ui={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Ui,b in c?a.setAttribute(e,c[b]):a.removeAttribute(e)):a.setAttribute(e,c)};function Xi(a,b,c,e,f,h){if(z&&!Ac("525"))return!0;if(rc&&f)return Yi(a);if(f&&!e)return!1;if(!pc){na(b)&&(b=Zi(b));var k=17==b||18==b||rc&&91==b;if((!c||rc)&&k||rc&&16==b&&(e||h))return!1}if((z||oc)&&e&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(x&&e&&b==a)return!1;switch(a){case 13:return pc?h||f?!1:!(c&&e):!0;case 27:return!(z||oc||pc)}return pc&&(e||f||h)?!1:Yi(a)}
function Yi(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(z||oc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return pc;default:return!1}}function Zi(a){if(pc)a=$i(a);else if(rc&&z)switch(a){case 93:a=91}return a}
function $i(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function aj(a,b){Gi.call(this);a&&bj(this,a,b)}v(aj,Gi);d=aj.prototype;d.W=null;d.Em=null;d.jp=null;d.Fm=null;d.pd=-1;d.Xe=-1;d.Ln=!1;
var cj={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},dj={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ej=!z||Ac("525"),fj=rc&&pc;d=aj.prototype;
d.Dx=function(a){if(z||oc)if(17==this.pd&&!a.ctrlKey||18==this.pd&&!a.altKey||rc&&91==this.pd&&!a.metaKey)this.Xe=this.pd=-1;-1==this.pd&&(a.ctrlKey&&17!=a.keyCode?this.pd=17:a.altKey&&18!=a.keyCode?this.pd=18:a.metaKey&&91!=a.keyCode&&(this.pd=91));ej&&!Xi(a.keyCode,this.pd,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.Xe=Zi(a.keyCode),fj&&(this.Ln=a.altKey))};d.Ex=function(a){this.Xe=this.pd=-1;this.Ln=a.altKey};
d.handleEvent=function(a){var b=a.Ne,c=b.altKey;if(x&&"keypress"==a.type){var e=this.Xe;var f=13!=e&&27!=e?b.keyCode:0}else(z||oc)&&"keypress"==a.type?(e=this.Xe,f=0<=b.charCode&&63232>b.charCode&&Yi(e)?b.charCode:0):nc&&!z?(e=this.Xe,f=Yi(e)?b.keyCode:0):("keypress"==a.type?(fj&&(c=this.Ln),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.Xe,f=b.charCode):(e=b.keyCode||this.Xe,f=b.charCode||0)):(e=b.keyCode||this.Xe,f=b.charCode||0),rc&&63==f&&224==e&&(e=191));var h=e=Zi(e);e?63232<=
e&&e in cj?h=cj[e]:25==e&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in dj&&(h=dj[b.keyIdentifier]);pc&&ej&&"keypress"==a.type&&!Xi(h,this.pd,a.shiftKey,a.ctrlKey,c,a.metaKey)||(a=h==this.pd,this.pd=h,b=new gj(h,f,a,b),b.altKey=c,this.dispatchEvent(b))};d.J=function(){return this.W};function bj(a,b,c){a.Fm&&a.detach();a.W=b;a.Em=qi(a.W,"keypress",a,c);a.jp=qi(a.W,"keydown",a.Dx,c,a);a.Fm=qi(a.W,"keyup",a.Ex,c,a)}
d.detach=function(){this.Em&&(zi(this.Em),zi(this.jp),zi(this.Fm),this.Fm=this.jp=this.Em=null);this.W=null;this.Xe=this.pd=-1};d.wb=function(){aj.s.wb.call(this);this.detach()};function gj(a,b,c,e){bi.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}v(gj,bi);function hj(a){if(a.classList)return a.classList;a=a.className;return u(a)&&a.match(/\S+/g)||[]}function ij(a,b){a.className=b}function jj(a,b){return a.classList?a.classList.contains(b):Na(hj(a),b)}function kj(a,b){a.classList?a.classList.add(b):jj(a,b)||(a.className+=0<a.className.length?" "+b:b)}
function lj(a,b){if(a.classList)Ia(b,function(f){kj(a,f)});else{var c={};Ia(hj(a),function(f){c[f]=!0});Ia(b,function(f){c[f]=!0});a.className="";for(var e in c)a.className+=0<a.className.length?" "+e:e}}function mj(a,b){a.classList?a.classList.remove(b):jj(a,b)&&(a.className=Ja(hj(a),function(c){return c!=b}).join(" "))}function nj(a,b){a.classList?Ia(b,function(c){mj(a,c)}):a.className=Ja(hj(a),function(c){return!Na(b,c)}).join(" ")};function oj(a,b){if(!a)throw Error("Invalid class name "+a);if(!ua(b))throw Error("Invalid decorator function "+b);pj[a]=b}var qj={},pj={};function rj(a){this.Nn=a}qa(rj);d=rj.prototype;d.Wj=function(){return this.Nn};function sj(a,b){a&&(a.tabIndex=b?0:-1)}d.Z=function(a){return a.ae().Z("DIV",this.Ci(a).join(" "))};d.Sc=function(a){return a};d.uf=function(a){return"DIV"==a.tagName};d.Td=function(a,b){b.id&&Mi(a,b.id);var c=this.ib(),e=!1,f=hj(b);f&&Ia(f,function(h){h==c?e=!0:h&&this.qq(a,h,c)},this);e||kj(b,c);tj(this,a,this.Sc(b));return b};
d.qq=function(a,b,c){b==c+"-disabled"?a.Rf(!1):b==c+"-horizontal"?a.setOrientation(uj):b==c+"-vertical"&&a.setOrientation(vj)};function tj(a,b,c){if(c)for(var e=c.firstChild,f;e&&e.parentNode==c;){f=e.nextSibling;if(1==e.nodeType){var h=a.Mo(e);h&&(h.W=e,b.isEnabled()||h.Rf(!1),b.xj(h),h.Td(e))}else e.nodeValue&&""!=Ta(e.nodeValue)||c.removeChild(e);e=f}}d.Mo=function(a){a:{a=hj(a);for(var b=0,c=a.length;b<c;b++){var e=a[b];if(e=e in pj?pj[e]():null){a=e;break a}}a=null}return a};
d.nk=function(a){a=a.J();wh(a,!0,pc);x&&(a.hideFocus=!0);var b=this.Wj();b&&Vi(a,b)};d.Zb=function(a){return a.J()};d.ib=function(){return"goog-container"};d.Ci=function(a){var b=this.ib(),c=[b,a.Kg==uj?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function wj(){}var xj;qa(wj);var yj={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};d=wj.prototype;d.Wj=function(){};d.Z=function(a){return a.ae().Z("DIV",this.Ci(a).join(" "),a.pg())};d.Sc=function(a){return a};d.Pj=function(a,b,c){if(a=a.J?a.J():a){var e=[b];x&&!Ac("7")&&(e=zj(hj(a),b),e.push(b));(c?lj:nj)(a,e)}};d.uf=function(){return!0};
d.Td=function(a,b){b.id&&Mi(a,b.id);var c=this.Sc(b);c&&c.firstChild?Aj(a,c.firstChild.nextSibling?Qa(c.childNodes):c.firstChild):a.yc=null;var e=0,f=this.ib(),h=this.ib(),k=!1,l=!1,m=!1,n=Qa(hj(b));Ia(n,function(t){k||t!=f?l||t!=h?e|=this.om(t):l=!0:(k=!0,h==f&&(l=!0));1==this.om(t)&&jd(c)&&md(c,!1)},this);a.Qa=e;k||(n.push(f),h==f&&(l=!0));l||n.push(h);(a=a.oe)&&n.push.apply(n,a);if(x&&!Ac("7")){var p=zj(n);0<p.length&&(n.push.apply(n,p),m=!0)}k&&l&&!a&&!m||ij(b,n.join(" "));return b};
d.nk=function(a){Ri(a)&&this.Tf(a.J(),!0);a.isEnabled()&&this.Ug(a,a.isVisible())};function Bj(a,b,c){if(a=c||a.Wj())c=b.getAttribute("role")||null,a!=c&&Vi(b,a)}function Cj(a,b,c){var e=b.nr;null!=e&&a.gq(c,e);b.isVisible()||Wi(c,"hidden",!b.isVisible());b.isEnabled()||Dj(c,1,!b.isEnabled());b.Nb&8&&Dj(c,8,b.rk());b.Nb&16&&Dj(c,16,!!(b.Qa&16));b.Nb&64&&Dj(c,64,b.Pi())}d.gq=function(a,b){Wi(a,"label",b)};d.gn=function(a,b){wh(a,!b,!x&&!nc)};d.Tf=function(a,b){this.Pj(a,this.ib()+"-rtl",b)};
d.Bg=function(a){var b;return a.Nb&32&&(b=a.Zb())?jd(b):!1};d.Ug=function(a,b){var c;if(a.Nb&32&&(c=a.Zb())){if(!b&&a.Qa&32){try{c.blur()}catch(e){}a.Qa&32&&a.ek(null)}jd(c)!=b&&md(c,b)}};d.sa=function(a,b){uh(a,b);a&&Wi(a,"hidden",!b)};d.ke=function(a,b,c){var e=a.J();if(e){var f=this.fm(b);f&&this.Pj(a,f,c);Dj(e,b,c)}};
function Dj(a,b,c){xj||(xj={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=xj[b];var e=a.getAttribute("role")||null;e&&(e=yj[e]||b,b="checked"==b||"selected"==b?e:b);b&&Wi(a,b,c)}d.cf=function(a,b){var c=this.Sc(a);c&&(dd(c),b&&(u(b)?gd(c,b):(a=function(e){if(e){var f=Tc(c);c.appendChild(u(e)?f.createTextNode(e):e)}},sa(b)?Ia(b,a):!ta(b)||"nodeType"in b?a(b):Ia(Qa(b),a))))};d.Zb=function(a){return a.J()};d.ib=function(){return"goog-control"};
d.Ci=function(a){var b=this.ib(),c=[b],e=this.ib();e!=b&&c.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.fm(f));b&=~f}c.push.apply(c,e);(a=a.oe)&&c.push.apply(c,a);x&&!Ac("7")&&c.push.apply(c,zj(c));return c};function zj(a,b){var c=[];b&&(a=Pa(a,[b]));Ia([],function(e){!Ma(e,Ca(Na,a))||b&&!Na(e,b)||c.push(e.join("_"))});return c}d.fm=function(a){this.Nl||Ej(this);return this.Nl[a]};
d.om=function(a){this.pu||(this.Nl||Ej(this),this.pu=kb(this.Nl));a=parseInt(this.pu[a],10);return isNaN(a)?0:a};function Ej(a){var b=a.ib();b.replace(/\xa0|\s/g," ");a.Nl={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function P(a,b,c){Ji.call(this,c);if(!b){b=this.constructor;for(var e;b;){e=wa(b);if(e=qj[e])break;b=b.s?b.s.constructor:null}b=e?ua(e.Se)?e.Se():new e:null}this.ma=b;this.yc=ma(a)?a:null;this.nr=null}v(P,Ji);d=P.prototype;d.yc=null;d.Qa=0;d.Nb=39;d.fw=255;d.Vh=0;d.La=!0;d.oe=null;d.gk=!0;d.Gl=!1;d.Vy=null;d.Zb=function(){return this.ma.Zb(this)};d.km=function(){return this.Cc||(this.Cc=new aj)};
d.Pj=function(a,b){b?a&&(this.oe?Na(this.oe,a)||this.oe.push(a):this.oe=[a],this.ma.Pj(this,a,!0)):a&&this.oe&&Oa(this.oe,a)&&(0==this.oe.length&&(this.oe=null),this.ma.Pj(this,a,!1))};d.Z=function(){var a=this.ma.Z(this);this.W=a;Bj(this.ma,a,this.Zj());this.Gl||this.ma.gn(a,!1);this.isVisible()||this.ma.sa(a,!1)};d.Zj=function(){return this.Vy};d.gq=function(a){this.nr=a;var b=this.J();b&&this.ma.gq(b,a)};d.Sc=function(){return this.ma.Sc(this.J())};d.uf=function(a){return this.ma.uf(a)};
d.Mj=function(a){this.W=a=this.ma.Td(this,a);Bj(this.ma,a,this.Zj());this.Gl||this.ma.gn(a,!1);this.La="none"!=a.style.display};d.Hb=function(){P.s.Hb.call(this);Cj(this.ma,this,this.W);this.ma.nk(this);if(this.Nb&-2&&(this.gk&&Fj(this,!0),this.Nb&32)){var a=this.Zb();if(a){var b=this.km();bj(b,a);Ni(this).ra(b,"key",this.re).ra(a,"focus",this.fk).ra(a,"blur",this.ek)}}};
function Fj(a,b){var c=a.Xi?$h:ai,e=Ni(a),f=a.J();b?(e.ra(f,c.li,a.Ji).ra(f,[c.mi,c.ki],a.Ki).ra(f,"mouseover",a.Wo).ra(f,"mouseout",a.Vo),a.Xi&&e.ra(f,"gotpointercapture",a.Vm),a.Ii!=pa&&e.ra(f,"contextmenu",a.Ii),x&&(Ac(9)||e.ra(f,"dblclick",a.Ms),a.mk||(a.mk=new Gj(a),Xh(a,Ca(Yh,a.mk))))):(e.Id(f,c.li,a.Ji).Id(f,[c.mi,c.ki],a.Ki).Id(f,"mouseover",a.Wo).Id(f,"mouseout",a.Vo),a.Xi&&e.Id(f,"gotpointercapture",a.Vm),a.Ii!=pa&&e.Id(f,"contextmenu",a.Ii),x&&(Ac(9)||e.Id(f,"dblclick",a.Ms),Yh(a.mk),a.mk=
null))}d.Xd=function(){P.s.Xd.call(this);this.Cc&&this.Cc.detach();this.isVisible()&&this.isEnabled()&&this.ma.Ug(this,!1)};d.wb=function(){P.s.wb.call(this);this.Cc&&(this.Cc.B(),delete this.Cc);delete this.ma;this.mk=this.oe=this.yc=null};d.pg=function(){return this.yc};d.cf=function(a){this.ma.cf(this.J(),a);this.yc=a};function Aj(a,b){a.yc=b}
d.Ko=function(){var a=this.pg();if(!a)return"";if(!u(a))if(sa(a))a=Ka(a,nd).join("");else{if(Fc&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];od(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Fc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return fc(a)};d.Tf=function(a){P.s.Tf.call(this,a);var b=this.J();b&&this.ma.Tf(b,a)};d.gn=function(a){this.Gl=a;var b=this.J();b&&this.ma.gn(b,a)};d.isVisible=function(){return this.La};
d.sa=function(a,b){return b||this.La!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.J())&&this.ma.sa(b,a),this.isEnabled()&&this.ma.Ug(this,a),this.La=a,!0):!1};d.isEnabled=function(){return!(this.Qa&1)};d.Rf=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Hj(this,1,!a)||(a||(this.setActive(!1),this.ad(!1)),this.isVisible()&&this.ma.Ug(this,a),this.ke(1,!a,!0))};d.ad=function(a){Hj(this,2,a)&&this.ke(2,a)};d.setActive=function(a){Hj(this,4,a)&&this.ke(4,a)};
d.rk=function(){return!!(this.Qa&8)};function Ij(a,b){Hj(a,8,b)&&a.ke(8,b)}function Jj(a,b){Hj(a,16,b)&&a.ke(16,b)}d.Pi=function(){return!!(this.Qa&64)};function Kj(a,b){Hj(a,64,b)&&a.ke(64,b)}d.getState=function(){return this.Qa};d.ke=function(a,b,c){c||1!=a?this.Nb&a&&b!=!!(this.Qa&a)&&(this.ma.ke(this,a,b),this.Qa=b?this.Qa|a:this.Qa&~a):this.Rf(!b)};d.sd=function(a,b){if(this.Ca&&this.Qa&a&&!b)throw Error("Component already rendered");!b&&this.Qa&a&&this.ke(a,!1);this.Nb=b?this.Nb|a:this.Nb&~a};
function Lj(a,b){return!!(a.fw&b)&&!!(a.Nb&b)}function Hj(a,b,c){return!!(a.Nb&b)&&!!(a.Qa&b)!=c&&(!(a.Vh&b)||a.dispatchEvent(Li(b,c)))&&!a.Df}d.Wo=function(a){!Mj(a,this.J())&&this.dispatchEvent("enter")&&this.isEnabled()&&Lj(this,2)&&this.ad(!0)};d.Vo=function(a){!Mj(a,this.J())&&this.dispatchEvent("leave")&&(Lj(this,4)&&this.setActive(!1),Lj(this,2)&&this.ad(!1))};d.Vm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};d.Ii=pa;
function Mj(a,b){return!!a.relatedTarget&&fd(b,a.relatedTarget)}d.Ji=function(a){this.isEnabled()&&(Lj(this,2)&&this.ad(!0),!ei(a)||z&&rc&&a.ctrlKey||(Lj(this,4)&&this.setActive(!0),this.ma&&this.ma.Bg(this)&&this.Zb().focus()));this.Gl||!ei(a)||z&&rc&&a.ctrlKey||a.preventDefault()};d.Ki=function(a){this.isEnabled()&&(Lj(this,2)&&this.ad(!0),this.Qa&4&&Nj(this,a)&&Lj(this,4)&&this.setActive(!1))};d.Ms=function(a){this.isEnabled()&&Nj(this,a)};
function Nj(a,b){Lj(a,16)&&Jj(a,!(a.Qa&16));Lj(a,8)&&Ij(a,!0);Lj(a,64)&&Kj(a,!a.Pi());var c=new Zh("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Np=b.Np);return a.dispatchEvent(c)}d.fk=function(){Lj(this,32)&&Hj(this,32,!0)&&this.ke(32,!0)};d.ek=function(){Lj(this,4)&&this.setActive(!1);Lj(this,32)&&Hj(this,32,!1)&&this.ke(32,!1)};d.re=function(a){return this.isVisible()&&this.isEnabled()&&this.rh(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
d.rh=function(a){return 13==a.keyCode&&Nj(this,a)};if(!ua(P))throw Error("Invalid component class "+P);if(!ua(wj))throw Error("Invalid renderer class "+wj);var Oj=wa(P);qj[Oj]=wj;oj("goog-control",function(){return new P(null)});function Gj(a){Uh.call(this);this.Tl=a;this.Ol=!1;this.Li=new Di(this);Xh(this,Ca(Yh,this.Li));a=this.Tl.W;this.Li.ra(a,"mousedown",this.Fx).ra(a,"mouseup",this.Gx).ra(a,"click",this.yx)}v(Gj,Uh);var Pj=!x||9<=Number(Bc);Gj.prototype.Fx=function(){this.Ol=!1};
Gj.prototype.Gx=function(){this.Ol=!0};function Qj(a,b){if(!Pj)return a.button=0,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return c}
Gj.prototype.yx=function(a){if(this.Ol)this.Ol=!1;else{var b=a.Ne,c=b.button,e=b.type,f=Qj(b,"mousedown");this.Tl.Ji(new bi(f,a.currentTarget));f=Qj(b,"mouseup");this.Tl.Ki(new bi(f,a.currentTarget));Pj||(b.button=c,b.type=e)}};Gj.prototype.wb=function(){this.Tl=null;Gj.s.wb.call(this)};function Rj(a,b,c){Ji.call(this,c);this.ma=b||rj.Se();this.Kg=a||vj}v(Rj,Ji);var uj="horizontal",vj="vertical";d=Rj.prototype;d.kp=null;d.Cc=null;d.ma=null;d.Kg=null;d.La=!0;d.oh=!0;d.Go=!0;d.jb=-1;d.Ub=null;d.Ui=!1;d.bw=!1;d.Uy=!0;d.xf=null;d.Zb=function(){return this.kp||this.ma.Zb(this)};d.km=function(){return this.Cc||(this.Cc=new aj(this.Zb()))};d.Z=function(){this.W=this.ma.Z(this)};d.Sc=function(){return this.ma.Sc(this.J())};d.uf=function(a){return this.ma.uf(a)};
d.Mj=function(a){this.W=this.ma.Td(this,a);"none"==a.style.display&&(this.La=!1)};
d.Hb=function(){Rj.s.Hb.call(this);Pi(this,function(c){c.Ca&&Sj(this,c)},this);var a=this.J();this.ma.nk(this);this.sa(this.La,!0);var b=this.Xi?$h:ai;Ni(this).ra(this,"enter",this.To).ra(this,"highlight",this.Cx).ra(this,"unhighlight",this.Ox).ra(this,"open",this.Hx).ra(this,"close",this.zx).ra(a,b.li,this.Ji).ra(Tc(a),[b.mi,b.ki],this.Ax).ra(a,[b.li,b.mi,b.ki,"mouseover","mouseout","contextmenu"],this.xx);this.Xi&&Ni(this).ra(a,"gotpointercapture",this.Vm);this.Bg()&&Tj(this,!0)};
d.Vm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Tj(a,b){var c=Ni(a),e=a.Zb();b?c.ra(e,"focus",a.fk).ra(e,"blur",a.ek).ra(a.km(),"key",a.re):c.Id(e,"focus",a.fk).Id(e,"blur",a.ek).Id(a.km(),"key",a.re)}d.Xd=function(){this.bj(-1);this.Ub&&Kj(this.Ub,!1);this.Ui=!1;Rj.s.Xd.call(this)};d.wb=function(){Rj.s.wb.call(this);this.Cc&&(this.Cc.B(),this.Cc=null);this.ma=this.Ub=this.xf=this.kp=null};d.To=function(){return!0};
d.Cx=function(a){var b=Ti(this,a.target);if(-1<b&&b!=this.jb){var c=O(this,this.jb);c&&c.ad(!1);this.jb=b;c=O(this,this.jb);this.Ui&&c.setActive(!0);this.Uy&&this.Ub&&c!=this.Ub&&(c.Nb&64?Kj(c,!0):Kj(this.Ub,!1))}b=this.J();null!=a.target.J()&&Wi(b,"activedescendant",a.target.J().id)};d.Ox=function(a){a.target==O(this,this.jb)&&(this.jb=-1);this.J().removeAttribute("aria-activedescendant")};d.Hx=function(a){(a=a.target)&&a!=this.Ub&&a.getParent()==this&&(this.Ub&&Kj(this.Ub,!1),this.Ub=a)};
d.zx=function(a){a.target==this.Ub&&(this.Ub=null);var b=this.J(),c=a.target.J();b&&a.target.Qa&2&&c&&(a="",c&&(a=c.id),Wi(b,"activedescendant",a))};d.Ji=function(a){this.oh&&(this.Ui=!0);var b=this.Zb();b&&jd(b)?b.focus():a.preventDefault()};d.Ax=function(){this.Ui=!1};
d.xx=function(a){var b=this.Xi?$h:ai;a:{var c=a.target;if(this.xf)for(var e=this.J();c&&c!==e;){var f=c.id;if(f in this.xf){c=this.xf[f];break a}c=c.parentNode}c=null}if(c)switch(a.type){case b.li:c.Ji(a);break;case b.mi:case b.ki:c.Ki(a);break;case "mouseover":c.Wo(a);break;case "mouseout":c.Vo(a);break;case "contextmenu":c.Ii(a)}};d.fk=function(){};d.ek=function(){this.bj(-1);this.Ui=!1;this.Ub&&Kj(this.Ub,!1)};
d.re=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Qi(this)||this.kp)&&this.rh(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
d.rh=function(a){var b=O(this,this.jb);if(b&&"function"==typeof b.re&&b.re(a)||this.Ub&&this.Ub!=b&&"function"==typeof this.Ub.re&&this.Ub.re(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Bg())this.Zb().blur();else return!1;break;case 36:Uj(this);break;case 35:Vj(this);break;case 38:if(this.Kg==vj)Wj(this);else return!1;break;case 37:if(this.Kg==uj)Ri(this)?Xj(this):Wj(this);else return!1;break;case 40:if(this.Kg==vj)Xj(this);else return!1;break;
case 39:if(this.Kg==uj)Ri(this)?Wj(this):Xj(this);else return!1;break;default:return!1}return!0};function Sj(a,b){var c=b.J();c=c.id||(c.id=b.$());a.xf||(a.xf={});a.xf[c]=b}d.xj=function(a,b){Rj.s.xj.call(this,a,b)};
d.ri=function(a,b,c){a.Vh|=2;a.Vh|=64;!this.Bg()&&this.bw||a.sd(32,!1);a.Ca&&0!=a.gk&&Fj(a,!1);a.gk=!1;var e=a.getParent()==this?Ti(this,a):-1;Rj.s.ri.call(this,a,b,c);a.Ca&&this.Ca&&Sj(this,a);a=e;-1==a&&(a=Qi(this));a==this.jb?this.jb=Math.min(Qi(this)-1,b):a>this.jb&&b<=this.jb?this.jb++:a<this.jb&&b>this.jb&&this.jb--};
d.removeChild=function(a,b){if(a=u(a)?Oi(this,a):a){var c=Ti(this,a);-1!=c&&(c==this.jb?(a.ad(!1),this.jb=-1):c<this.jb&&this.jb--);var e=a.J();e&&e.id&&this.xf&&(c=this.xf,e=e.id,e in c&&delete c[e])}b=a=Rj.s.removeChild.call(this,a,b);b.Ca&&1!=b.gk&&Fj(b,!0);b.gk=!0;return a};d.setOrientation=function(a){if(this.J())throw Error("Component already rendered");this.Kg=a};d.isVisible=function(){return this.La};
d.sa=function(a,b){if(b||this.La!=a&&this.dispatchEvent(a?"show":"hide")){this.La=a;var c=this.J();c&&(uh(c,a),this.Bg()&&sj(this.Zb(),this.oh&&this.La),b||this.dispatchEvent(this.La?"aftershow":"afterhide"));return!0}return!1};d.isEnabled=function(){return this.oh};
d.Rf=function(a){this.oh!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.oh=!0,Pi(this,function(b){b.Ju?delete b.Ju:b.Rf(!0)})):(Pi(this,function(b){b.isEnabled()?b.Rf(!1):b.Ju=!0}),this.Ui=this.oh=!1),this.Bg()&&sj(this.Zb(),a&&this.La))};d.Bg=function(){return this.Go};d.Ug=function(a){a!=this.Go&&this.Ca&&Tj(this,a);this.Go=a;this.oh&&this.La&&sj(this.Zb(),a)};d.bj=function(a){(a=O(this,a))?a.ad(!0):-1<this.jb&&O(this,this.jb).ad(!1)};d.ad=function(a){this.bj(Ti(this,a))};
function Uj(a){Yj(a,function(b,c){return(b+1)%c},Qi(a)-1)}function Vj(a){Yj(a,function(b,c){b--;return 0>b?c-1:b},0)}function Xj(a){Yj(a,function(b,c){return(b+1)%c},a.jb)}function Wj(a){Yj(a,function(b,c){b--;return 0>b?c-1:b},a.jb)}function Yj(a,b,c){c=0>c?Ti(a,a.Ub):c;var e=Qi(a);c=b.call(a,c,e);for(var f=0;f<=e;){var h=O(a,c);if(h&&a.yr(h)){a.lq(c);break}f++;c=b.call(a,c,e)}}d.yr=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.Nb&2)};d.lq=function(a){this.bj(a)};function Zj(){}v(Zj,wj);qa(Zj);Zj.prototype.ib=function(){return"goog-menuheader"};function ak(a,b,c){P.call(this,a,c||Zj.Se(),b);this.sd(1,!1);this.sd(2,!1);this.sd(4,!1);this.sd(32,!1);this.Qa=1}v(ak,P);oj("goog-menuheader",function(){return new ak(null)});function bk(){this.Cr=[]}v(bk,wj);qa(bk);function ck(a,b){var c=a.Cr[b];if(!c){switch(b){case 0:c=a.ib()+"-highlight";break;case 1:c=a.ib()+"-checkbox";break;case 2:c=a.ib()+"-content"}a.Cr[b]=c}return c}d=bk.prototype;d.Wj=function(){return"menuitem"};d.Z=function(a){var b=a.ae().Z("DIV",this.Ci(a).join(" "),dk(this,a.pg(),a.ae()));ek(this,a,b,!!(a.Nb&8)||!!(a.Nb&16));return b};d.Sc=function(a){return a&&a.firstChild};
d.Td=function(a,b){if(ma(b.firstElementChild))var c=b.firstElementChild;else for(c=b.firstChild;c&&1!=c.nodeType;)c=c.nextSibling;var e=ck(this,2);c&&jj(c,e)||b.appendChild(dk(this,b.childNodes,a.ae()));jj(b,"goog-option")&&(a.Ok(!0),this.Ok(a,b,!0));return bk.s.Td.call(this,a,b)};d.cf=function(a,b){var c=this.Sc(a),e=fk(this,a)?c.firstChild:null;bk.s.cf.call(this,a,b);e&&!fk(this,a)&&c.insertBefore(e,c.firstChild||null)};function dk(a,b,c){a=ck(a,2);return c.Z("DIV",a,b)}
d.fu=function(a,b,c){a&&b&&ek(this,a,b,c)};d.Ok=function(a,b,c){a&&b&&ek(this,a,b,c)};function fk(a,b){return(b=a.Sc(b))?(b=b.firstChild,a=ck(a,1),!!b&&va(b)&&1==b.nodeType&&jj(b,a)):!1}function ek(a,b,c,e){Bj(a,c,b.Zj());Cj(a,b,c);e!=fk(a,c)&&(e?kj(c,"goog-option"):mj(c,"goog-option"),c=a.Sc(c),e?(a=ck(a,1),c.insertBefore(b.ae().Z("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))}
d.fm=function(a){switch(a){case 2:return ck(this,0);case 16:case 8:return"goog-option-selected";default:return bk.s.fm.call(this,a)}};d.om=function(a){var b=ck(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return bk.s.om.call(this,a)}};d.ib=function(){return"goog-menuitem"};function gk(a,b,c,e){P.call(this,a,e||bk.Se(),c);this.setValue(b)}v(gk,P);d=gk.prototype;d.getValue=function(){var a=this.vp;return null!=a?a:this.Ko()};d.setValue=function(a){this.vp=a};d.sd=function(a,b){gk.s.sd.call(this,a,b);switch(a){case 8:this.Qa&16&&!b&&Jj(this,!1);(a=this.J())&&this.ma.fu(this,a,b);break;case 16:(a=this.J())&&this.ma.Ok(this,a,b)}};d.fu=function(a){this.sd(8,a)};d.Ok=function(a){this.sd(16,a)};
d.Ko=function(){var a=this.pg();return sa(a)?(a=Ka(a,function(b){return va(b)&&1==b.nodeType&&(jj(b,"goog-menuitem-accel")||jj(b,"goog-menuitem-mnemonic-separator"))?"":nd(b)}).join(""),fc(a)):gk.s.Ko.call(this)};d.Ki=function(a){var b=this.getParent();if(b){var c=b.It;b.It=null;if(c&&na(a.clientX)&&Mc(c,new A(a.clientX,a.clientY)))return}gk.s.Ki.call(this,a)};d.rh=function(a){return a.keyCode==this.ot&&Nj(this,a)?!0:gk.s.rh.call(this,a)};d.vx=function(){return this.ot};oj("goog-menuitem",function(){return new gk(null)});
gk.prototype.Zj=function(){return this.Nb&16?"menuitemcheckbox":this.Nb&8?"menuitemradio":gk.s.Zj.call(this)};gk.prototype.getParent=function(){return P.prototype.getParent.call(this)};gk.prototype.nm=function(){return P.prototype.nm.call(this)};function hk(){}v(hk,wj);qa(hk);hk.prototype.Z=function(a){return a.ae().Z("DIV",this.ib())};hk.prototype.Td=function(a,b){b.id&&Mi(a,b.id);if("HR"==b.tagName){var c=b;b=this.Z(a);c.parentNode&&c.parentNode.insertBefore(b,c);ed(c)}else kj(b,this.ib());return b};hk.prototype.cf=function(){};hk.prototype.ib=function(){return"goog-menuseparator"};function ik(a,b){P.call(this,null,a||hk.Se(),b);this.sd(1,!1);this.sd(2,!1);this.sd(4,!1);this.sd(32,!1);this.Qa=1}v(ik,P);ik.prototype.Hb=function(){ik.s.Hb.call(this);var a=this.J();Vi(a,"separator")};oj("goog-menuseparator",function(){return new ik});function jk(a){this.Nn=a||"menu"}v(jk,rj);qa(jk);jk.prototype.uf=function(a){return"UL"==a.tagName||jk.s.uf.call(this,a)};jk.prototype.Mo=function(a){return"HR"==a.tagName?new ik:jk.s.Mo.call(this,a)};jk.prototype.ib=function(){return"goog-menu"};jk.prototype.nk=function(a){jk.s.nk.call(this,a);a=a.J();Wi(a,"haspopup","true")};oj("goog-menuseparator",function(){return new ik});function kk(a,b){Rj.call(this,vj,b||jk.Se(),a);this.Ug(!1)}v(kk,Rj);d=kk.prototype;d.Fl=!0;d.cw=!1;d.ib=function(){return this.ma.ib()};d.removeItem=function(a){(a=this.removeChild(a,!0))&&a.B()};d.setPosition=function(a,b){var c=this.isVisible();c||uh(this.J(),!0);var e=this.J(),f=a;a=qh(e);f instanceof A&&(b=f.y,f=f.x);var h=e.offsetLeft+(f-a.x);h instanceof A?(f=h.x,b=h.y):(f=h,b=e.offsetTop+(Number(b)-a.y));e.style.left=rh(f);e.style.top=rh(b);c||uh(this.J(),!1)};
d.Hs=function(){return this.isVisible()?qh(this.J()):null};d.sa=function(a,b,c){(b=kk.s.sa.call(this,a,b))&&a&&this.Ca&&this.Fl&&this.Zb().focus();this.It=a&&c&&na(c.clientX)?new A(c.clientX,c.clientY):null;return b};d.To=function(a){this.Fl&&this.Zb().focus();return kk.s.To.call(this,a)};d.yr=function(a){return(this.cw||a.isEnabled())&&a.isVisible()&&!!(a.Nb&2)};
d.Mj=function(a){var b=this.ma;var c=this.ae();c=Uc(c.Ud,b.ib()+"-content",a);for(var e=c.length,f=0;f<e;f++)tj(b,this,c[f]);kk.s.Mj.call(this,a)};d.rh=function(a){var b=kk.s.rh.call(this,a);b||Pi(this,function(c){!b&&c.vx&&c.ot==a.keyCode&&(this.isEnabled()&&this.ad(c),b=c.re(a))},this);return b};
d.bj=function(a){kk.s.bj.call(this,a);if(a=O(this,a)){var b=a.J();a=this.J()||Zc(document);var c=a||Zc(document);var e=qh(b),f=qh(c);if(!x||9<=Number(Bc)){k=nh(c,"borderLeftWidth");var h=nh(c,"borderRightWidth");l=nh(c,"borderTopWidth");m=nh(c,"borderBottomWidth");h=new xg(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=yh(c,"borderLeft");h=yh(c,"borderRight");var l=yh(c,"borderTop"),m=yh(c,"borderBottom");h=new xg(l,h,m,k)}c==Zc(document)?(k=e.x-c.scrollLeft,e=e.y-c.scrollTop,
!x||10<=Number(Bc)||(k+=h.left,e+=h.top)):(k=e.x-f.x-h.left,e=e.y-f.y-h.top);b=th(b);f=c.clientHeight-b.height;h=c.scrollLeft;l=c.scrollTop;h+=Math.min(k,Math.max(k-(c.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));c=new A(h,l);a.scrollLeft=c.x;a.scrollTop=c.y}};w.ba={};w.ba.Ul=null;w.ba.zs=null;w.ba.show=function(a,b,c){w.K.show(w.ba,c,null);if(b.length){var e=w.ba.Tm(b,c);qi(e,"action",w.ba.Ia);w.ba.Ec(e,a,c);setTimeout(function(){e.J().focus()},1);w.ba.Ul=null}else w.ba.Ia()};w.ba.Tm=function(a,b){var c=new kk;c.Tf(b);for(var e=0,f;f=a[e];e++){var h=new gk(f.text);h.Tf(b);c.xj(h,!0);h.Rf(f.enabled);f.enabled&&(qi(h,"action",f.Wa),h.Ii=function(){this.dispatchEvent("action")})}return c};
w.ba.Ec=function(a,b,c){var e=w.h.Is();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};w.ba.Kj(a);var f=w.h.hj.ak(a);c&&w.h.hj.lr(e,b,f);w.K.Nt(e,b,f,c);a.J().focus()};w.ba.Kj=function(a){a.ea(w.K.oa);var b=a.J();w.h.Va(b,"blocklyContextMenu");w.R(b,"contextmenu",null,w.h.Ay);a.Fl=!0;a.Ug(!0)};w.ba.Ia=function(){w.K.jk(w.ba);w.ba.Ul=null;w.ba.zs&&w.Ea(w.ba.zs)};
w.ba.Cj=function(a,b){return function(){w.j.disable();try{var c=w.w.Ai(b,a.o),e=a.wa();e.x=a.u?e.x-w.Kc:e.x+w.Kc;e.y+=2*w.Kc;c.moveBy(e.x,e.y)}finally{w.j.enable()}w.j.isEnabled()&&!c.Oa&&w.j.U(new w.j.tl(c));c.select()}};w.ba.iw=function(a){var b=qd(a,!1).length,c=rd(a);c&&(b-=qd(c,!1).length);return{text:1==b?w.g.DELETE_BLOCK:w.g.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,Wa:function(){w.j.N(!0);a.B(!0,!0);w.j.N(!1)}}};
w.ba.kw=function(a){return{enabled:!("function"==typeof a.Za?!a.Za():!a.Za),text:w.g.HELP,Wa:function(){var b="function"==typeof a.Za?a.Za():a.Za;b&&window.open(b)}}};w.ba.jw=function(a){var b=ve(a.o)?ue(a.o,w.h.Jo(a,!0)):!0;return{text:w.g.DUPLICATE_BLOCK,enabled:b,Wa:function(){w.ws(a)}}};w.ba.hw=function(a){var b={enabled:!x};a.Xa?(b.text=w.g.REMOVE_COMMENT,b.Wa=function(){a.Qf(null)}):(b.text=w.g.ADD_COMMENT,b.Wa=function(){a.Qf("")});return b};
w.ba.Aw=function(a){return{text:w.g.eA,enabled:!0,Wa:function(){w.j.N(!0);a.B(!0,!0);w.j.N(!1)}}};w.ba.Bw=function(a){return{text:w.g.Lz,enabled:!0,Wa:function(){w.ws(a)}}};
w.ba.GA=function(a,b){var c={enabled:!x};c.text=w.g.Ez;c.Wa=function(){var e=new Ef(a,w.g.gA,100,100);if(!a.cp)for(var f=a.A;f;){if(-1!=(" "+(f.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.cp=f;break}f=f.parentNode}f=a.cp.getBoundingClientRect();f=new A(b.clientX-f.left,b.clientY-f.top);var h=w.h.jm(a.Ra);f=Oc(f,h).scale(1/a.scale);e.moveBy(f.x,f.y);a.O&&(e.Bc(),e.ea(!1),e.select())};return c};var lk=/#(.)(.)(.)/;function mk(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(b!=(b&255)||c!=(c&255)||a!=(a&255))throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');c=b<<16|c<<8|a;return 16>b?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)}var nk=/^#(?:[0-9a-f]{3}){1,2}$/i;function ok(a,b,c){c=Hc(c,0,1);return[Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2]))]};function I(a,b,c){this.A=w.h.C("g",{},null);this.A.Xf="";this.Xh=w.h.C("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.A);this.cd=w.h.C("path",{"class":"blocklyPath"},this.A);this.kf=w.h.C("path",{"class":"blocklyPathLight"},this.A);this.cd.ud=this;this.O=!1;this.mf=w.h.Ag()&&!!a.Db;w.D.hh(this.cd);I.s.constructor.call(this,a,b,c);this.A.dataset&&(this.A.dataset.id=this.id)}v(I,se);d=I.prototype;d.height=0;d.width=0;d.vd=null;
d.Bc=function(){if(!this.o.O)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.S[a];a++)b.I();b=qf(this);for(a=0;a<b.length;a++)Me(b[a]);this.Zf();Ff(this);this.o.options.readOnly||this.Bo||w.R(this.Y(),"mousedown",this,this.Jg);this.Bo=!0;this.Y().parentNode||this.o.Ra.appendChild(this.Y())};
d.select=function(){if(this.Oa&&this.getParent())this.getParent().select();else if(w.selected!=this){var a=null;if(w.selected){a=w.selected.id;w.j.disable();try{w.selected.ai()}finally{w.j.enable()}}a=new Id(null,"selected",a,this.id);a.Ob=this.o.id;w.j.U(a);w.selected=this;this.si()}};d.ai=function(){if(w.selected==this){var a=new Id(null,"selected",this.id,null);a.Ob=this.o.id;w.j.U(a);w.selected=null;this.Mh()}};d.$c=null;d.Xa=null;d.rc=null;
function qf(a){var b=[];a.$c&&b.push(a.$c);a.Xa&&b.push(a.Xa);a.rc&&b.push(a.rc);return b}d.Qh=function(a){var b=this.af;if(a!=b){ee();I.s.Qh.call(this,a);je();var c=this.Y();if(!this.o.gp&&c){var e=this.wa();a?(a.Y().appendChild(c),a=this.wa(),lf(this,a.x-e.x,a.y-e.y)):b&&(this.o.Ra.appendChild(c),this.translate(e.x,e.y))}}};
d.wa=function(){var a=0,b=0,c=this.mf?this.o.Db.Ib():null,e=this.Y();if(e){do{var f=w.h.Uc(e);a+=f.x;b+=f.y;this.mf&&this.o.Db.Vd.firstChild==e&&(f=this.o.Db.pm(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.o.Ra&&e!=c)}return new A(a,b)};d.moveBy=function(a,b){if(this.af)throw Error("Block has parent.");var c=w.j.isEnabled();if(c)var e=new w.j.nj(this);var f=this.wa();this.translate(f.x+a,f.y+b);lf(this,a,b);c&&(e.Mf(),w.j.U(e));ne(this.o)};
d.translate=function(a,b){this.Y().setAttribute("transform","translate("+a+","+b+")")};d.Nm=function(){if(this.mf){var a=this.wa();w.h.removeAttribute(this.Y(),"transform");this.o.Db.Wf(a.x,a.y);Hf(this.o.Db,this.Y())}};d.st=function(a){this.mf&&(this.translate(a.x,a.y),this.o.Db.Dj(this.o.Ra))};d.Mm=function(a){this.mf?this.o.Db.Wf(a.x,a.y):(this.A.Xf="translate("+a.x+","+a.y+")",this.A.setAttribute("transform",this.A.Xf+this.A.Sh))};
function dh(a){if(a.o&&!a.o.Kb()&&!a.getParent()&&!a.xb){var b=a.o.ee;if(b&&b.fz){var c=b.wq,e=c/2,f=a.wa();b=Math.round((f.x-e)/c)*c+e-f.x;c=Math.round((f.y-e)/c)*c+e-f.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}d.dm=function(){var a=this.wa(),b=this.M?F:0,c=this.Yb();if(this.u){var e=new A(a.x-(c.width-b),a.y);a=new A(a.x+b,a.y+c.height)}else e=new A(a.x-b,a.y),a=new A(a.x+c.width-b,a.y+c.height);return{fd:e,xd:a}};
d.Sg=function(a){if(this.zf!=a){for(var b=[],c=0,e;e=this.S[c];c++)b.push.apply(b,e.sa(!a));if(a){e=qf(this);for(c=0;c<e.length;c++)e[c].sa(!1);c=this.toString(w.Qu);J(N(this,"_TEMP_COLLAPSED_INPUT"),c).I();e=qd(this,!0);if(c=rd(this))c=e.indexOf(c),e.splice(c,e.length-c);c=1;for(var f;f=e[c];c++)if(f.rc){this.Vf(w.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");break}}else this.Ja("_TEMP_COLLAPSED_INPUT"),this.rc&&(this.rc.zb("","TEMP_COLLAPSED_WARNING_"),Object.keys(this.rc.xa).length||
this.Vf(null));I.s.Sg.call(this,a);b.length||(b[0]=this);if(this.O)for(c=0;f=b[c];c++)f.ea()}};function pk(a,b,c){for(var e=[],f=0,h;h=a.S[f];f++){for(var k=0,l;l=h.Ha[k];k++)l instanceof qk&&e.push(l);h.connection&&(h=D(h.connection))&&e.push(h)}b=e.indexOf(b);-1==b&&(b=c?-1:e.length);(e=e[c?b+1:b-1])?e instanceof zh?e.ef():pk(e,null,c):(e=a.getParent())&&pk(e,a,c)}
d.Jg=function(a){var b=this.o&&this.o.Re(a);if(b){if(b.uh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Zf(b,this);b.ue=a}};
d.dj=function(a){if(!this.o.options.readOnly&&this.contextMenu){var b=this,c=[];if(!this.xb){this.mc()&&this.Lb()&&c.push(w.ba.jw(b));this.o.options.Fj&&!this.zf&&ce(this)&&c.push(w.ba.hw(b));if(this.Lb())if(this.zf)this.o.options.collapse&&(e={enabled:!0},e.text=w.g.EXPAND_BLOCK,e.Wa=function(){b.Sg(!1)},c.push(e));else{for(var e=1;e<this.S.length;e++)if(this.S[e-1].type!=w.ab&&this.S[e].type!=w.ab){e={enabled:!0};var f=mh(this);e.text=f?w.g.EXTERNAL_INPUTS:w.g.INLINE_INPUTS;e.Wa=function(){b.gc(!f)};
c.push(e);break}this.o.options.collapse&&(e={enabled:!0},e.text=w.g.COLLAPSE_BLOCK,e.Wa=function(){b.Sg(!0)},c.push(e))}this.o.options.disable&&ce(this)&&(e={text:this.disabled?w.g.ENABLE_BLOCK:w.g.DISABLE_BLOCK,enabled:!Ph(this),Wa:function(){var h=w.j.Ib();h||w.j.N(!0);b.rd(!b.disabled);h||w.j.N(!1)}},c.push(e));this.mc()&&c.push(w.ba.iw(b))}c.push(w.ba.kw(b));this.Ie&&this.Ie(c);w.ba.show(a,c,this.u);w.ba.Ul=this}};
function lf(a,b,c){if(a.O){for(var e=a.$d(!1),f=0;f<e.length;f++)e[f].moveBy(b,c);e=qf(a);for(f=0;f<e.length;f++)Ne(e[f]);for(f=0;f<a.wf.length;f++)lf(a.wf[f],b,c)}}d.Tg=function(a){if(a){var b=this.Y();b.Xf="";b.Sh="";w.Oj=w.Oj.concat(this.$d(!0));w.h.Va(this.A,"blocklyDragging")}else w.Oj=[],w.h.yb(this.A,"blocklyDragging");for(b=0;b<this.wf.length;b++)this.wf[b].Tg(a)};d.Ph=function(a){I.s.Ph.call(this,a);Ff(this)};d.jq=function(a){I.s.jq.call(this,a);a=qf(this);for(var b=0;b<a.length;b++)a[b].$f()};
d.oq=function(a){I.s.oq.call(this,a);this.Zf()};d.du=function(a){this.te!=a&&(this.te=a)&&(this.Hc(w.pv),w.h.Va(this.A,"blocklyInsertionMarker"))};d.Y=function(){return this.A};
d.B=function(a,b){if(this.o){w.D.Ia();ee();var c=this.o;if(w.selected==this){this.ai();var e=this.o;e.Gb&&e.Gb.cancel()}w.ba.Ul==this&&w.ba.Ia();b&&this.O&&(Zd(this,a),w.Ma.$w(this));this.O=!1;if(this.vd){for(var f in this.vd)clearTimeout(this.vd[f]);this.vd=null}Zd(this,a);var h;w.j.isEnabled()&&(h=new w.j.Kq(this));w.j.disable();try{var k=qf(this);for(b=0;b<k.length;b++)k[b].B();I.s.B.call(this,a)}finally{w.j.enable()}w.j.isEnabled()&&h&&w.j.U(h);w.h.removeNode(this.A);ne(c);this.Xh=this.kf=this.cd=
this.A=null;je()}};
d.Zf=function(){if(!this.disabled){var a=this.Rd,b=this.Hr,c=this.Ir;var e=a;if(!nk.test(e))throw Error("'"+e+"' is not a valid hex color");4==e.length&&(e=e.replace(lk,"#$1$1$2$2$3$3"));e=e.toLowerCase();e=parseInt(e.substr(1),16);e=[e>>16,e>>8&255,e&255];this.Oa?(a=e,b?(this.kf.style.display="none",this.Xh.style.display="none",this.cd.setAttribute("fill",b),a=b):(a=ok([255,255,255],a,.6),a=mk(a),this.kf.style.display="none",this.Xh.setAttribute("fill",a))):c?(this.kf.setAttribute("stroke","none"),
this.Xh.setAttribute("fill","none"),this.cd.setAttribute("stroke",c)):(this.kf.style.display="",b=mk(ok([255,255,255],e,.3)),c=mk(ok([0,0,0],e,.2)),this.kf.setAttribute("stroke",b),this.Xh.setAttribute("fill",c),this.cd.setAttribute("stroke","none"));this.cd.setAttribute("fill",a);a=qf(this);for(b=0;b<a.length;b++)a[b].Zf();for(a=0;b=this.S[a];a++)for(c=0;e=b.Ha[c];c++)e.Tj()}};
function me(a){a.disabled||Ph(a)?w.h.Va(a.A,"blocklyDisabled")&&a.cd.setAttribute("fill","url(#"+a.o.options.Cf+")"):w.h.yb(a.A,"blocklyDisabled")&&a.Zf();a=a.Ff(!1);for(var b=0,c;c=a[b];b++)me(c)}d.gm=function(){return this.Xa?this.Xa.Jb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};d.Qf=function(a){var b=!1;"string"==typeof a?(this.Xa||(this.Xa=new Oe(this),b=!0),this.Xa.zb(a)):this.Xa&&(this.Xa.B(),b=!0);b&&this.O&&(this.ea(),this.mb())};
d.Vf=function(a,b){this.vd||(this.vd=Object.create(null));var c=b||"";if(c)this.vd[c]&&(clearTimeout(this.vd[c]),delete this.vd[c]);else for(var e in this.vd)clearTimeout(this.vd[e]),delete this.vd[e];if(this.o.Kb()){var f=this;this.vd[c]=setTimeout(function(){f.o&&(delete f.vd[c],f.Vf(a,c))},100)}else{this.xb&&(a=null);b=Nh(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=Nh(b);e&&e.Vf(w.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");b=!1;"string"==typeof a?(this.rc||(this.rc=new Pe(this),b=
!0),this.rc.zb(a,c)):this.rc&&!c?(this.rc.B(),b=!0):this.rc&&(b=this.rc.Jb(),this.rc.zb("",c),(e=this.rc.Jb())||this.rc.B(),b=b!=e);b&&this.O&&(this.ea(),this.mb())}};d.Vg=function(a){this.$c&&this.$c!==a&&this.$c.B();a&&(a.V=this,this.$c=a,Me(a))};d.rd=function(a){this.disabled!=a&&(I.s.rd.call(this,a),this.O&&me(this))};d.ad=function(a){this.O&&(a?(this.cd.setAttribute("filter","url(#"+this.o.options.ys+")"),this.kf.style.display="none"):(w.h.removeAttribute(this.cd,"filter"),delete this.kf.style.display))};
d.si=function(){w.h.Va(this.A,"blocklySelected")};d.Mh=function(){w.h.yb(this.A,"blocklySelected")};d.Qk=function(a){a?w.h.Va(this.A,"blocklyDraggingDelete"):w.h.yb(this.A,"blocklyDraggingDelete")};d.Hc=function(a){I.s.Hc.call(this,a);this.O&&this.Zf()};function Cf(a){do{var b=a.Y();b.parentNode.appendChild(b);a=a.getParent()}while(a)}d.Ed=function(a,b){I.s.Ed.call(this,a,b);this.O&&(this.ea(),this.mb())};d.Dd=function(a,b){I.s.Dd.call(this,a,b);this.O&&(this.ea(),this.mb())};
d.bd=function(a,b){I.s.bd.call(this,a,b);this.O&&(this.ea(),this.mb())};d.gc=function(a){I.s.gc.call(this,a);this.O&&(this.ea(),this.mb())};d.Ja=function(a,b){I.s.Ja.call(this,a,b);this.O&&(this.ea(),this.mb())};d.wp=function(a,b){I.s.wp.call(this,a,b);this.O&&(this.ea(),this.mb())};d.yj=function(a,b){a=I.s.yj.call(this,a,b);this.O&&(this.ea(),this.mb());return a};
d.$d=function(a){var b=[];if(a||this.O)if(this.M&&b.push(this.M),this.T&&b.push(this.T),this.L&&b.push(this.L),a||!this.zf){a=0;for(var c;c=this.S[a];a++)c.connection&&b.push(c.connection)}return b};d.zk=function(a){return new ef(this,a)};d.mb=function(){if(this.o&&!this.o.Kb()){var a=gf(this);if(!a.xb)for(var b=this.$d(!1),c=0,e;e=b[c];c++){e.isConnected()&&We(e)&&D(e).mb();for(var f=e.tt(w.Kc),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||gf(k.v)!=a&&(We(e)?Te(k,e):Te(e,k))}}};
function Df(a){var b=w.j.Ib();setTimeout(function(){w.j.N(b);dh(a);w.j.N(!1)},w.rl/2);setTimeout(function(){w.j.N(b);a.mb();w.j.N(!1)},w.rl)};function rk(){this.hf=[];this.se=[];this.Vs=[];this.Ss=[]}var F=8,sk=7.5*(1-Math.SQRT1_2)+.5,tk=8.5*(1-Math.SQRT1_2)-.5,mf="v 5 c 0,10 -"+F+",-8 -"+F+",7.5 s "+F+",-2.5 "+F+",7.5",uk="v 6.5 m -"+.97*F+",3 q -"+.05*F+",10 "+.3*F+",9.5 m "+.67*F+",-1.9 v 1.4",vk="m "+sk+","+sk,wk="a 8,8 0 0,0 "+(-tk-.5)+","+(8-tk),xk="a 8.5,8.5 0 0,0 "+(8-tk)+","+(tk+.5);
I.prototype.Yb=function(){var a=this.height,b=this.width,c=rd(this);c?(c=c.Yb(),a+=c.height-4,b=Math.max(b,c.width)):this.L||this.M||(a+=2);return{height:a,width:b}};
I.prototype.ea=function(a){if(this.o){ee();this.O=!0;var b=10;this.u&&(b=-b);for(var c=qf(this),e=0;e<c.length;e++){var f=c[e];if(f.Fr&&f.V.isCollapsed()||f.V.te)f.Wc.setAttribute("display","none");else{f.Wc.setAttribute("display","block");var h=f.Gn;f.V.u&&(b-=h);f.Wc.setAttribute("transform","translate("+b+",5)");Ne(f);b=f.V.u?b-10:b+(h+10)}}var k=b+=this.u?10:-10,l=this.S;c=[];c.oc=k+20;if(this.T||this.L)c.oc=Math.max(c.oc,40);f=e=0;for(var m=h=!1,n=!1,p=void 0,t=mh(this)&&!this.isCollapsed(),
r=0,q;q=l[r];r++)if(q.isVisible()){if(t&&p&&p!=w.ab&&q.type!=w.ab)var y=c[c.length-1];else p=q.type,y=[],y.type=t&&q.type!=w.ab?-1:q.type,y.height=0,c.push(y);y.push(q);q.Og=25;q.ec=t&&q.type==w.Na?F+12.5:0;if(q.connection&&q.connection.isConnected()){var L=D(q.connection).Yb();q.Og=Math.max(q.Og,L.height);q.ec=Math.max(q.ec,L.width)}t||r!=l.length-1?!t&&q.type==w.Na&&l[r+1]&&l[r+1].type==w.ab&&q.Og--:q.Og--;y.height=Math.max(y.height,q.Og);q.pe=0;1==c.length&&(q.pe+=this.u?-k:k);L=!1;for(var R=0,
aa;aa=q.Ha[R];R++){0!=R&&(q.pe+=10);var rb=aa.ak();aa.ec=rb.width;aa.$m=L&&aa.dh?10:0;q.pe+=aa.ec+aa.$m;y.height=Math.max(y.height,rb.height);L=aa.dh}-1!=y.type&&(y.type==w.ab?(m=!0,f=Math.max(f,q.pe)):(y.type==w.Na?h=!0:y.type==w.pf&&(n=!0),e=Math.max(e,q.pe)))}for(k=0;y=c[k];k++)if(y.xu=!1,-1==y.type)for(l=0;q=y[l];l++)if(q.type==w.Na){y.height+=10;y.xu=!0;break}c.mn=20+f;m&&(c.oc=Math.max(c.oc,c.mn+30));h?c.oc=Math.max(c.oc,e+20+F):n&&(c.oc=Math.max(c.oc,e+20));c.Rx=h;c.vA=m;c.uA=n;e=b;this.yq=
!1;this.height=0;this.M?this.xq=this.Uk=!0:(b=this.vh?"cap"===this.vh:!1,this.xq=this.Uk=!1,this.T?(b=D(this.T))&&rd(b)==this&&(this.Uk=!0):b&&(this.yq=this.Uk=!0,this.height+=15,c.oc=Math.max(c.oc,100)),rd(this)&&(this.xq=!0));b=new rk;f=c.oc;h=b.hf;m=b.se;this.Uk?(h.push("m 0,0"),m.push("m 0.5,0.5"),this.yq&&(h.push("c 30,-15 70,-15 100,0"),m.push(this.u?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(h.push("m 0,8"),m.push(this.u?vk:"m 0.5,7.5"),h.push("A 8,8 0 0,1 8,0"),
m.push("A 7.5,7.5 0 0,1 8,0.5"));this.T&&(h.push("H",15),m.push("H",15),h.push("l 6,4 3,0 6,-4"),m.push("l 6,4 3,0 6,-4"),jf(this.T,this.u?-30:30,0));h.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};h={x:0,y:0};for(m=0;n=c[m];m++){f.x=10;0==m&&(f.x+=this.u?-e:e);b.se.push("M",c.oc-.5+","+(f.y+.5));if(this.isCollapsed())k=n,q=b.hf,y=b.se,yk(this,k[0].Ha,f.x,f.y),q.push("l 8,0 0,4 8,4 -16,8 8,4"),y.push("h 8"),k=k.height-20,q.push("v",k),this.u&&(y.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
y.push("v",k-.7)),this.width+=15;else if(-1==n.type){y=n;k=f;l=h;p=c.oc;t=b.Vs;r=b.Ss;L=b.hf;R=b.se;for(aa=0;q=y[aa];aa++){rb=k.x;var Wk=k.y;y.xu&&(Wk+=5);k.x=yk(this,q.Ha,rb,Wk);q.type!=w.pf&&(k.x+=q.ec+10);q.type==w.Na&&(t.push("M",k.x-10+","+(k.y+5)),t.push("h",F-2-q.ec),t.push(mf),t.push("v",q.Og+1-20),t.push("h",q.ec+2-F),t.push("z"),this.u?(r.push("M",k.x-10-2.5+F-q.ec+","+(k.y+5+.5)),r.push(uk),r.push("v",q.Og-20+2.5),r.push("h",q.ec-F+2)):(r.push("M",k.x-10+.5+","+(k.y+5+.5)),r.push("v",q.Og+
1),r.push("h",F-2-q.ec),r.push("M",k.x-q.ec-10+.9+","+(k.y+5+20-.7)),r.push("l",.46*F+",-2.1")),l.x=this.u?-k.x-F+10+q.ec+1:k.x+F-10-q.ec-1,l.y=k.y+5+1,jf(q.connection,l.x,l.y))}k.x=Math.max(k.x,p);this.width=Math.max(this.width,k.x);L.push("H",k.x);R.push("H",k.x-.5);L.push("v",y.height);this.u&&R.push("v",y.height-1)}else n.type==w.Na?(r=n,q=f,y=h,k=c.oc,l=b.hf,p=b.se,t=r[0],L=q.x,R=q.y,t.align!=w.lj&&(aa=k-t.pe-F-20,t.align==w.ah?L+=aa:t.align==w.ml&&(L+=aa/2)),yk(this,t.Ha,L,R),l.push(mf),r=r.height-
20,l.push("v",r),this.u?(p.push(uk),p.push("v",r+.5)):(p.push("M",k-5+","+(q.y+20-.7)),p.push("l",.46*F+",-2.1")),y.x=this.u?-k-1:k+1,jf(t.connection,y.x,q.y),t.connection.isConnected()&&(this.width=Math.max(this.width,k+D(t.connection).Yb().width-F+1))):n.type==w.pf?(q=n,y=b.hf,k=b.se,l=q[0],p=f.x,t=f.y,l.align!=w.lj&&(r=c.oc-l.pe-20,c.Rx&&(r-=F),l.align==w.ah?p+=r:l.align==w.ml&&(p+=r/2)),yk(this,l.Ha,p,t),y.push("v",q.height),this.u&&k.push("v",q.height-1)):n.type==w.ab&&(q=n,y=f,k=h,l=c,p=m,t=
b.hf,r=b.se,L=q[0],0==p&&(t.push("v",10),this.u&&r.push("v",9),y.y+=10),R=y.x,aa=y.y,L.align!=w.lj&&(rb=l.mn-L.pe-20,L.align==w.ah?R+=rb:L.align==w.ml&&(R+=rb/2)),yk(this,L.Ha,R,aa),y.x=l.mn+30,t.push("H",y.x),t.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),t.push("v",q.height-16),t.push("a 8,8 0 0,0 8,8"),t.push("H",l.oc),this.u?(r.push("M",y.x-30+tk+","+(y.y+tk)),r.push(wk),r.push("v",q.height-16),r.push("a 8.5,8.5 0 0,0 8.5,8.5")):(r.push("M",y.x-30+tk+","+(y.y+q.height-tk)),r.push(xk)),r.push("H",
l.oc-.5),k.x=this.u?-y.x:y.x+1,jf(L.connection,k.x,y.y+1),L.connection.isConnected()&&(this.width=Math.max(this.width,l.mn+D(L.connection).Yb().width)),p==l.length-1||l[p+1].type==w.ab)&&(t.push("v",10),this.u&&r.push("v",9),y.y+=10);f.y+=n.height}c.length||(f.y=25,b.hf.push("V",f.y),this.u&&b.se.push("V",f.y-1));c=f.y;e=b.hf;f=b.se;this.height+=c+1;this.L&&(e.push("H",30+(this.u?.5:-.5)+" l -6,4 -3,0 -6,-4"),jf(this.L,this.u?-30:30,c+1),this.height+=4);this.xq?(e.push("H 0"),this.u||f.push("M","0.5,"+
(c-.5))):(e.push("H",8),e.push("a","8,8 0 0,1 -8,-8"),this.u||(f.push("M",sk+","+(c-sk)),f.push("A","7.5,7.5 0 0,1 0.5,"+(c-8))));c=b.hf;e=b.se;this.M?(jf(this.M,0,0),c.push("V",20),c.push("c 0,-10 -"+F+",8 -"+F+",-7.5 s "+F+",2.5 "+F+",-7.5"),this.u?(e.push("M",-.25*F+",8.4"),e.push("l",-.45*F+",-2.1")):(e.push("V",18.5),e.push("m",-.92*F+",-0.5 q "+-.19*F+",-5.5 0,-11"),e.push("m",.92*F+",1 V 0.5 H 1")),this.width+=F):this.u||(this.Uk?e.push("V",.5):e.push("V",8));c.push("z");c=b.hf.join(" ")+"\n"+
b.Vs.join(" ");this.cd.setAttribute("d",c);this.Xh.setAttribute("d",c);c=b.se.join(" ")+"\n"+b.Ss.join(" ");this.kf.setAttribute("d",c);this.u&&(this.cd.setAttribute("transform","scale(-1 1)"),this.kf.setAttribute("transform","scale(-1 1)"),this.Xh.setAttribute("transform","translate(1,1) scale(-1 1)"));c=this.wa();this.T&&hf(this.T,c);this.M&&hf(this.M,c);for(b=0;b<this.S.length;b++)if(e=this.S[b].connection)hf(e,c),e.isConnected()&&kf(e);this.L&&(hf(this.L,c),this.L.isConnected()&&kf(this.L));!1!==
a&&((a=this.getParent())?a.ea(!0):ne(this.o));je()}};function yk(a,b,c,e){e+=5;a.u&&(c=-c);for(var f=0,h;h=b[f];f++){var k=h.Y();if(k){var l="";if(a.u){var m=c-=h.$m+h.ec;h.ec&&(c-=10)}else m=c+h.$m,h.ec&&(c+=h.$m+h.ec+10);a.u&&h instanceof zk&&h.nx&&(l="scale(-1 1)",m+=h.ec);k.setAttribute("transform","translate("+m+","+e+")"+l);a.te&&k.setAttribute("display","none")}}return a.u?-c:c}function vf(a,b){b?w.h.Va(a.A,"blocklyReplaceable"):w.h.yb(a.A,"blocklyReplaceable")};/*

 Visual Blocks Editor

 Copyright 2016 Massachusetts Institute of Technology
 All rights reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Ak,Bk,Ck=null,Dk=null,Ek=null,Fk=null,Gk=0;function Hk(){if(!Ck){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);Ck=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);Ak=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);Bk=b;Ck.style.transition="transform 0.25s, opacity 0.25s"}}function Ik(){Ak.innerHTML="";Ak.style.width=""}
function Jk(a){var b=a.hb.getBoundingClientRect();var c=b.left+b.width/2;var e=b.bottom;b=b.top;Dk=H(a.v.o).parentNode;Ek=a;Gk=void 0;a=Dk.getBoundingClientRect();var f=sh(Dk);var h=a.left;var k=a.left+f.width;var l=a.top;f=a.top+f.height;a=sh(Ck);if(e+a.height>f)if(b-a.height<l){f=c;l=0;c=!1;var m=!0}else f=c,l=b-a.height-16,c=!0;else f=c,l=e+16,c=!1;var n=f;f-=a.width/2;f=w.h.Vn(h,f,k-a.width);k=w.h.Vn(h,n-8,k)-f;k=w.h.Vn(12,k,a.width-12-16);h=f;e=c?b-a.height:e;b=f;a=(c?a.height-1:0)-9;m=!m;Bk.style.transform=
"translate("+k+"px,"+a+"px) rotate(45deg)";Bk.setAttribute("class",c?"blocklyDropDownArrow arrowBottom":"blocklyDropDownArrow arrowTop");Bk.style.display=m?"":"none";Kk(h,e,b,l)}function Lk(){var a=Ck;a.style.transform="translate(0px, 0px)";a.style.opacity=0;Fk=setTimeout(function(){Mk()},250);Gk&&(Gk(),Gk=null)}function Mk(){Ek&&(Fk&&window.clearTimeout(Fk),Kk(),Ik(),Ek=null,Gk&&(Gk(),Gk=null))}
function Kk(a,b,c,e){a=null==a?a:Math.floor(a);b=null==b?b:Math.floor(b);c=null==c?c:Math.floor(c);e=null==e?e:Math.floor(e);var f=Ck;f.style.left=null!=a?a+"px":"";f.style.top=null!=b?b+"px":"";null!=c?(f.style.display="block",f.style.opacity=1,f.style.transform="translate("+(c-a)+"px,"+(e-b)+"px)"):(f.style.display="none",f.style.transform="")};w.g={};function qk(a,b){qk.s.constructor.call(this,a,b)}v(qk,zh);qk.la=function(a){var b=w.h.nc(a.text);b=new qk(b,a["class"]);"boolean"===typeof a.spellcheck&&(b.kn=a.spellcheck);return b};qk.prototype.gg=!0;var Nk=null;d=qk.prototype;d.xl="text";d.kn=!0;d.B=function(){w.K.jk(this);qk.s.B.call(this)};d.setValue=function(a){if(null!==a){if(this.v){var b=Xd(this,a);null!==b&&(a=b)}zh.prototype.setValue.call(this,a)}};
d.zb=function(a){null!==a&&(a=String(a),a!==this.xa&&(this.v&&w.j.isEnabled()&&w.j.U(new w.j.hd(this.v,"field",this.name,this.xa,a)),zh.prototype.zb.call(this,a)))};
d.ef=function(a){this.m=this.v.o;a=a||!1;if(!a&&(qc||sc||uc))Ok(this);else{w.K.show(this,this.v.u,Pk(this));var b=w.K.oa,c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.kn);var e=11*this.m.scale+"pt";b.style.fontSize=e;c.style.fontSize=e;Nk=c;b.appendChild(c);c.value=c.defaultValue=this.xa;c.xt=null;Qk(this);this.cn();a||(c.focus(),c.select());c.Gy=w.R(c,"keydown",this,this.Fy);c.Jy=w.R(c,"keyup",this,this.Bt);c.Iy=w.R(c,"keypress",this,this.Bt);c.Ht=
this.cn.bind(this);this.m.Nc(c.Ht)}};function Ok(a){w.prompt(w.g.CHANGE_VALUE_TITLE,a.xa,function(b){a.v&&(b=Xd(a,b));a.setValue(b)})}d.Fy=function(a){var b=Nk;13==a.keyCode?(w.K.Ia(),Ek===this&&Lk()):27==a.keyCode?(b.value=b.defaultValue,w.K.Ia(),Ek===this&&Lk()):9==a.keyCode&&(w.K.Ia(),Ek===this&&Lk(),pk(this.v,this,!a.shiftKey),a.preventDefault())};d.Bt=function(){var a=Nk,b=a.value;b!==a.xt?(a.xt=b,w.j.N(!0),this.setValue(b),w.j.N(!1),Qk(this)):z&&this.v.ea();this.cn();w.Yh(this.v.o)};
function Qk(a){var b=!0;if(!Nk)throw Error("htmlInput not defined");var c=Nk;a.v&&(b=Xd(a,c.value));null===b?w.h.Va(c,"blocklyInvalidInput"):w.h.yb(c,"blocklyInvalidInput")}d.cn=function(){var a=w.K.oa,b=Hh(this);a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new A(this.v.u?b.right-a.offsetWidth:b.left,b.top);b.y+=1;pc&&w.K.oa.style.top&&(--b.x,--b.y);z&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
function Pk(a){return function(){var b=Nk,c=Nk,e=c.value;a.v&&(e=Xd(a,e),null===e?e=c.defaultValue:a.Ep&&a.Ep(e));a.zb(e);a.v.O&&a.v.ea();w.Ea(b.Gy);w.Ea(b.Jy);w.Ea(b.Iy);a.m.Ng(b.Ht);Nk=null;w.j.N(!1);b=w.K.oa.style;b.width="auto";b.height="auto";b.fontSize=""}}Bh("field_input",qk);function Rk(a,b){this.wu=w.h.C("tspan",{},null);this.wu.appendChild(document.createTextNode("\u00b0"));a=a&&!isNaN(a)?String(a):"0";Rk.s.constructor.call(this,a,b)}v(Rk,qk);Rk.la=function(a){return new Rk(a.angle)};d=Rk.prototype;d.gg=!0;d.Of=function(){this.La?(this.za.textContent=Fh(this),this.za.appendChild(this.wu),this.jj()):this.Ab.width=0};d.zi=function(){var a=this;return function(){Rk.s.zi.call(a)();a.Uj=null;a.Zn&&w.Ea(a.Zn);a.xp&&w.Ea(a.xp);a.yp&&w.Ea(a.yp)}};
d.ef=function(){Rk.s.ef.call(this,qc||sc||uc);Mk();Ik();var a=w.h.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},Ak),b=w.h.C("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.Uj=w.h.C("path",{"class":"blocklyAngleGauge"},a);this.et=w.h.C("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)w.h.C("line",{x1:99,y1:50,x2:99-(0==c%45?10:
5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+c+",50,50)"},a);c=this.v.Rd;Ck.style.backgroundColor=this.v.Rd;Ck.style.borderColor=c;Jk(this);this.Zn=w.kc(a,"click",this,this.Sx.bind(this));this.xp=w.kc(b,"mousemove",this,this.Gt);this.yp=w.kc(this.Uj,"mousemove",this,this.Gt);Sk(this)};d.Sx=function(){w.Ea(this.xp);w.Ea(this.yp);w.Ea(this.Zn);Ek===this&&Lk();w.K.Ia()};
d.Gt=function(a){var b=this.Uj.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/c);isNaN(b)||(b=w.h.qz(b),0>c?b+=180:0<a&&(b+=360),b=15*Math.round((b-0)/15),b=Xd(this,b),Nk.value=b,this.setValue(b),Qk(this),this.cn())};d.zb=function(a){Rk.s.zb.call(this,a);this.za&&Sk(this)};
function Sk(a){if(a.Uj){var b=Number(a.Jb())+0;b=w.h.bl(b);var c=["M ",50,",",50],e=50,f=50;if(!isNaN(b)){var h=w.h.bl(0),k=49*Math.cos(h),l=-49*Math.sin(h);e+=49*Math.cos(b);f-=49*Math.sin(b);c.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",e,",",f," z")}a.Uj.setAttribute("d",c.join(""));a.et.setAttribute("x2",e);a.et.setAttribute("y2",f)}}
d.Wn=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);360<a&&(a-=360);return String(a)};Bh("field_angle",Rk);function Tk(a,b){Tk.s.constructor.call(this,"",b);this.setValue(a)}v(Tk,zh);Tk.la=function(a){return new Tk(a.checked?"TRUE":"FALSE")};d=Tk.prototype;d.gg=!0;d.xl="default";d.I=function(){this.hb||(Tk.s.I.call(this),this.Ll=w.h.C("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.hb),this.Ll.appendChild(document.createTextNode("\u2713")),this.Ll.style.display=this.Qa?"block":"none")};d.getValue=function(){return String(this.Qa).toUpperCase()};
d.setValue=function(a){a="string"==typeof a?"TRUE"==a.toUpperCase():!!a;this.Qa!==a&&(this.v&&w.j.isEnabled()&&w.j.U(new w.j.hd(this.v,"field",this.name,this.Qa,a)),this.Qa=a,this.Ll&&(this.Ll.style.display=a?"block":"none"))};d.ef=function(){var a=!this.Qa;this.v&&(a=Xd(this,a));null!==a&&this.setValue(String(a).toUpperCase())};Bh("field_checkbox",Tk);function Uk(a,b){Uk.s.constructor.call(this,a,b);this.zb("\u00a0\u00a0\u00a0")}v(Uk,zh);Uk.la=function(a){return new Uk(a.colour)};d=Uk.prototype;d.gg=!0;d.zw=null;d.pz=null;d.Jr=0;d.cv="silver";d.bv="white";d.I=function(){Uk.s.I.call(this);this.Ab=new Qc(16,12);this.wd.style.fillOpacity=1;this.wd.setAttribute("width",this.Ab.width+10);this.setValue(this.getValue())};d.xl="default";d.B=function(){w.K.jk(this);Uk.s.B.call(this)};d.jj=function(){};d.getValue=function(){return this.Rd};
d.setValue=function(a){this.v&&w.j.isEnabled()&&this.Rd!=a&&w.j.U(new w.j.hd(this.v,"field",this.name,this.Rd,a));this.Rd=a;this.wd&&(this.wd.style.fill=a)};d.Jb=function(){var a=this.Rd,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};
var Vk="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Xk=
[];Uk.prototype.setColumns=function(a){this.Jr=a;return this};Uk.prototype.ef=function(){Mk();Ik();var a=this.Kj();Ak.appendChild(a);var b=this.cv;Ck.style.backgroundColor=this.bv;Ck.style.borderColor=b;Jk(this);w.kc(a,"mouseup",this,this.Gk)};Uk.prototype.Gk=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;w.K.Ia();this.v&&(a=Xd(this,a));null!==a&&this.setValue(a)};
Uk.prototype.Kj=function(){var a=this.Jr||7,b=this.zw||Vk,c=this.pz||Xk,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var h,k=0;k<b.length;k++){0==k%a&&(h=document.createElement("tr"),f.appendChild(h));var l=document.createElement("td");h.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=c[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}return f};Bh("field_colour",Uk);function K(a,b){"function"!=typeof a&&Yk(a);this.Eh=a;this.Aq=this.Op=null;a=this.Eh;if(Array.isArray(a)){for(var c=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=w.h.nc(f):(null!=f.alt&&(a[e][0].alt=w.h.nc(f.alt)),c=!0)}if(!(c||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=w.h.rq(f);e=w.h.Cw(f,h);c=w.h.Dw(f,h);if((e||c)&&!(h<=e+c)){e&&(this.Op=f[0].substring(0,e-1));c&&(this.Aq=f[0].substr(1-c));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(e,
k.length-c);f[h]=[k,l]}this.Eh=f}}}a=this.getOptions()[0];K.s.constructor.call(this,a[1],b)}v(K,zh);K.la=function(a){return new K(a.options)};K.prototype.gg=!0;var Zk=sc?"\u25bc":"\u25be";d=K.prototype;d.xl="default";d.jc="";d.Ac=null;d.Ve=null;d.I=function(){this.hb||(this.jg=w.h.C("tspan",{},null),this.jg.appendChild(document.createTextNode(this.v.u?Zk+" ":" "+Zk)),K.s.I.call(this))};
d.ef=function(){w.K.show(this,this.v.u,null);var a=new kk;a.Tf(this.v.u);for(var b=this.getOptions(),c=0;c<b.length;c++){var e=b[c][0],f=b[c][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new gk(e);e.Tf(this.v.u);e.setValue(f);e.Ok(!0);a.xj(e,!0);Jj(e,f==this.jc)}$k(this,a);b=w.h.Is();c=Hh(this);this.v.u?c.right+=25:c.left-=25;this.Kj(a);f=w.h.hj.ak(a);e=.45*document.documentElement.clientHeight;f.height>e&&(f.height=e);this.v.u&&w.h.hj.lr(b,c,f);w.K.Nt(b,
c,f,this.v.u);a.J().focus()};function $k(a,b){qi(b,"action",function(c){(c=c.target)&&a.Ct(c);w.K.jk(a);w.j.N(!1)})}d.Kj=function(a){a.ea(w.K.oa);w.h.Va(a.J(),"blocklyDropdownMenu");a.Fl=!0;a.Ug(!0)};d.Ct=function(a){a=a.getValue();this.v&&(a=Xd(this,a));null!==a&&this.setValue(a)};d.getOptions=function(){if("function"==typeof this.Eh){var a=this.Eh.call(this);Yk(a);return a}return this.Eh};d.getValue=function(){return this.jc};
d.setValue=function(a){if(!(null===a||a===this.jc&&this.xa)){this.v&&w.j.isEnabled()&&w.j.U(new w.j.hd(this.v,"field",this.name,this.jc,a));this.jc=a;for(var b=this.getOptions(),c=0;c<b.length;c++)if(b[c][1]==a){a=b[c][0];"object"==typeof a?(this.Ve=a,this.xa=a.alt):(this.Ve=null,this.xa=a);this.Tj();return}this.xa=a;this.Tj()}};
d.Of=function(){if(this.La){this.v&&this.jg&&(this.jg.style.fill=this.v.Rd);for(var a;a=this.za.firstChild;)this.za.removeChild(a);this.Ac&&(w.h.removeNode(this.Ac),this.Ac=null);this.Ve?(this.Ac=w.h.C("image",{y:5,height:this.Ve.height+"px",width:this.Ve.width+"px"},this.hb),this.Ac.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.Ve.src),this.za.appendChild(this.jg),a=Gh(this.jg),this.Ab.height=Number(this.Ve.height)+19,this.Ab.width=Number(this.Ve.width)+a,this.v.u?(this.Ac.setAttribute("x",
a),this.za.setAttribute("x",-1)):(this.za.setAttribute("text-anchor","end"),this.za.setAttribute("x",this.Ab.width+1))):(a=document.createTextNode(Fh(this)),this.za.appendChild(a),this.v.u?this.za.insertBefore(this.jg,this.za.firstChild):this.za.appendChild(this.jg),this.za.setAttribute("text-anchor","start"),this.za.setAttribute("x",0),this.Ab.height=25,this.Ab.width=Gh(this.za));this.wd.setAttribute("height",this.Ab.height-9);this.wd.setAttribute("width",this.Ab.width+10)}else this.Ab.width=0};
d.jj=function(){if(this.Ve&&(x||oc)){var a=Gh(this.jg);a=Number(this.Ve.width)+a+10;this.wd&&this.wd.setAttribute("width",a);this.Ab.width=a}else zh.prototype.jj.call(this)};d.B=function(){w.K.jk(this);K.s.B.call(this)};
function Yk(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,c=0;c<a.length;++c){var e=a[c];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
c+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");}Bh("field_dropdown",K);function zk(a,b,c,e,f,h){this.v=null;this.ua=Number(c);this.ka=Number(b);this.Ab=new Qc(this.ka,this.ua+10);this.nx=h;this.lf="";this.setValue(a);this.zb(e);"function"==typeof f&&(this.Pl=f)}v(zk,zh);zk.la=function(a){var b=w.h.nc(a.src),c=Number(w.h.nc(a.width)),e=Number(w.h.nc(a.height)),f=w.h.nc(a.alt);return new zk(b,c,e,f,null,!!a.flipRtl)};d=zk.prototype;d.dh=!1;
d.I=function(){this.hb||(this.hb=w.h.C("g",{},null),this.La||(this.hb.style.display="none"),this.Ac=w.h.C("image",{height:this.ua+"px",width:this.ka+"px"},this.hb),this.setValue(this.ku),this.zb(this.xa),this.v.Y().appendChild(this.hb),this.lf?this.Ac.ud=this.lf:this.qa(this.v),w.D.hh(this.Ac),this.Pl&&(this.Lm=w.R(this.hb,"mousedown",this,this.Pl)))};d.B=function(){this.hb&&(w.h.removeNode(this.hb),this.hb=null);this.Ac=null};d.qa=function(a){this.lf=a;this.Ac&&(this.Ac.ud=a)};d.getValue=function(){return this.ku};
d.setValue=function(a){null!==a&&(this.ku=a,this.Ac&&this.Ac.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""))};d.zb=function(a){null!==a&&(this.xa=a,this.Ac&&this.Ac.setAttribute("alt",a||""))};d.Of=function(){};d.Tj=function(){};d.jj=function(){};d.ef=function(){this.Pl&&this.Pl(this)};Bh("field_image",zk);function al(a,b,c,e,f){e=parseFloat(e);this.Um=isNaN(e)?0:e;e=this.Um.toString();var h=e.indexOf(".");this.Bs=-1==h?-1:e.length-(h+1);b=parseFloat(b);this.sy=isNaN(b)?-Infinity:b;c=parseFloat(c);this.qy=isNaN(c)?Infinity:c;a=a&&!isNaN(a)?String(a):"0";al.s.constructor.call(this,a,f)}v(al,qk);al.la=function(a){return new al(a.value,a.min,a.max,a.precision)};al.prototype.gg=!0;
al.prototype.Wn=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.sy),this.qy);this.Um&&isFinite(a)&&(a=Math.round(a/this.Um)*this.Um);return-1==this.Bs?String(a):a.toFixed(this.Bs)};Bh("field_number",al);function bl(a,b,c,e){this.Eh=cl;this.Ab=new Qc(0,25);this.bi=b;this.Rw=a||"";a=e||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){b=!1;for(e=0;e<c.length;e++)c[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.Qw=a;this.yz=c;this.jc=null}v(bl,K);bl.la=function(a){var b=w.h.nc(a.variable);return new bl(b,null,a.variableTypes,a.defaultType)};
d=bl.prototype;d.gg=!0;d.I=function(){this.hb||(bl.s.I.call(this),this.zh())};d.zh=function(){if(!this.Ce){this.m=this.v.o;var a=w.G.mm(this.m,null,this.Rw,this.Qw);w.j.disable();try{this.setValue(a.$())}finally{w.j.enable()}}};d.B=function(){bl.s.B.call(this);this.ya=this.m=null};d.pq=function(a){if(a.Oa)throw Error("Variable fields are not allowed to exist on shadow blocks.");bl.s.pq.call(this,a)};d.getValue=function(){return this.Ce?this.Ce.$():null};
d.Jb=function(){return this.Ce?this.Ce.name:""};d.lc=function(){return this.Ce};
d.setValue=function(a){var b=w.G.lc(this.v.o,a);if(!b)throw Error("Variable id doesn't point to a real variable!  ID was "+a);var c=b.type,e;a:if(e=dl(this)){for(var f=0;f<e.length;f++)if(c==e[f]){e=!0;break a}e=!1}else e=!0;if(!e)throw Error("Variable type doesn't match this field!  Type was "+c);this.v&&w.j.isEnabled()&&(c=this.Ce?this.Ce.$():null,w.j.U(new w.j.hd(this.v,"field",this.name,c,a)));this.Ce=b;this.jc=a;this.zb(b.name)};
function dl(a){var b=a.yz;if(null===b&&a.v)return a.v.o.Ro();b=b||[""];if(0==b.length)throw a=a.Jb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function cl(){if(!this.Ce)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Jb(),b=null;this.v&&(b=this.v.o);var c=[];if(b)for(var e=dl(this),f=0;f<e.length;f++)c=c.concat(b.ck(e[f]));c.sort(Eg);b=[];for(f=0;f<c.length;f++)b[f]=[c[f].name,c[f].$()];b.push([w.g.RENAME_VARIABLE,w.cr]);w.g.DELETE_VARIABLE&&b.push([w.g.DELETE_VARIABLE.replace("%1",a),w.Sq]);return b}
d.Ct=function(a){a=a.getValue();if(this.v&&this.v.o){var b=this.v.o;if(a==w.cr){w.G.Zm(b,this.Ce);return}if(a==w.Sq){b.Je(this.Ce.$());return}}this.setValue(a)};d.Lh=function(){return!0};Bh("field_variable",bl);function Mh(){this.yy="JavaScript";this.fv=new RegExp(this.Nd,"g")}d=Mh.prototype;d.zl=null;d.pi=null;d.qf="  ";d.Ru=60;d.Cl=[];function el(){var a=w.i,b=fl;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=w.qg());var c=[];a.I(b);b=be(b,!0);for(var e=0,f;f=b[e];e++){var h=gl(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.M&&(h=a.au(h)),c.push(h))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");return c=c.replace(/[ \t]+\n/g,"\n")}
function hl(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function gl(a,b){if(!b)return"";if(b.disabled)return gl(a,rd(b));var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.yy+'" does not know how to generate  code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.M)throw TypeError("Expecting string from statement block: "+b.type);return[a.Nk(b,c[0],void 0),c[1]]}if("string"==typeof c){var e=b.id.replace(/\$/g,"$$$$");a.pi&&(c=a.pi.replace(/%1/g,"'"+e+"'")+c);return a.Nk(b,c,void 0)}if(null===c)return"";throw SyntaxError("Invalid code generated: "+
c);}
function Q(a,b,c){var e=w.i;if(isNaN(c))throw TypeError("Expecting valid order from block: "+a.type);var f=Th(a,b);if(!f)return"";b=gl(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(c),k=Math.floor(b);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Cl.length;h++)if(e.Cl[h][0]==c&&e.Cl[h][1]==b){f=!1;break}f&&(a="("+
a+")");return a}function il(a,b){var c=w.i;a=Th(a,b);b=gl(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=hl(b,c.qf));return b}function jl(a,b){var c=w.i;b=b.replace(/\$/g,"$$$$");c.zl&&(a=c.zl.replace(/%1/g,"'"+b+"'")+a);c.pi&&(a+=hl(c.pi.replace(/%1/g,"'"+b+"'"),c.qf));return a}d.Fn="";function kl(a){var b=w.i;b.Fn+=a+","}d.Nd="{leCUI8hutHZI4480Dc}";
function ll(a,b){var c=w.i;if(!c.mg[a]){var e=ml(c.Sa,a,w.pa.Ta);c.Ho[a]=e;b=b.join("\n").replace(c.fv,e);for(var f;f!=b;)f=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,c.qf);c.mg[a]=b}return c.Ho[a]}d.I=function(){};d.Nk=function(a,b){return b};d.finish=function(a){return a};d.au=function(a){return a};function nl(){var a=w.i.Fn;this.Eu="";this.Yt=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.Yt[a[b]]=!0}this.reset()}nl.prototype.reset=function(){this.Sd=Object.create(null);this.gs=Object.create(null);this.ya=null};
nl.prototype.getName=function(a,b){if(b==w.G.Ta){var c=a;this.ya?c=(c=this.ya.qe(c))?c.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),c=null);c&&(a=c)}c=a.toLowerCase()+"_"+b;var e=b==w.G.Ta||"DEVELOPER_VARIABLE"==b?this.Eu:"";if(c in this.Sd)return e+this.Sd[c];a=ml(this,a,b);this.Sd[c]=
a.substr(e.length);return a};function ml(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b="unnamed";for(var e="";a.gs[b+e]||b+e in a.Yt;)e=e?e+1:2;b+=e;a.gs[b]=!0;return(c==w.G.Ta||"DEVELOPER_VARIABLE"==c?a.Eu:"")+b}function Ud(a,b){return a.toLowerCase()==b.toLowerCase()};w.pa={};w.pa.Ta=w.$q;w.pa.aw=function(a){a=B(a,!1);for(var b=[],c=[],e=0;e<a.length;e++)if(a[e].Hf){var f=a[e].Hf();f&&(f[2]?b.push(f):c.push(f))}c.sort(w.pa.St);b.sort(w.pa.St);return[c,b]};w.pa.St=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};w.pa.lx=function(a,b){if(b.xb)return a;for(;!w.pa.$x(a,b.o,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a};w.pa.$x=function(a,b,c){return!w.pa.by(a,b,c)};
w.pa.by=function(a,b,c){b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=c&&b[e].Hf){var f=b[e].Hf();if(Ud(f[0],a))return!0}return!1};w.pa.Ym=function(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b=w.pa.lx(a,this.v),c=this.xa;if(c!=a&&c!=b){a=B(this.v.o,!1);for(var e=0;e<a.length;e++)a[e].Lk&&a[e].Lk(c,b)}return b};
w.pa.og=function(a){function b(h,k){for(var l=0;l<h.length;l++){var m=h[l][0],n=h[l][1],p=w.w.h.createElement("block");p.setAttribute("type",k);p.setAttribute("gap",16);var t=w.w.h.createElement("mutation");t.setAttribute("name",m);p.appendChild(t);for(m=0;m<n.length;m++){var r=w.w.h.createElement("arg");r.setAttribute("name",n[m]);t.appendChild(r)}c.push(p)}}var c=[];if(w.F.procedures_defnoreturn){var e=w.w.h.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=w.w.h.createElement("field");f.setAttribute("name","NAME");f.appendChild(w.w.h.createTextNode(w.g.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);c.push(e)}w.F.procedures_defreturn&&(e=w.w.h.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=w.w.h.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(w.w.h.createTextNode(w.g.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),c.push(e));w.F.procedures_ifreturn&&(e=w.w.h.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),c.push(e));c.length&&c[c.length-1].setAttribute("gap",24);a=w.pa.aw(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return c};w.pa.qx=function(a,b){var c=[];b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e].Ad){var f=b[e].Ad();f&&Ud(f,a)&&c.push(b[e])}return c};
w.pa.Fk=function(a){var b=w.j.dc,c=a.Hf()[0],e=a.Da(!0);a=w.pa.qx(c,a.o);c=0;for(var f;f=a[c];c++){var h=f.Da();h=h&&w.w.Rc(h);f.Ya(e);var k=f.Da();k=k&&w.w.Rc(k);h!=k&&(w.j.dc=!1,w.j.U(new w.j.hd(f,"mutation",null,h,k)),w.j.dc=b)}};w.pa.Xj=function(a,b){b=be(b,!1);for(var c=0;c<b.length;c++)if(b[c].Hf){var e=b[c].Hf();if(e&&Ud(e[0],a))return b[c]}return null};function ol(a,b,c,e){this.m=a;this.va=b;this.xa=c.getAttribute("text");this.Ec=new A(0,0);this.Cg=e;this.Kl=c.getAttribute("callbackKey");this.Sr=c.getAttribute("web-class")||null}d=ol.prototype;d.width=0;d.height=0;d.Jh=null;
d.Z=function(){var a=this.Cg?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.Sr&&(a+=" "+this.Sr);this.A=w.h.C("g",{"class":a},this.m.Ra);if(!this.Cg)var b=w.h.C("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.A);a=w.h.C("rect",{"class":this.Cg?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.A);var c=w.h.C("text",{"class":this.Cg?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.A);c.textContent=w.h.nc(this.xa);this.width=
Gh(c);this.height=20;this.Cg||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height-5);pl(this);this.Jh=w.R(this.A,"mouseup",this,this.Ry);return this.A};d.show=function(){pl(this);this.A.setAttribute("display","block")};function pl(a){a.A.setAttribute("transform","translate("+a.Ec.x+","+a.Ec.y+")")}
d.moveTo=function(a,b){this.Ec.x=a;this.Ec.y=b;pl(this)};d.Hs=function(){return this.Ec};d.B=function(){this.Jh&&w.Ea(this.Jh);this.A&&(w.h.removeNode(this.A),this.A=null);this.va=this.m=null};d.Ry=function(a){(a=this.va.Re(a))&&a.cancel();this.Cg&&this.Kl?console.warn("Labels should not have callbacks. Label text: "+this.xa):this.Cg||this.Kl&&hh(this.va,this.Kl)?this.Cg||hh(this.va,this.Kl)(this):console.warn("Buttons should have callbacks. Button text: "+this.xa)};function ql(a){a.qb=this.Gf.bind(this);a.Sf=this.hn.bind(this);this.m=new Rg(a);this.m.fe=!0;this.u=!!a.u;this.ed=a.na;this.Ao=[];this.Jm=[];this.Bj=[];this.Zc=[];this.Mp=[]}d=ql.prototype;d.ti=!0;d.Fg=!1;d.ih=!0;d.ta=8;d.Od=ql.prototype.ta;d.iv=3*ql.prototype.Od;d.jv=3*ql.prototype.Od;d.fh=2;d.ka=0;d.ua=0;d.us=70;d.Z=function(a){this.A=w.h.C(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Gd=w.h.C("path",{"class":"blocklyFlyoutBackground"},this.A);this.A.appendChild(this.m.Z());return this.A};
d.I=function(a){this.va=a;this.m.Zh=a;this.fc=new gg(this.m,this.Ue,!1,"blocklyFlyoutScrollbar");this.Ia();Array.prototype.push.apply(this.Ao,w.R(this.A,"wheel",this,this.Ku));this.ti||(this.bm=this.Co.bind(this),this.va.Nc(this.bm));Array.prototype.push.apply(this.Ao,w.R(this.Gd,"mousedown",this,this.Jg));this.m.Re=this.va.Re.bind(this.va);this.m.ya=this.va.ya;a=this.m;a.Yi=new Rd(a)};
d.B=function(){this.Ia();w.Ea(this.Ao);this.bm&&(this.va.Ng(this.bm),this.bm=null);this.fc&&(this.fc.B(),this.fc=null);this.m&&(this.m.Zh=null,this.m.B(),this.m=null);this.A&&(w.h.removeNode(this.A),this.A=null);this.va=this.Gd=null};d.zc=function(){return this.ka};d.Fi=function(){return this.ua};d.sm=function(){return this.m};d.isVisible=function(){return this.Fg};d.sa=function(a){var b=a!=this.isVisible();this.Fg=a;b&&this.il()};d.Oh=function(a){var b=a!=this.ih;this.ih=a;b&&this.il()};
d.il=function(){var a=this.ih?this.isVisible():!1;this.A.style.display=a?"block":"none";this.fc.Oh(a)};function rl(a,b,c,e,f){a.A.setAttribute("width",b);a.A.setAttribute("height",c);"svg"==a.A.tagName?w.h.Pk(a.A,"translate("+e+"px,"+f+"px)"):a.A.setAttribute("transform","translate("+e+","+f+")");a.fc&&(a.fc.Ip=new A(e,f),a.fc.resize(),mg(a.fc,a.fc.Ec.x,a.fc.Ec.y))}
d.Ia=function(){if(this.isVisible()){this.sa(!1);for(var a=0,b;b=this.Zc[a];a++)w.Ea(b);this.Zc.length=0;this.Lg&&(this.m.Ng(this.Lg),this.Lg=null)}};
d.show=function(a){this.m.hc(!1);this.Ia();sl(this);if("string"==typeof a){a=this.m.Zh.Cq[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.m.Zh);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.sa(!0);var b=[],c=[];this.Mp.length=0;for(var e=this.Ue?this.iv:this.jv,f=0,h;h=a[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "BLOCK":var k=w.w.Ai(h,this.m);k.disabled&&
this.Mp.push(k);b.push({type:"block",block:k});h=parseInt(h.getAttribute("gap"),10);c.push(isNaN(h)?e:h);break;case "SEP":h=parseInt(h.getAttribute("gap"),10);!isNaN(h)&&0<c.length?c[c.length-1]=h:c.push(e);break;case "LABEL":var l=!0;case "BUTTON":h=new ol(this.m,this.va,h,l),b.push({type:"button",button:h}),c.push(e)}this.ct(b,c);this.Zc.push(w.R(this.Gd,"mouseover",this,function(){for(var m=be(this.m,!1),n=0,p;p=m[n];n++)p.Mh()}));this.Ue?this.ua=0:this.ka=0;this.m.hc(!0);this.Wp();this.Co();this.position();
this.Lg=this.Wp.bind(this);this.m.Nc(this.Lg)};function sl(a){for(var b=be(a.m,!1),c=0,e;e=b[c];c++)e.o==a.m&&e.B(!1,!1);for(c=0;c<a.Jm.length;c++)(b=a.Jm[c])&&w.h.removeNode(b);for(c=a.Jm.length=0;b=a.Bj[c];c++)b.B();a.Bj.length=0;a.m.Yi.clear()}
function tl(a,b,c,e){a.Zc.push(w.R(b,"mousedown",null,ul(a,c)));a.Zc.push(w.R(e,"mousedown",null,ul(a,c)));a.Zc.push(w.kc(b,"mouseover",c,c.si));a.Zc.push(w.kc(b,"mouseout",c,c.Mh));a.Zc.push(w.kc(e,"mouseover",c,c.si));a.Zc.push(w.kc(e,"mouseout",c,c.Mh))}function ul(a,b){return function(c){var e=a.va.Re(c);e&&(Zf(e,b),Yf(e,c,a))}}d.Jg=function(a){var b=this.va.Re(a);b&&Yf(b,a,this)};d.Ys=function(a){return!a.disabled};
function Sf(a,b){var c=null;w.j.disable();var e=a.va.Qe();a.va.hc(!1);try{var f=a.va;if(!b.Y())throw Error("oldBlock is not rendered.");var h=w.w.lg(b);f.hc(!1);var k=w.w.Ai(h,f);if(!k.Y())throw Error("block is not rendered.");var l=w.h.jm(f.Ra),m=w.h.jm(a.m.Ra),n=b.wa().scale(a.m.scale),p=Oc(Pc(m,n),l).scale(1/f.scale);k.moveBy(p.x,p.y);c=k;w.$b()}finally{w.j.enable()}b=w.G.Fs(a.va,e);if(w.j.isEnabled())for(w.j.N(!0),w.j.U(new Bd(c)),e=0;e<b.length;e++)w.j.U(new Fd(b[e]));a.ti?a.Ia():a.Co();return c}
function vl(a,b,c,e){var f=b.Z();b.moveTo(c,e);b.show();a.Zc.push(w.R(f,"mousedown",a,a.Jg));a.Bj.push(b)}function wl(a,b,c,e,f,h){c=w.h.C("rect",{"fill-opacity":0,x:c,y:e,height:f.height,width:f.width},null);c.ud=b;w.D.hh(c);a.m.Ra.insertBefore(c,b.Y());b.cm=c;return a.Jm[h]=c}function xl(a,b,c){var e=c.Yb();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=c.yq?15:0;f&&c.moveBy(0,f);f=c.M?F:0;c=c.wa();b.setAttribute("y",c.y);b.setAttribute("x",a.u?c.x-e.width+f:c.x-f)}
d.Co=function(){for(var a=be(this.m,!1),b=0,c;c=a[b];b++)if(-1==this.Mp.indexOf(c))for(var e=!ue(this.va,w.h.Jo(c));c;)c.rd(e),c=rd(c)};d.Wp=function(){this.Lg&&this.m.Ng(this.Lg);this.Wt();this.Lg&&this.m.Nc(this.Lg)};function Qf(a){return a.fc?a.fc.isVisible():!1};function Ag(a){a.qb=this.Gf.bind(this);a.Sf=this.hn.bind(this);Ag.s.constructor.call(this,a);this.Ue=!0}v(Ag,ql);d=Ag.prototype;d.Gf=function(){if(!this.isVisible())return null;try{var a=this.m.Ra.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.fh,c=this.fh;this.ed==w.hg&&(b=0);var e=this.ua;this.ed==w.Mc&&(e-=this.fh);return{Fa:e,Ba:this.ka-2*this.fh,Oc:(a.height+2*this.Od)*this.m.scale,ld:(a.width+2*this.Od)*this.m.scale,Cb:-this.m.scrollY,pb:-this.m.scrollX,Fb:0,Sb:0,tb:b,sb:c}};
d.hn=function(a){var b=this.Gf();b&&("number"==typeof a.x&&(this.m.scrollX=-b.ld*a.x),this.m.translate(this.m.scrollX+b.sb,this.m.scrollY+b.tb))};d.position=function(){if(this.isVisible()){var a=this.va.qb();a&&(this.ka=a.Ba,this.hq(a.Ba-2*this.ta,this.ua-this.ta),rl(this,this.ka,this.ua,0,this.va.na==this.ed?a.yu?this.ed==w.Mc?a.yu:a.Fa-this.ua:this.ed==w.Mc?0:a.Fa:this.ed==w.Mc?0:a.Fa+a.tb-this.ua))}};
d.hq=function(a,b){var c=this.ed==w.Mc,e=["M 0,"+(c?0:this.ta)];c?(e.push("h",a+2*this.ta),e.push("v",b),e.push("a",this.ta,this.ta,0,0,1,-this.ta,this.ta),e.push("h",-1*a),e.push("a",this.ta,this.ta,0,0,1,-this.ta,-this.ta)):(e.push("a",this.ta,this.ta,0,0,1,this.ta,-this.ta),e.push("h",a),e.push("a",this.ta,this.ta,0,0,1,this.ta,this.ta),e.push("v",b),e.push("h",-a-2*this.ta));e.push("z");this.Gd.setAttribute("d",e.join(" "))};d.eq=function(){this.fc.set(this.u?Infinity:0)};
d.Ku=function(a){var b=w.h.Po(a),c=b.x||b.y;c&&(b=this.Gf(),c=b.pb+c,c=Math.min(c,b.ld-b.Ba),c=Math.max(c,0),this.fc.set(c),w.K.Ia());a.preventDefault();a.stopPropagation()};
d.ct=function(a,b){this.m.scale=this.va.scale;var c=this.Od,e=this.u?c:c+F;this.u&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=qd(h,!1),l=0,m;m=k[l];l++)m.xb=!0;h.ea();k=h.Y();l=h.Yb();m=h.M?F:0;m=this.u?e+l.width:e+m;h.moveBy(m,c);m=wl(this,h,m,c,l,f);e+=l.width+b[f];tl(this,k,h,m)}else"button"==h.type&&(vl(this,h.button,e,c),e+=h.button.width+b[f])};d.Zs=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.us;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
d.Di=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.top;a=a.height;if(this.ed==w.Mc)return new yg(-1E9,b-1E9,2E9,1E9+a);if(this.ed==w.hg)return new yg(-1E9,b,2E9,1E9+a)};d.Wt=function(){this.m.scale=this.va.scale;for(var a=0,b=be(this.m,!1),c=0,e;e=b[c];c++)a=Math.max(a,e.Yb().height);a+=1.5*this.Od;a*=this.m.scale;a+=G;if(this.ua!=a){for(c=0;e=b[c];c++)e.cm&&xl(this,e.cm,e);this.ua=a;this.position()}};function Bg(a){a.qb=this.Gf.bind(this);a.Sf=this.hn.bind(this);Bg.s.constructor.call(this,a);this.Ue=!1}v(Bg,ql);d=Bg.prototype;d.Gf=function(){if(!this.isVisible())return null;try{var a=this.m.Ra.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.fh,c=this.ua-2*this.fh,e=this.ka;this.u||(e-=this.fh);return{Fa:c,Ba:e,Oc:a.height*this.m.scale+2*this.Od,ld:a.width*this.m.scale+2*this.Od,Cb:-this.m.scrollY+a.y,pb:-this.m.scrollX,Fb:a.y,Sb:a.x,tb:b,sb:0}};
d.hn=function(a){var b=this.Gf();b&&("number"==typeof a.y&&(this.m.scrollY=-b.Oc*a.y),this.m.translate(this.m.scrollX+b.sb,this.m.scrollY+b.tb))};d.position=function(){if(this.isVisible()){var a=this.va.qb();a&&(this.ua=a.Fa,this.hq(this.ka-this.ta,a.Fa-2*this.ta),rl(this,this.ka,this.ua,this.va.na==this.ed?a.zu?this.ed==w.jd?a.zu:a.Ba-this.ka:this.ed==w.jd?0:a.Ba:this.ed==w.jd?0:a.Ba+a.sb-this.ka,0))}};
d.hq=function(a,b){var c=this.ed==w.Ee,e=a+this.ta;e=["M "+(c?e:0)+",0"];e.push("h",c?-a:a);e.push("a",this.ta,this.ta,0,0,c?0:1,c?-this.ta:this.ta,this.ta);e.push("v",Math.max(0,b));e.push("a",this.ta,this.ta,0,0,c?0:1,c?this.ta:-this.ta,this.ta);e.push("h",c?a:-a);e.push("z");this.Gd.setAttribute("d",e.join(" "))};d.eq=function(){this.fc.set(0)};
d.Ku=function(a){var b=w.h.Po(a);if(b.y){var c=this.Gf();b=c.Cb-c.Fb+b.y;b=Math.min(b,c.Oc-c.Fa);b=Math.max(b,0);this.fc.set(b);w.K.Ia()}a.preventDefault();a.stopPropagation()};
d.ct=function(a,b){this.m.scale=this.va.scale;for(var c=this.Od,e=this.u?c:c+F,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=qd(h,!1),l=0,m;m=k[l];l++)m.xb=!0;h.ea();k=h.Y();l=h.Yb();h.moveBy(e,c);m=wl(this,h,this.u?e-l.width:e,c,l,f);tl(this,k,h,m);c+=l.height+b[f]}else"button"==h.type&&(vl(this,h.button,e,c),c+=h.button.height+b[f])};d.Zs=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.us;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
d.Di=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.left;a=a.width;if(this.ed==w.jd)return new yg(b-1E9,-1E9,1E9+a,2E9);if(pc&&this.va&&this.va.Ni){var c=this.va.A.getBoundingClientRect().x;10>Math.abs(c-b)&&(b+=this.zA*this.va.options.Mb.scale)}return new yg(b,-1E9,1E9+a,2E9)};
d.Wt=function(){this.m.scale=this.va.scale;for(var a=0,b=be(this.m,!1),c=0,e;e=b[c];c++){var f=e.Yb().width;e.M&&(f-=F);a=Math.max(a,f)}for(c=0;e=this.Bj[c];c++)a=Math.max(a,e.width);a+=1.5*this.Od+F;a*=this.m.scale;a+=G;if(this.ka!=a){for(c=0;e=b[c];c++)this.u&&(f=e.wa().x,e.moveBy(a/this.m.scale-this.Od-F-f,0)),e.cm&&xl(this,e.cm,e);if(this.u)for(c=0;e=this.Bj[c];c++)b=e.Hs().y,e.moveTo(a/this.m.scale-e.width-this.Od-F,b);this.ka=a;this.position()}};function yl(a){Gi.call(this);this.W=a;a=x?"focusout":"blur";this.iy=qi(this.W,x?"focusin":"focus",this,!x);this.jy=qi(this.W,a,this,!x)}v(yl,Gi);yl.prototype.handleEvent=function(a){var b=new bi(a.Ne);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};yl.prototype.wb=function(){yl.s.wb.call(this);zi(this.iy);zi(this.jy);delete this.W};function zl(a,b){null!=a&&this.append.apply(this,arguments)}d=zl.prototype;d.Rb="";d.set=function(a){this.Rb=""+a};d.append=function(a,b,c){this.Rb+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.Rb+=arguments[e];return this};d.clear=function(){this.Rb=""};d.toString=function(){return this.Rb};function Al(a,b,c){Ji.call(this,c);this.fb=b||Bl;a instanceof Qb||(a=Tb(a),a=Ub(Sb(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.qh()));this.lk=a;this.Qj=this.fq=!1;this.sz=null;this.Yv=ac;this.tk=!0;this.Xl=-1}v(Al,Ji);var Cl={};d=Al.prototype;d.wb=function(){Al.s.wb.call(this);this.Xg&&(this.Xg.removeNode(this),this.Xg=null);this.W=null};
d.xm=function(){var a=this.J();if(a){var b=Dl(this);b&&!b.id&&(b.id=this.$()+".label");Vi(a,"treeitem");Wi(a,"selected",!1);Wi(a,"level",this.Ei());b&&Wi(a,"labelledby",b.id);(b=this.im())&&Vi(b,"presentation");(b=this.hm())&&Vi(b,"presentation");if(b=El(this))if(Vi(b,"group"),b.hasChildNodes())for(Wi(a,"expanded",!1),a=Qi(this),b=1;b<=a;b++){var c=O(this,b-1).J();Wi(c,"setsize",a);Wi(c,"posinset",b)}}};
d.Z=function(){var a=this.ae();var b=this.qn(),c=a.Ud;a=c.createElement("DIV");x?(b=Zb(bc,b),dc(a,b),a.removeChild(a.firstChild)):dc(a,b);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.W=a};d.Hb=function(){Al.s.Hb.call(this);Cl[this.$()]=this;this.xm()};d.Xd=function(){Al.s.Xd.call(this);delete Cl[this.$()]};
d.ri=function(a,b){var c=O(this,b-1),e=O(this,b);Al.s.ri.call(this,a,b);a.xe=c;a.ve=e;c?c.ve=a:this.As=a;e?e.xe=a:this.at=a;(b=this.Vc())&&Fl(a,b);Gl(a,this.Ei()+1);if(b=this.J())if(this.ij(),Wi(b,"expanded",this.Tc()),this.Tc()){b=El(this);a.J()||a.Z();var f=a.J(),h=e&&e.J();b.insertBefore(f,h);this.Ca&&a.Hb();e||(c?c.ij():(uh(b,!0),this.ye(this.Tc())))}};d.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.ri(a,b?Ti(this,b):Qi(this));return a};
d.removeChild=function(a){var b=this.Vc(),c=b?b.Gc:null;if(c==a||a.contains(c))if(b.hasFocus()){this.select();c=this.Ty;if(ua(c))this&&(c=Ba(c,this));else if(c&&"function"==typeof c.handleEvent)c=Ba(c.handleEvent,c);else throw Error("Invalid listener argument");2147483647<Number(10)||g.setTimeout(c,10)}else this.select();Al.s.removeChild.call(this,a);this.at==a&&(this.at=a.xe);this.As==a&&(this.As=a.ve);a.xe&&(a.xe.ve=a.ve);a.ve&&(a.ve.xe=a.xe);c=!a.ve;a.Xg=null;a.Xl=-1;if(b&&(b.removeNode(a),this.Ca)){b=
El(this);if(a.Ca){var e=a.J();b.removeChild(e);a.Xd()}c&&(c=O(this,Qi(this)-1))&&c.ij();Si(this)||(b.style.display="none",this.ij(),this.im().className=this.em(),(b=this.J())&&b.removeAttribute("aria-expanded"))}return a};d.remove=Al.prototype.removeChild;d.Ty=function(){this.select()};d.Ei=function(){var a=this.Xl;0>a&&(a=(a=this.getParent())?a.Ei()+1:0,Gl(this,a));return a};
function Gl(a,b){if(b!=a.Xl){a.Xl=b;var c=Hl(a);if(c){var e=Il(a)+"px";Ri(a)?c.style.paddingRight=e:c.style.paddingLeft=e}Pi(a,function(f){Gl(f,b+1)})}}d.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};d.Ff=function(){var a=[];Pi(this,function(b){a.push(b)});return a};d.rk=function(){return this.fq};d.select=function(){var a=this.Vc();a&&a.Uf(this)};
function Jl(a,b){if(a.fq!=b){a.fq=b;Kl(a);var c=a.J();c&&(Wi(c,"selected",b),b&&(b=a.Vc().J(),Wi(b,"activedescendant",a.$())))}}d.Tc=function(){return this.Qj};
d.ye=function(a){var b=a!=this.Qj;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.Qj=a;var c=this.Vc();var e=this.J();if(Si(this)){if(!a&&c&&this.contains(c.Gc)&&this.select(),e){if(c=El(this))if(uh(c,a),Wi(e,"expanded",a),a&&this.Ca&&!c.hasChildNodes()){var f=[];Pi(this,function(h){f.push(h.qn())});ec(c,Zb(f));Pi(this,function(h){h.Hb()})}this.ij()}}else(c=El(this))&&uh(c,!1);e&&(this.im().className=this.em());b&&this.dispatchEvent(a?"expand":"collapse")}};d.toggle=function(){this.ye(!this.Tc())};
d.expand=function(){this.ye(!0)};d.collapse=function(){this.ye(!1)};d.cq=function(){var a=this.getParent();a&&(a.ye(!0),a.cq())};d.qn=function(){var a=this.Vc(),b=!a.Sk||a==this.getParent()&&!a.vq?this.fb.Rr:this.fb.Qr;a=this.Tc()&&Si(this);b={"class":b,style:Ll(this)};var c=[];a&&Pi(this,function(e){c.push(e.qn())});a=Yb("div",b,c);return Yb("div",{"class":this.fb.$r,id:this.$()},[Ml(this),a])};function Il(a){return Math.max(0,(a.Ei()-1)*a.fb.bp)}
function Ml(a){var b={};b["padding-"+(Ri(a)?"right":"left")]=Il(a)+"px";b={"class":a.$j(),style:b};var c=a.No(),e=Yb("span",{style:{display:"inline-block"},"class":a.em()}),f=Yb("span",{"class":a.fb.bs,title:a.sz||null},a.lk);a=Zb(f,Yb("span",{},a.Yv));return Yb("div",b,[c,e,a])}d.$j=function(){return this.fb.jo+(this.rk()?" "+this.fb.fs:"")};d.No=function(){return Yb("span",{type:"expand",style:{display:"inline-block"},"class":Nl(this)})};
function Nl(a){var b=a.Vc(),c=!b.Sk||b==a.getParent()&&!b.vq,e=a.fb,f=new zl;f.append(e.jh," ",e.Jw," ");if(Si(a)){var h=0;b.uq&&a.tk&&(h=a.Tc()?2:1);c||(h=a.ve?h+8:h+4);switch(h){case 1:f.append(e.Nw);break;case 2:f.append(e.Mw);break;case 4:f.append(e.Wr);break;case 5:f.append(e.Lw);break;case 6:f.append(e.Kw);break;case 8:f.append(e.Xr);break;case 9:f.append(e.Pw);break;case 10:f.append(e.Ow);break;default:f.append(e.Vr)}}else c?f.append(e.Vr):a.ve?f.append(e.Xr):f.append(e.Wr);return f.toString()}
function Ll(a){var b=a.Tc()&&Si(a);return Hb({"background-position":Ol(a),display:b?null:"none"})}function Ol(a){return(a.ve?(a.Ei()-1)*a.fb.bp:"-100")+"px 0"}d.J=function(){var a=Al.s.J.call(this);a||(this.W=a=this.ae().J(this.$()));return a};function Hl(a){return(a=a.J())?a.firstChild:null}d.hm=function(){var a=Hl(this);return a?a.firstChild:null};d.im=function(){var a=Hl(this);return a?a.childNodes[1]:null};function Dl(a){return(a=Hl(a))&&a.lastChild?a.lastChild.previousSibling:null}
function El(a){return(a=a.J())?a.lastChild:null}d.zb=function(a){this.lk=a=Tb(a);var b=Dl(this);b&&dc(b,a);(a=this.Vc())&&Pl(a,this)};d.Jb=function(){var a=Sb(this.lk).toString();return-1!=a.indexOf("&")?"document"in g?hc(a):jc(a):a};function Kl(a){var b=Hl(a);b&&(b.className=a.$j())}d.ij=function(){var a=this.hm();a&&(a.className=Nl(this));if(a=El(this))a.style.backgroundPosition=Ol(this)};d.Dt=function(a){"expand"==a.target.getAttribute("type")&&Si(this)?this.tk&&this.toggle():(this.select(),Kl(this))};
d.Gk=function(a){a.preventDefault()};d.At=function(a){"expand"==a.target.getAttribute("type")&&Si(this)||this.tk&&this.toggle()};
d.Fp=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;Si(this)&&(this.Tc()?O(this,0).select():this.ye(!0));break;case 37:if(a.altKey)break;if(Si(this)&&this.Tc()&&this.tk)this.ye(!1);else{var c=this.getParent(),e=this.Vc();c&&(e.Rh||c!=e)&&c.select()}break;case 40:a:if(Si(this)&&this.Tc())c=O(this,0);else{for(c=this;c!=this.Vc();){e=c.ve;if(null!=e){c=e;break a}c=c.getParent()}c=null}c&&c.select();break;case 38:c=this.xe;null!=c?c=Ql(c):(c=this.getParent(),e=this.Vc(),c=!e.Rh&&c==
e||this==e?null:c);c&&c.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.Vc())&&e.fl.clear());return b};function Ql(a){return a.Tc()&&Si(a)?Ql(O(a,Qi(a)-1)):a}function Fl(a,b){a.Xg!=b&&(a.Xg=b,Pl(b,a),Pi(a,function(c){Fl(c,b)}))}
var Bl={bp:19,ds:"goog-tree-root goog-tree-item",Zr:"goog-tree-hide-root",$r:"goog-tree-item",Qr:"goog-tree-children",Rr:"goog-tree-children-nolines",jo:"goog-tree-row",bs:"goog-tree-item-label",jh:"goog-tree-icon",Jw:"goog-tree-expand-icon",Nw:"goog-tree-expand-icon-plus",Mw:"goog-tree-expand-icon-minus",Pw:"goog-tree-expand-icon-tplus",Ow:"goog-tree-expand-icon-tminus",Lw:"goog-tree-expand-icon-lplus",Kw:"goog-tree-expand-icon-lminus",Xr:"goog-tree-expand-icon-t",Wr:"goog-tree-expand-icon-l",Vr:"goog-tree-expand-icon-blank",
ho:"goog-tree-expanded-folder-icon",Tr:"goog-tree-collapsed-folder-icon",io:"goog-tree-file-icon",Yr:"goog-tree-expanded-folder-icon",Ur:"goog-tree-collapsed-folder-icon",fs:"selected"};function Rl(a,b,c){Al.call(this,a,b,c)}v(Rl,Al);Rl.prototype.Vc=function(){if(this.Xg)return this.Xg;var a=this.getParent();return a&&(a=a.Vc())?(Fl(this,a),a):null};Rl.prototype.em=function(){var a=this.Tc(),b=this.hx;if(a&&b)return b;b=this.Ux;if(!a&&b)return b;b=this.fb;if(Si(this)){if(a&&b.ho)return b.jh+" "+b.ho;if(!a&&b.Tr)return b.jh+" "+b.Tr}else if(b.io)return b.jh+" "+b.io;return""};function Sl(a){if(a.bk&&"function"==typeof a.bk)return a.bk();if(u(a))return a.split("");if(ta(a)){for(var b=[],c=a.length,e=0;e<c;e++)b.push(a[e]);return b}b=[];c=0;for(e in a)b[c++]=a[e];return b};function Tl(a){this.jc=void 0;this.wc={};if(a){if(a.lm&&"function"==typeof a.lm)var b=a.lm();else if(a.bk&&"function"==typeof a.bk)b=void 0;else if(ta(a)||u(a)){b=[];for(var c=a.length,e=0;e<c;e++)b.push(e)}else for(e in b=[],c=0,a)b[c++]=e;a=Sl(a);for(c=0;c<b.length;c++)this.set(b[c],a[c])}}d=Tl.prototype;d.set=function(a,b){Ul(this,a,b,!1)};d.add=function(a,b){Ul(this,a,b,!0)};
function Ul(a,b,c,e){for(var f=0;f<b.length;f++){var h=b.charAt(f);a.wc[h]||(a.wc[h]=new Tl);a=a.wc[h]}if(e&&void 0!==a.jc)throw Error('The collection already contains the key "'+b+'"');a.jc=c}d.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.wc[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.jc:void 0};d.bk=function(){var a=[];Vl(this,a);return a};function Vl(a,b){void 0!==a.jc&&b.push(a.jc);for(var c in a.wc)Vl(a.wc[c],b)}
d.lm=function(a){var b=[];if(a){for(var c=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!c.wc[f])return[];c=c.wc[f]}Wl(c,a,b)}else Wl(this,"",b);return b};function Wl(a,b,c){void 0!==a.jc&&c.push(b);for(var e in a.wc)Wl(a.wc[e],b+e,c)}d.clear=function(){this.wc={};this.jc=void 0};
d.remove=function(a){for(var b=this,c=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.wc[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.wc[f]}a=b.jc;for(delete b.jc;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],b.wc[f].$s())delete b.wc[f];else break;return a};d.clone=function(){return new Tl(this)};d.$s=function(){var a;if(a=void 0===this.jc)a:{for(var b in this.wc){a=!1;break a}a=!0}return a};function Xl(){this.Ih=new Tl;this.Rb="";this.Im=this.sp=null;this.Si=this.Ak=0}function Yl(a,b){var c=b.Jb();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){c=c.toLowerCase();var e=a.Ih.get(c);if(e){for(var f=Qi(b),h=0;h<f;h++)Yl(a,O(b,h));Oa(e,b);e.length||a.Ih.remove(c)}}}function Zl(a,b){var c=!1;(b=a.Ih.lm(b))&&b.length&&(a.Si=0,a.Ak=0,c=a.Ih.get(b[0]),c=$l(a,c))&&(a.sp=b);return c}function $l(a,b){if(b){if(a.Si<b.length){var c=b[a.Si];a.Im=b}c&&(c.cq(),c.select())}return!!c}
Xl.prototype.clear=function(){this.Rb=""};function am(a,b,c){Al.call(this,a,b,c);this.Qj=!0;Jl(this,!0);this.Gc=this;this.fl=new Xl;this.Fo=this.Cc=null;this.Sj=!1;this.ox=null;this.vq=this.Rh=this.uq=this.Sk=!0;if(x)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}v(am,Al);d=am.prototype;d.Vc=function(){return this};d.Ei=function(){return 0};d.cq=function(){};d.Bx=function(){this.Sj=!0;kj(this.J(),"focused");this.Gc&&this.Gc.select()};d.wx=function(){this.Sj=!1;mj(this.J(),"focused")};d.hasFocus=function(){return this.Sj};
d.Tc=function(){return!this.Rh||am.s.Tc.call(this)};d.ye=function(a){this.Rh?am.s.ye.call(this,a):this.Qj=a};d.No=function(){return ac};d.im=function(){var a=Hl(this);return a?a.firstChild:null};d.hm=function(){return null};d.ij=function(){};d.$j=function(){return am.s.$j.call(this)+(this.Rh?"":" "+this.fb.Zr)};d.em=function(){var a=this.Tc(),b=this.hx;if(a&&b)return b;b=this.Ux;if(!a&&b)return b;b=this.fb;return a&&b.Yr?b.jh+" "+b.Yr:!a&&b.Ur?b.jh+" "+b.Ur:""};
d.Uf=function(a){if(this.Gc!=a){var b=!1;this.Gc&&(b=this.Gc==this.ox,Jl(this.Gc,!1));if(this.Gc=a)Jl(a,!0),b&&a.select();this.dispatchEvent("change")}};function bm(a){0!=a.Sk&&(a.Sk=!1,a.Ca&&cm(a))}function cm(a){function b(h){var k=El(h);if(k){var l=!e||c==h.getParent()&&!f?h.fb.Rr:h.fb.Qr;k.className=l;if(k=h.hm())k.className=Nl(h)}Pi(h,b)}var c=a,e=c.Sk,f=c.vq;b(a)}function dm(a){0!=a.uq&&(a.uq=!1,a.Ca&&cm(a))}
function em(a){if(0!=a.Rh){a.Rh=!1;if(a.Ca){var b=Hl(a);b&&(b.className=a.$j())}a.Gc==a&&O(a,0)&&a.Uf(O(a,0))}}d.xm=function(){am.s.xm.call(this);var a=this.J();Vi(a,"tree");Wi(a,"labelledby",Dl(this).id)};
d.Hb=function(){am.s.Hb.call(this);var a=this.J();a.className=this.fb.ds;a.setAttribute("hideFocus","true");a=this.J();a.tabIndex=0;var b=this.Cc=new aj(a),c=this.Fo=new yl(a);Ni(this).ra(c,"focusout",this.wx).ra(c,"focusin",this.Bx).ra(b,"key",this.re).ra(a,"mousedown",this.Uo).ra(a,"click",this.Uo).ra(a,"dblclick",this.Uo);this.xm()};d.Xd=function(){am.s.Xd.call(this);this.Cc.B();this.Cc=null;this.Fo.B();this.Fo=null};
d.Uo=function(a){var b=fm(this,a);if(b)switch(a.type){case "mousedown":b.Dt(a);break;case "click":b.Gk(a);break;case "dblclick":b.At(a)}};
d.re=function(a){var b=this.fl;var c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){c=40==a.keyCode?1:-1;var e=b.sp;if(e){var f=null,h=!1;if(b.Im){var k=b.Si+c;0<=k&&k<b.Im.length?(b.Si=k,f=b.Im):h=!0}f||(k=b.Ak+c,0<=k&&k<e.length&&(b.Ak=k),e.length>b.Ak&&(f=b.Ih.get(e[b.Ak])),f&&f.length&&h&&(b.Si=-1==c?f.length-1:0));$l(b,f)&&(b.sp=e)}c=!0}break;case 8:e=b.Rb.length-1;c=!0;0<e?(b.Rb=b.Rb.substring(0,e),Zl(b,b.Rb)):0==e?b.Rb="":c=!1;break;case 27:b.Rb="",c=!0}(b=c||this.Gc&&this.Gc.Fp(a))||(b=
this.fl,c=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.Rb)&&(b.Rb+=e,c=Zl(b,b.Rb))),b=c);b&&a.preventDefault();return b};function fm(a,b){for(var c=b.target;null!=c;){if(b=Cl[c.id])return b;if(c==a.J())break;c=c.parentNode}return null}d.createNode=function(a){return new Rl(a||ac,this.fb,this.ae())};
function Pl(a,b){a=a.fl;var c=b.Jb();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){c=c.toLowerCase();var e=a.Ih.get(c);e?e.push(b):a.Ih.set(c,[b])}}d.removeNode=function(a){Yl(this.fl,a)};function Vg(a){this.m=a;this.u=a.options.u;this.Ue=a.options.od;this.na=a.options.na;this.fb={bp:19,ds:"blocklyTreeRoot",Zr:"blocklyHidden",$r:"",jo:"blocklyTreeRow",bs:"blocklyTreeLabel",jh:"blocklyTreeIcon",ho:"blocklyTreeIconOpen",io:"blocklyTreeIconNone",fs:"blocklyTreeSelected"};this.Au={jo:"blocklyTreeSeparator"};this.Ue&&(this.fb.cssTreeRow+=a.u?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Au.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.u?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.fb.cssTreeIcon="")}d=Vg.prototype;d.width=0;d.height=0;d.vk=null;
d.I=function(){var a=this.m,b=H(this.m);this.Ic=document.createElement("div");this.Ic.className="blocklyToolboxDiv";this.Ic.setAttribute("dir",a.u?"RTL":"LTR");b.parentNode.insertBefore(this.Ic,b);w.R(this.Ic,"mousedown",this,function(c){w.h.Eg(c)||c.target==this.Ic?w.$b(!1):w.$b(!0);w.Touch.yf()},!1,!0);b={Cf:a.options.Cf,Mb:a,u:a.u,ge:a.options.ge,od:a.od,na:a.options.na};this.H=null;this.H=a.od?new Ag(b):new Bg(b);w.h.Ah(this.H.Z("svg"),H(this.m));this.H.I(a);this.fb.cleardotPath=a.options.we+
"1x1.gif";this.fb.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.u?"Rtl":"Ltr");this.gd=b=new gm(this,this.fb);em(b);bm(b);dm(b);b.Uf(null);a=this.Tm(a.options.Ye);b.ea(this.Ic);a&&b.Uf(a);eh(this);this.position()};d.B=function(){this.H.B();this.gd.B();w.h.removeNode(this.Ic);this.vk=this.m=null};d.zc=function(){return this.width};d.Fi=function(){return this.height};
d.position=function(){var a=this.Ic;if(a){var b=H(this.m);b=w.vu(b);this.Ue?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.na==w.Mc?a.style.top="0":a.style.bottom="0"):(this.na==w.Ee?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.H.position()}};
d.Tm=function(a){this.gd.Xt();this.gd.Ge=[];this.Yo=!1;a=hm(this,a,this.gd,this.m.options.we);if(this.gd.Ge.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");ne(this.m);return a};
function hm(a,b,c,e){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=w.h.nc(l.getAttribute("name"));var m=a.gd.createNode(h);m.Ge=[];c.add(m);var n=l.getAttribute("custom");n?m.Ge=n:(n=hm(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var p=l.getAttribute("colour");p&&n?(m.wh="",console.warn('Toolbox category "'+h+'" can not have both a style and a colour')):n?im(a,n,m,h):jm(a,p,m,h);"true"==l.getAttribute("expanded")?(m.Ge.length&&
(f=m),m.ye(!0)):m.ye(!1);h=l;break;case "SEP":if(h&&"CATEGORY"==h.tagName.toUpperCase()){c.add(new km(a.Au));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":c.Ge.push(l),h=l}return f}function jm(a,b,c,e){b=w.h.nc(b);null===b||""===b?c.wh="":/^#[0-9a-fA-F]{6}$/.test(b)?(c.wh=b,a.Yo=!0):"number"===typeof b||"string"===typeof b&&!isNaN(Number(b))?(c.wh=w.Us(Number(b)),a.Yo=!0):(c.wh="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b))}
function im(a,b,c,e){if((c.tu=b)&&w.al){var f;(f=w.al.qw[b])&&f.Gr?jm(a,f.Gr,c,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function lm(a,b){if(b=b||a.gd){b=b.Ff(!1);for(var c=0,e;e=b[c];c++)e.tu&&(im(a,e.tu,e,""),eh(a)),lm(a,e)}}function mm(a){var b=a.gd;if(b&&(lm(a,b),a=b.Gc)){var c=a.wh||"#57e";Hl(a).style.backgroundColor=c;eh(b.aa,a)}}
function eh(a,b){b=(b||a.gd).Ff(!1);for(var c=0,e;e=b[c];c++){var f=Hl(e);if(f){var h=a.Yo?"8px solid "+(e.wh||"#ddd"):"none";a.m.u?f.style.borderRight=h:f.style.borderLeft=h}eh(a,e)}}d.Di=function(){if(!this.Ic)return null;var a=this.Ic.getBoundingClientRect(),b=a.left,c=a.top,e=a.width;a=a.height;return this.na==w.jd?new yg(-1E7,-1E7,1E7+b+e,2E7):this.na==w.Ee?new yg(b,-1E7,1E7+e,2E7):this.na==w.Mc?new yg(-1E7,-1E7,2E7,1E7+c+a):new yg(0,c,2E7,1E7+e)};
function gm(a,b){this.aa=a;am.call(this,ac,b)}v(gm,am);gm.prototype.Hb=function(){gm.s.Hb.call(this);if(vd){var a=this.J();w.R(a,"touchend",this,this.Nx)}};gm.prototype.Nx=function(a){var b=fm(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.Gk(a)},1)};gm.prototype.createNode=function(a){a=a?Tb(a):ac;return new nm(this.aa,a,this.fb)};
gm.prototype.Uf=function(a){var b=this.aa;if(a!=this.Gc&&a!=b.gd){b.vk&&(Hl(b.vk).style.backgroundColor="");if(a){var c=a.wh||"#57e";Hl(a).style.backgroundColor=c;eh(b,a)}c=this.Gc;am.prototype.Uf.call(this,a);a&&a.Ge&&a.Ge.length?(b.H.show(a.Ge),b.vk!=a&&b.H.eq()):b.H.Ia();c!=a&&c!=this&&(c=new Id(null,"category",c&&Sb(c.lk).toString(),a&&Sb(a.lk).toString()),c.Ob=b.m.id,w.j.U(c));a&&(b.vk=a)}};
function nm(a,b,c){Al.call(this,b,c,void 0);a&&(b=function(){w.Yh(a.m)},qi(a.gd,"expand",b),qi(a.gd,"collapse",b))}v(nm,Rl);d=nm.prototype;d.No=function(){return Yb("span")};d.Gk=function(){Si(this)&&this.tk?(this.toggle(),this.select()):this.rk()?this.Vc().Uf(null):this.select();Kl(this)};d.Dt=function(){};d.At=function(){};d.Fp=function(a){if(this.Xg.aa.Ue){var b={};b[39]=this.aj?38:40;b[37]=this.aj?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return nm.s.Fp.call(this,a)};
function km(a){nm.call(this,null,ac,a)}v(km,nm);w.Md={};w.Md.nA="";w.Md.uu=null;w.Md.nt="";w.Md.yg=function(a,b){if(!w.Md.uu){var c=".blocklyDraggable {}\n";a&&(c+=w.Md.Tu.join("\n"),w.hv&&(c+=w.hv.CSS.join("\n")));w.Md.nt=b.replace(/[\\\/]$/,"");c=c.replace(/<<<PATH>>>/g,w.Md.nt);a=document.createElement("style");document.head.insertBefore(a,document.head.firstChild);a.appendChild(document.createTextNode(c));w.Md.uu=a.sheet}};w.Md.EA=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
w.Md.Tu=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;",
"-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',
"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;",
"}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;",
"}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;","padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;",
"width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;",
"z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {",
"padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {",
"color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;",
"filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",
".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",
".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];w.K={};w.K.oa=null;w.K.Ik=null;w.K.zi=null;w.K.Z=function(){w.K.oa||(w.K.oa=document.createElement("div"),w.K.oa.className="blocklyWidgetDiv",document.body.appendChild(w.K.oa))};w.K.show=function(a,b,c){w.K.Ia();w.K.Ik=a;w.K.zi=c;w.K.oa.style.top=pd().y+"px";w.K.oa.style.direction=b?"rtl":"ltr";w.K.oa.style.display="block"};w.K.Ia=function(){w.K.Ik&&(w.K.Ik=null,w.K.oa.style.display="none",w.K.oa.style.left="",w.K.oa.style.top="",w.K.zi&&w.K.zi(),w.K.zi=null,w.K.oa.innerHTML="")};w.K.isVisible=function(){return!!w.K.Ik};
w.K.jk=function(a){w.K.Ik==a&&w.K.Ia()};w.K.Mt=function(a,b,c){w.K.oa.style.left=a+"px";w.K.oa.style.top=b+"px";w.K.oa.style.height=c+"px"};w.K.Nt=function(a,b,c,e){var f=w.K.pw(a,b,c);a=w.K.ow(a,b,c,e);0>f?w.K.Mt(a,0,c.height+f):w.K.Mt(a,f,c.height)};w.K.ow=function(a,b,c,e){if(e)return b=Math.max(b.right-c.width,a.left),Math.min(b,a.right-c.width);b=Math.min(b.left,a.right-c.width);return Math.max(b,a.left)};w.K.pw=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};function om(a){this.Gj=a;this.Z()}d=om.prototype;d.Ua=null;d.Vd=null;d.Gj=null;d.Qg=1;d.Yk=null;d.Z=function(){this.Ua||(this.Ua=w.h.C("svg",{xmlns:w.De,"xmlns:html":w.cg,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.Gj),this.Vd=w.h.C("g",{},this.Ua))};function Hf(a,b){if(a.Vd.childNodes.length)throw Error("Already dragging a block.");a.Vd.appendChild(b);a.Ua.style.display="block";a.Yk=new A(0,0)}
d.Wf=function(a,b){this.Yk=new A(a*this.Qg,b*this.Qg);a=this.Yk.x;b=this.Yk.y;a=a.toFixed(0);b=b.toFixed(0);this.Ua.style.display="block";w.h.Pk(this.Ua,"translate3d("+a+"px, "+b+"px, 0px)")};d.pm=function(){var a=w.h.Uc(this.Ua);return new A(a.x/this.Qg,a.y/this.Qg)};d.Ib=function(){return this.Vd};
d.Dj=function(a){a?a.appendChild(this.Vd.firstChild):this.Vd.removeChild(this.Vd.firstChild);this.Ua.style.display="none";if(this.Vd.childNodes.length)throw Error("Drag group was not cleared.");this.Yk=null};w.yg=function(a,b){w.sw();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!w.h.containsNode(document,a))throw Error("Error: container is not in current document.");b=new dg(b||{});var c=document.createElement("div");c.className="injectionDiv";a.appendChild(c);a=w.Ij(c,b);var e=new om(c);c=new Jg(c);c=w.Gw(a,b,e,c);w.dz(b.oz);w.Yx(c);w.yk=c;w.Yh(c);return c};
w.Ij=function(a,b){a.setAttribute("dir","LTR");Ki=b.u;w.Md.yg(b.Px,b.we);a=w.h.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a);var c=w.h.C("defs",{},a),e=String(Math.random()).substring(2),f=w.h.C("filter",{id:"blocklyEmbossFilter"+e},c);w.h.C("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=w.h.C("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,
specularExponent:10,"lighting-color":"white",result:"specOut"},f);w.h.C("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);w.h.C("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);w.h.C("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.ys=f.id;f=w.h.C("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},c);w.h.C("rect",{width:10,height:10,fill:"#aaa"},f);w.h.C("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",
stroke:"#cc0"},f);b.Cf=f.id;f=b.Js;c=w.h.C("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},c);0<f.length&&0<f.spacing?(w.h.C("line",{stroke:f.colour},c),1<f.length&&w.h.C("line",{stroke:f.colour},c)):w.h.C("line",{},c);b.Ks=c;return a};
w.Gw=function(a,b,c,e){b.Mb=null;var f=new Rg(b,c,e);f.scale=b.$a.ou;a.appendChild(f.Z("blocklyMainBackground"));!b.Ns&&b.Ye&&(c=Zg(f,"svg"),w.h.Ah(c,a));b.Ps&&Xg(f);b.$a&&b.$a.controls&&Yg(f);f.translate(0,0);w.yk=f;b.readOnly||f.Lb()||f.Nc(function(h){if(!f.Kb()&&!f.Lb()&&-1!=w.j.Pu.indexOf(h.type)){var k=Object.create(null),l=f.qb(),m=f.scale;k.pb=l.pb/m;k.Cb=l.Cb/m;k.Gu=(l.pb+l.Ba)/m;k.Fu=(l.Cb+l.Fa)/m;ch(f)?(l=ke(f),k.Sb=l.x,k.Fb=l.y,k.Or=l.x+l.width,k.Nr=l.y+l.height):(k.Sb=l.Sb/m,k.Fb=l.Fb/
m,k.Or=(l.Sb+l.ld)/m,k.Nr=(l.Fb+l.Oc)/m);if(k.Fb<k.Cb||k.Nr>k.Fu||k.Sb<k.pb||k.Or>k.Gu){l=null;h&&(l=w.j.Ib(),w.j.N(h.group));switch(h.type){case w.j.mj:case w.j.Jq:var n=Nd(f,h.Qb);break;case w.j.ul:case w.j.vl:n=pe(f,h.He)}if(n){m=n.dm();var p=k.Cb-m.fd.y;0<p&&n.moveBy(0,p);p=k.Fu-m.xd.y;0>p&&n.moveBy(0,p);p=k.pb-m.fd.x;0<p&&n.moveBy(p,0);k=k.Gu-m.xd.x;0>k&&n.moveBy(k,0)}h&&(h.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),w.j.N(l))}}});
w.Yh(f);w.K.Z();Hk();w.D.Z();return f};w.Yx=function(a){var b=a.options,c=H(a);w.R(c.parentNode,"contextmenu",null,function(e){w.h.Cm(e)||e.preventDefault()});c=w.R(window,"resize",null,function(){w.$b(!0);w.Yh(a)});a.dn=c;w.yg.gw();b.Ye&&(a.aa?a.aa.I(a):a.H&&(a.H.I(a),a.H.show(b.Ye.childNodes),a.H.eq()));c=G;b.Ps&&(c=a.qc.I(c));b.$a&&b.$a.controls&&a.ii.I(c);b.bc&&b.bc.scrollbars?(a.rb=new fg(a),a.rb.resize()):a.Sf({x:.5,y:.5});b.Qx&&w.yg.ky(b.we,a)};
w.yg.gw=function(){w.ax||(w.R(document,"scroll",null,function(){for(var a=we(),b=0,c;c=a[b];b++)c.jl&&c.jl()}),w.R(document,"keydown",null,w.Hy),w.kc(document,"touchend",null,w.Hg),w.kc(document,"touchcancel",null,w.Hg),uc&&w.R(window,"orientationchange",document,function(){w.Yh(w.qg())}));w.ax=!0};
w.yg.ky=function(a,b){function c(){for(;f.length;)w.Ea(f.pop());e.preload()}var e=b.kg;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(w.R(document,"mousemove",null,c,!0));f.push(w.R(document,"touchstart",null,c,!0))};
w.Du=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");w.qg().Du(a)};w.yk=null;w.selected=null;w.Oj=[];w.Ej=null;w.Ql=null;w.$n=null;w.kA=null;w.al=null;w.Us=function(a){var b=w.nv,c=255*w.ov,e=0,f=0,h=0;if(0==b)h=f=e=c;else{var k=Math.floor(a/60),l=a/60-k;a=c*(1-b);var m=c*(1-b*l);b=c*(1-b*(1-l));switch(k){case 1:e=m;f=c;h=a;break;case 2:e=a;f=c;h=b;break;case 3:e=a;f=m;h=c;break;case 4:e=b;f=a;h=c;break;case 5:e=c;f=a;h=m;break;case 6:case 0:e=c,f=b,h=a}}return mk([Math.floor(e),Math.floor(f),Math.floor(h)])};w.vu=function(a){return{width:a.vr,height:a.qr}};
w.DA=function(a){ne(a)};w.Yh=function(a){for(;a.options.Mb;)a=a.options.Mb;var b=H(a),c=b.parentNode;if(c){var e=c.offsetWidth;c=c.offsetHeight;b.vr!=e&&(b.setAttribute("width",e+"px"),b.vr=e);b.qr!=c&&(b.setAttribute("height",c+"px"),b.qr=c);a.resize()}};
w.Hy=function(a){var b=w.yk;if(!(b.options.readOnly||w.h.Cm(a)||b.O&&!b.isVisible())){var c=!1;if(27==a.keyCode)w.$b();else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(ag())return;w.selected&&w.selected.mc()&&(c=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(ag())return;w.selected&&w.selected.mc()&&w.selected.Lb()&&(67==a.keyCode?(w.$b(),w.fo(w.selected)):88!=a.keyCode||w.selected.o.fe||(w.fo(w.selected),c=!0));86==a.keyCode?w.Ej&&(b=w.Ql,b.fe&&(b=b.Zh),w.$n&&ue(b,w.$n)&&(w.j.N(!0),ah(b),
w.j.N(!1))):90==a.keyCode&&(w.$b(),b.Dq(a.shiftKey))}c&&!w.selected.o.fe&&(w.j.N(!0),w.$b(),w.selected.B(!0,!0),w.j.N(!1))}};w.fo=function(a){if(a.hp)var b=a.cl();else{b=w.w.lg(a);w.w.Ww(b);var c=a.wa();b.setAttribute("x",a.u?-c.x:c.x);b.setAttribute("y",c.y)}w.Ej=b;w.Ql=a.o;w.$n=a.hp?null:w.h.Jo(a,!0)};w.ws=function(a){var b=w.Ej,c=w.Ql;w.fo(a);ah(a.o);w.Ej=b;w.Ql=c};w.BA=function(a){w.h.Cm(a)||a.preventDefault()};
w.$b=function(a){w.D.Ia();w.K.Ia();Mk();var b=w.qg();b.qc&&b.qc.H&&b.qc.H.Ia();a||b.aa&&b.aa.H&&b.aa.H.ti&&b.aa.gd.Uf(null)};w.Nc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return w.qg().Nc(a)};w.qg=function(){return w.yk};w.alert=function(a,b){window.alert(a);b&&b()};w.confirm=function(a,b){b(window.confirm(a))};w.prompt=function(a,b,c){c(window.prompt(a,b))};w.ey=function(a){return function(){Rh(this,a)}};
w.yi=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var e=c.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(w.F[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),w.F[e]={I:w.ey(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}};
w.R=function(a,b,c,e,f,h){function k(r){var q=!f;r=w.Touch.gz(r);for(var y=0,L;L=r[y];y++)if(!q||w.Touch.tq(L))w.Touch.cz(L),c?e.call(c,L):e(L),l=!0}var l=!1,m=[];if(g.PointerEvent&&b in w.Touch.Fe)for(var n=0,p;p=w.Touch.Fe[b][n];n++)a.addEventListener(p,k,!1),m.push([a,p,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in w.Touch.Fe){var t=function(r){k(r);var q=!h;l&&q&&r.preventDefault()};for(n=0;p=w.Touch.Fe[b][n];n++)a.addEventListener(p,t,!1),m.push([a,p,t])}return m};
w.kc=function(a,b,c,e){function f(n){c?e.call(c,n):e(n)}var h=[],k=g.window;if(k&&k.PointerEvent&&b in w.Touch.Fe){k=0;for(var l;l=w.Touch.Fe[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f])}else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in w.Touch.Fe){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}f(n);n.preventDefault()};for(k=0;l=w.Touch.Fe[b][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
w.Ea=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};w.Dg=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};
w.sw=function(){w.vc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);w.vc("LOGIC_HUE",["Constants","Logic","HUE"],210);w.vc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);w.vc("LOOPS_HUE",["Constants","Loops","HUE"],120);w.vc("MATH_HUE",["Blocks","math","HUE"],void 0);w.vc("MATH_HUE",["Constants","Math","HUE"],230);w.vc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);w.vc("TEXTS_HUE",["Constants","Text","HUE"],160);w.vc("LISTS_HUE",["Blocks","lists","HUE"],void 0);w.vc("LISTS_HUE",["Constants","Lists","HUE"],
260);w.vc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);w.vc("COLOUR_HUE",["Constants","Colour","HUE"],20);w.vc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);w.vc("VARIABLES_HUE",["Constants","Variables","HUE"],330);w.vc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);w.vc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
w.vc=function(a,b,c){for(var e="Blockly",f=w,h=0;h<b.length;++h)e+="."+b[h],f&&(f=f[b[h]]);f&&f!==c&&(a=(void 0===c?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};w.dz=function(a){this.al=a;(a=w.qg())&&this.Yy(a)};w.Yy=function(a){this.Bu(B(a).filter(function(c){return void 0!==c.Xk}));!a.aa&&a.H&&a.H.m?this.Bu(B(a.H.m)):bh(a);a.aa&&mm(a.aa);var b=new Id(null,"theme");b.Ob=a.id;w.j.U(b)};
w.Bu=function(a){for(var b=0,c;c=a[b];b++)if(Oh(c,c.Xk),c.$c){var e=c.$c.m;if(e&&B(e)){var f=B(e);for(c=0;c<f.length;c++){var h=f[c];Oh(h,h.Xk)}e=B(e.H.m);for(c=0;c<e.length;c++)h=e[c],Oh(h,h.Xk)}}};w.tA=function(){return this.al};g.Blockly||(g.Blockly={});g.Blockly.getMainWorkspace=w.qg;g.Blockly.addChangeListener=w.Nc;function pm(a,b){var c=a.className;c=u(c)&&c.match(/\S+/g)||[];for(var e=Sa(arguments,1),f=0;f<e.length;f++)Na(c,e[f])||c.push(e[f]);c=c.join(" ");a.className=c};var qm={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",
he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas",
"pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587",
"zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},rm="ace ar fa he mzn ps ur".split(" "),sm=window.BlocklyGamesLang,tm=window.BlocklyGamesLanguages,um=!!window.location.pathname.match(/\.html$/),fl=null,S,vm=Number,wm,xm=window.location.search.match(/[?&]level=([^&]+)/);wm=xm?decodeURIComponent(xm[1].replace(/\+/g,"%20")):"NaN";var ym=vm(wm);S=isNaN(ym)?1:Hc(1,ym,10);
function zm(){document.title=document.getElementById("title").textContent;document.dir=-1!=rm.indexOf(sm)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",sm);var a=document.getElementById("languageMenu");if(a){for(var b=[],c=0;c<tm.length;c++){var e=tm[c];b.push([qm[e],e])}b.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(c=a.options.length=0;c<b.length;c++){var f=b[c];e=f[1];f=new Option(f[0],e);e==sm&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(c=1;10>=c;c++)a=document.getElementById("level"+c),b=!!Am(c),a&&b&&pm(a,"level_done");(c=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&c.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Bm,1)}function Am(a){try{var b=window.localStorage["genetics"+a]}catch(c){}return b}function T(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function Cm(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function Bm(){if(!um){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(c){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};w.g.pA={};w.g.ADD_COMMENT="Add Comment";w.g.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";w.g.CHANGE_VALUE_TITLE="Change value:";w.g.CLEAN_UP="Clean up Blocks";w.g.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";w.g.COLLAPSE_ALL="Collapse Blocks";w.g.COLLAPSE_BLOCK="Collapse Block";w.g.COLOUR_BLEND_COLOUR1="colour 1";w.g.COLOUR_BLEND_COLOUR2="colour 2";w.g.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
w.g.COLOUR_BLEND_RATIO="ratio";w.g.COLOUR_BLEND_TITLE="blend";w.g.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";w.g.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";w.g.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";w.g.COLOUR_RANDOM_HELPURL="http://randomcolour.com";w.g.COLOUR_RANDOM_TITLE="random colour";w.g.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";w.g.COLOUR_RGB_BLUE="blue";w.g.COLOUR_RGB_GREEN="green";
w.g.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";w.g.COLOUR_RGB_RED="red";w.g.COLOUR_RGB_TITLE="colour with";w.g.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";w.g.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";w.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";w.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
w.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";w.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";w.g.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";w.g.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";w.g.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";w.g.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
w.g.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";w.g.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";w.g.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";w.g.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";w.g.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";w.g.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
w.g.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";w.g.CONTROLS_IF_MSG_ELSE="else";w.g.CONTROLS_IF_MSG_ELSEIF="else if";w.g.CONTROLS_IF_MSG_IF="if";w.g.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";w.g.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";w.g.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
w.g.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";w.g.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";w.g.CONTROLS_REPEAT_INPUT_DO="do";w.g.CONTROLS_REPEAT_TITLE="repeat %1 times";w.g.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";w.g.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
w.g.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";w.g.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";w.g.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";w.g.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";w.g.DELETE_ALL_BLOCKS="Delete all %1 blocks?";w.g.DELETE_BLOCK="Delete Block";w.g.DELETE_VARIABLE="Delete the '%1' variable";w.g.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
w.g.DELETE_X_BLOCKS="Delete %1 Blocks";w.g.DISABLE_BLOCK="Disable Block";w.g.DUPLICATE_BLOCK="Duplicate";w.g.DUPLICATE_COMMENT="Duplicate Comment";w.g.ENABLE_BLOCK="Enable Block";w.g.EXPAND_ALL="Expand Blocks";w.g.EXPAND_BLOCK="Expand Block";w.g.EXTERNAL_INPUTS="External Inputs";w.g.HELP="Help";w.g.INLINE_INPUTS="Inline Inputs";w.g.IOS_CANCEL="Cancel";w.g.IOS_ERROR="Error";w.g.IOS_OK="OK";w.g.IOS_PROCEDURES_ADD_INPUT="+ Add Input";w.g.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
w.g.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";w.g.IOS_PROCEDURES_INPUTS="INPUTS";w.g.IOS_VARIABLES_ADD_BUTTON="Add";w.g.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";w.g.IOS_VARIABLES_DELETE_BUTTON="Delete";w.g.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";w.g.IOS_VARIABLES_RENAME_BUTTON="Rename";w.g.IOS_VARIABLES_VARIABLE_NAME="Variable name";w.g.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
w.g.LISTS_CREATE_EMPTY_TITLE="create empty list";w.g.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";w.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";w.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";w.g.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";w.g.LISTS_CREATE_WITH_INPUT_WITH="create list with";w.g.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
w.g.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";w.g.LISTS_GET_INDEX_FIRST="first";w.g.LISTS_GET_INDEX_FROM_END="# from end";w.g.LISTS_GET_INDEX_FROM_START="#";w.g.LISTS_GET_INDEX_GET="get";w.g.LISTS_GET_INDEX_GET_REMOVE="get and remove";w.g.LISTS_GET_INDEX_LAST="last";w.g.LISTS_GET_INDEX_RANDOM="random";w.g.LISTS_GET_INDEX_REMOVE="remove";w.g.LISTS_GET_INDEX_TAIL="";w.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
w.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";w.g.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
w.g.LISTS_GET_SUBLIST_END_FROM_START="to #";w.g.LISTS_GET_SUBLIST_END_LAST="to last";w.g.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";w.g.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";w.g.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";w.g.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";w.g.LISTS_GET_SUBLIST_TAIL="";w.g.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
w.g.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";w.g.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";w.g.LISTS_INDEX_OF_FIRST="find first occurrence of item";w.g.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";w.g.LISTS_INDEX_OF_LAST="find last occurrence of item";w.g.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";w.g.LISTS_INLIST="in list";
w.g.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";w.g.LISTS_ISEMPTY_TITLE="%1 is empty";w.g.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";w.g.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";w.g.LISTS_LENGTH_TITLE="length of %1";w.g.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";w.g.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";w.g.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
w.g.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";w.g.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";w.g.LISTS_REVERSE_MESSAGE0="reverse %1";w.g.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";w.g.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";w.g.LISTS_SET_INDEX_INPUT_TO="as";w.g.LISTS_SET_INDEX_INSERT="insert at";w.g.LISTS_SET_INDEX_SET="set";
w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";w.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";w.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
w.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";w.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";w.g.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";w.g.LISTS_SORT_ORDER_ASCENDING="ascending";w.g.LISTS_SORT_ORDER_DESCENDING="descending";w.g.LISTS_SORT_TITLE="sort %1 %2 %3";w.g.LISTS_SORT_TOOLTIP="Sort a copy of a list.";w.g.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";w.g.LISTS_SORT_TYPE_NUMERIC="numeric";
w.g.LISTS_SORT_TYPE_TEXT="alphabetic";w.g.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";w.g.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";w.g.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";w.g.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";w.g.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";w.g.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
w.g.LOGIC_BOOLEAN_FALSE="false";w.g.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";w.g.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";w.g.LOGIC_BOOLEAN_TRUE="true";w.g.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";w.g.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";w.g.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";w.g.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
w.g.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";w.g.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";w.g.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";w.g.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";w.g.LOGIC_NEGATE_TITLE="not %1";w.g.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
w.g.LOGIC_NULL="null";w.g.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";w.g.LOGIC_NULL_TOOLTIP="Returns null.";w.g.LOGIC_OPERATION_AND="and";w.g.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";w.g.LOGIC_OPERATION_OR="or";w.g.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";w.g.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";w.g.LOGIC_TERNARY_CONDITION="test";w.g.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
w.g.LOGIC_TERNARY_IF_FALSE="if false";w.g.LOGIC_TERNARY_IF_TRUE="if true";w.g.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";w.g.MATH_ADDITION_SYMBOL="+";w.g.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";w.g.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";w.g.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
w.g.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";w.g.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";w.g.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";w.g.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";w.g.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";w.g.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";w.g.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
w.g.MATH_CHANGE_TITLE="change %1 by %2";w.g.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";w.g.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";w.g.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";w.g.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";w.g.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
w.g.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";w.g.MATH_DIVISION_SYMBOL="\u00f7";w.g.MATH_IS_DIVISIBLE_BY="is divisible by";w.g.MATH_IS_EVEN="is even";w.g.MATH_IS_NEGATIVE="is negative";w.g.MATH_IS_ODD="is odd";w.g.MATH_IS_POSITIVE="is positive";w.g.MATH_IS_PRIME="is prime";w.g.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";w.g.MATH_IS_WHOLE="is whole";
w.g.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";w.g.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";w.g.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";w.g.MATH_MULTIPLICATION_SYMBOL="\u00d7";w.g.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";w.g.MATH_NUMBER_TOOLTIP="A number.";w.g.MATH_ONLIST_HELPURL="";w.g.MATH_ONLIST_OPERATOR_AVERAGE="average of list";w.g.MATH_ONLIST_OPERATOR_MAX="max of list";w.g.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
w.g.MATH_ONLIST_OPERATOR_MIN="min of list";w.g.MATH_ONLIST_OPERATOR_MODE="modes of list";w.g.MATH_ONLIST_OPERATOR_RANDOM="random item of list";w.g.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";w.g.MATH_ONLIST_OPERATOR_SUM="sum of list";w.g.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";w.g.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";w.g.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
w.g.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";w.g.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";w.g.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";w.g.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";w.g.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";w.g.MATH_POWER_SYMBOL="^";w.g.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
w.g.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";w.g.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";w.g.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";w.g.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";w.g.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";w.g.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";w.g.MATH_ROUND_OPERATOR_ROUND="round";
w.g.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";w.g.MATH_ROUND_OPERATOR_ROUNDUP="round up";w.g.MATH_ROUND_TOOLTIP="Round a number up or down.";w.g.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";w.g.MATH_SINGLE_OP_ABSOLUTE="absolute";w.g.MATH_SINGLE_OP_ROOT="square root";w.g.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";w.g.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";w.g.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
w.g.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";w.g.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";w.g.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";w.g.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";w.g.MATH_SUBTRACTION_SYMBOL="-";w.g.MATH_TRIG_ACOS="acos";w.g.MATH_TRIG_ASIN="asin";w.g.MATH_TRIG_ATAN="atan";w.g.MATH_TRIG_COS="cos";w.g.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
w.g.MATH_TRIG_SIN="sin";w.g.MATH_TRIG_TAN="tan";w.g.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";w.g.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";w.g.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";w.g.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";w.g.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";w.g.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";w.g.NEW_COLOUR_VARIABLE="Create colour variable...";
w.g.NEW_NUMBER_VARIABLE="Create number variable...";w.g.NEW_STRING_VARIABLE="Create string variable...";w.g.NEW_VARIABLE="Create variable...";w.g.NEW_VARIABLE_TITLE="New variable name:";w.g.NEW_VARIABLE_TYPE_TITLE="New variable type:";w.g.ORDINAL_NUMBER_SUFFIX="";w.g.PROCEDURES_ALLOW_STATEMENTS="allow statements";w.g.PROCEDURES_BEFORE_PARAMS="with:";w.g.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.g.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
w.g.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.g.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";w.g.PROCEDURES_CALL_BEFORE_PARAMS="with:";w.g.PROCEDURES_CREATE_DO="Create '%1'";w.g.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";w.g.PROCEDURES_DEFNORETURN_DO="";w.g.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.g.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
w.g.PROCEDURES_DEFNORETURN_TITLE="to";w.g.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";w.g.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";w.g.PROCEDURES_DEFRETURN_RETURN="return";w.g.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";w.g.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";w.g.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";w.g.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
w.g.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";w.g.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";w.g.PROCEDURES_MUTATORARG_TITLE="input name:";w.g.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";w.g.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";w.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";w.g.REDO="Redo";w.g.REMOVE_COMMENT="Remove Comment";
w.g.RENAME_VARIABLE="Rename variable...";w.g.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";w.g.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";w.g.TEXT_APPEND_TITLE="to %1 append text %2";w.g.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";w.g.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";w.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";w.g.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
w.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";w.g.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";w.g.TEXT_CHARAT_FIRST="get first letter";w.g.TEXT_CHARAT_FROM_END="get letter # from end";w.g.TEXT_CHARAT_FROM_START="get letter #";w.g.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";w.g.TEXT_CHARAT_LAST="get last letter";w.g.TEXT_CHARAT_RANDOM="get random letter";w.g.TEXT_CHARAT_TAIL="";w.g.TEXT_CHARAT_TITLE="in text %1 %2";
w.g.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";w.g.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";w.g.TEXT_COUNT_MESSAGE0="count %1 in %2";w.g.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";w.g.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";w.g.TEXT_CREATE_JOIN_TITLE_JOIN="join";w.g.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
w.g.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";w.g.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";w.g.TEXT_GET_SUBSTRING_END_LAST="to last letter";w.g.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";w.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";w.g.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";w.g.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";w.g.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
w.g.TEXT_GET_SUBSTRING_TAIL="";w.g.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";w.g.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";w.g.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";w.g.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";w.g.TEXT_INDEXOF_TITLE="in text %1 %2 %3";w.g.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
w.g.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";w.g.TEXT_ISEMPTY_TITLE="%1 is empty";w.g.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";w.g.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";w.g.TEXT_JOIN_TITLE_CREATEWITH="create text with";w.g.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";w.g.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
w.g.TEXT_LENGTH_TITLE="length of %1";w.g.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";w.g.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";w.g.TEXT_PRINT_TITLE="print %1";w.g.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";w.g.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";w.g.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
w.g.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";w.g.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";w.g.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";w.g.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";w.g.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";w.g.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";w.g.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
w.g.TEXT_REVERSE_MESSAGE0="reverse %1";w.g.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";w.g.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";w.g.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";w.g.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";w.g.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";w.g.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";w.g.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
w.g.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";w.g.TODAY="Today";w.g.UNDO="Undo";w.g.VARIABLES_DEFAULT_NAME="item";w.g.VARIABLES_GET_CREATE_SET="Create 'set %1'";w.g.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";w.g.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";w.g.VARIABLES_SET="set %1 to %2";w.g.VARIABLES_SET_CREATE_GET="Create 'get %1'";w.g.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
w.g.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";w.g.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";w.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";w.g.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";w.g.CONTROLS_FOREACH_INPUT_DO=w.g.CONTROLS_REPEAT_INPUT_DO;w.g.CONTROLS_FOR_INPUT_DO=w.g.CONTROLS_REPEAT_INPUT_DO;w.g.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=w.g.CONTROLS_IF_MSG_ELSEIF;
w.g.CONTROLS_IF_ELSE_TITLE_ELSE=w.g.CONTROLS_IF_MSG_ELSE;w.g.CONTROLS_IF_IF_TITLE_IF=w.g.CONTROLS_IF_MSG_IF;w.g.CONTROLS_IF_MSG_THEN=w.g.CONTROLS_REPEAT_INPUT_DO;w.g.CONTROLS_WHILEUNTIL_INPUT_DO=w.g.CONTROLS_REPEAT_INPUT_DO;w.g.LISTS_CREATE_WITH_ITEM_TITLE=w.g.VARIABLES_DEFAULT_NAME;w.g.LISTS_GET_INDEX_HELPURL=w.g.LISTS_INDEX_OF_HELPURL;w.g.LISTS_GET_INDEX_INPUT_IN_LIST=w.g.LISTS_INLIST;w.g.LISTS_GET_SUBLIST_INPUT_IN_LIST=w.g.LISTS_INLIST;w.g.LISTS_INDEX_OF_INPUT_IN_LIST=w.g.LISTS_INLIST;
w.g.LISTS_SET_INDEX_INPUT_IN_LIST=w.g.LISTS_INLIST;w.g.MATH_CHANGE_TITLE_ITEM=w.g.VARIABLES_DEFAULT_NAME;w.g.PROCEDURES_DEFRETURN_COMMENT=w.g.PROCEDURES_DEFNORETURN_COMMENT;w.g.PROCEDURES_DEFRETURN_DO=w.g.PROCEDURES_DEFNORETURN_DO;w.g.PROCEDURES_DEFRETURN_PROCEDURE=w.g.PROCEDURES_DEFNORETURN_PROCEDURE;w.g.PROCEDURES_DEFRETURN_TITLE=w.g.PROCEDURES_DEFNORETURN_TITLE;w.g.TEXT_APPEND_VARIABLE=w.g.VARIABLES_DEFAULT_NAME;w.g.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=w.g.VARIABLES_DEFAULT_NAME;w.g.MATH_HUE="230";
w.g.LOOPS_HUE="120";w.g.LISTS_HUE="260";w.g.LOGIC_HUE="210";w.g.VARIABLES_HUE="330";w.g.TEXTS_HUE="160";w.g.PROCEDURES_HUE="290";w.g.COLOUR_HUE="20";w.g.VARIABLES_DYNAMIC_HUE="310";var V={md:null,I:function(){zm();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=T("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=T("Games_linkAlert"),BlocklyStorage.HASH_ERROR=T("Games_hashError"),BlocklyStorage.XML_ERROR=T("Games_xmlError"),BlocklyStorage.alert=U.su.bind(U,a),a&&Cm(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",V.rw,!0);w.F&&(w.F.Hv=!1);w.i&&
(w.i.Hv=!1)},gt:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var c=null;try{c=window.sessionStorage.ht}catch(h){}c&&delete window.sessionStorage.ht;var e=Am(S),f=b&&Am(S-1);f&&"function"==typeof b&&(f=b(f));(a=c||e||f||a)&&V.cu(a)}},cu:function(a){V.md?V.md.setValue(a,-1):(a=w.w.dd(a),fl.clear(),w.w.Ke(a,fl),fl.Xn())},Lo:function(){if(V.md)var a=V.md.getValue();else{a=w.w.Fq(fl,!0);if(1==be(fl,!1).length&&
a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=w.w.Rc(a)}return a},sm:function(){return fl},az:function(){window.localStorage&&(window.localStorage["genetics"+S]=V.Lo())},wm:function(){window.location=(um?"index.html":"./")+"?lang="+sm},rw:function(){if(window.sessionStorage){if(V.md)var a=V.md.getValue();else a=w.w.Fq(fl),a=w.w.Rc(a);window.sessionStorage.ht=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);
var b=window.location.search;b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},Ap:function(){10>S?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+sm+"&level="+(S+1):V.wm()},Rs:function(a,b){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}var e=a;a=fl;if(void 0===b){for(var f=0;c=
a.kk[f];f++)c.ad(!1);a.kk.length=0}if(c=e?Nd(a,e):null)(b=void 0===b||b)?-1==a.kk.indexOf(c)&&a.kk.push(c):w.h.zj(a.kk,c),c.ad(b)},yA:function(a,b){a=document.getElementById(a);a.firstChild||(a=w.yg(a,{rtl:-1!=rm.indexOf(sm),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),w.w.Ke(w.w.dd(b),a))},jz:function(a){return a.replace(/(,\s*)?'block_id_[^']+'\)/g,")").replace(/[\s\xa0]+$/,"")},Me:function(a){if("click"==a.type&&"touchend"==V.Me.Rp&&V.Me.Pp+2E3>Date.now()||V.Me.Rp==a.type&&V.Me.Pp+400>Date.now())return a.preventDefault(),
a.stopPropagation(),!0;V.Me.Rp=a.type;V.Me.Pp=Date.now();return!1}};V.Me.Rp=null;V.Me.Pp=0;V.Xx=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compiled.js");document.head.appendChild(a)};
V.xA=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=V;V.setCode=V.cu;V.getCode=V.Lo;V.getWorkspace=V.sm;var U={Bh:!1,ns:null,Yl:null,Rk:function(a,b,c,e,f,h){function k(){U.Bh&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);U.Bh&&U.Cd(!1);w.qg()&&w.$b(!0);U.Bh=!0;U.ns=b;U.Yl=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),U.mo=w.kc(e,"mousedown",null,U.Xw));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");c&&b?(U.Hm(b,!1,.2),U.Hm(l,!0,.8),setTimeout(k,175)):k()},os:0,ps:0,Xw:function(a){U.po();if(!w.h.Eg(a)){var b=document.getElementById("dialog");U.os=b.offsetLeft-a.clientX;U.ps=b.offsetTop-a.clientY;U.oo=w.kc(document,"mouseup",null,U.po);U.no=w.kc(document,"mousemove",null,U.Yw);a.stopPropagation()}},Yw:function(a){var b=document.getElementById("dialog"),
c=U.os+a.clientX;a=U.ps+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},po:function(){U.oo&&(w.Ea(U.oo),U.oo=null);U.no&&(w.Ea(U.no),U.no=null)},Cd:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(U.Bh){U.po();U.mo&&(w.Ea(U.mo),U.mo=null);U.Bh=!1;U.Yl&&U.Yl();U.Yl=null;var c=!1===a?
null:U.ns;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;c&&a?(U.Hm(a,!1,.8),U.Hm(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=document.getElementById("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.className+=" dialogHiddenContent",document.body.appendChild(c)}},Hm:function(a,b,c){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=c}if(a){var f=document.getElementById("dialogBorder"),h=U.px(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},px:function(a){var b=qh(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},su:function(a,b){var c=document.getElementById("containerStorage");c.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));c.appendChild(f)}c=document.getElementById("dialogStorage");U.Rk(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},U.qu);U.lu()},Wv:function(){if(!Am(S))if(U.Bh||fl.Kb())setTimeout(U.Wv,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",U.Cd,!0);b.addEventListener("touchend",U.Cd,!0);b=document.getElementById("abortOk");b.addEventListener("click",V.wm,!0);b.addEventListener("touchend",
V.wm,!0);U.Rk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.kr,!0)});document.body.addEventListener("keydown",U.kr,!0)}},iu:function(){document.getElementById("galleryXml").value=V.Lo();var a=document.getElementById("galleryDialog");if(!U.iu.$y){var b=document.getElementById("galleryCancel");b.addEventListener("click",U.Cd,!0);b.addEventListener("touchend",U.Cd,!0);b=document.getElementById("galleryOk");b.addEventListener("click",U.Io,!0);
b.addEventListener("touchend",U.Io,!0);U.iu.$y=!0}b=document.getElementById("submitButton");U.Rk(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.Cs,!0)});document.body.addEventListener("keydown",U.Cs,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},Ew:function(){var a=document.getElementById("dialogDone");if(fl){var b=document.getElementById("dialogLinesText");b.textContent="";var c=el();c=V.jz(c);var e=c.replace(/\/\/[^\n]*/g,
"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=c;"function"==typeof prettyPrintOne&&(c=f.innerHTML,c=prettyPrintOne(c,"js"),f.innerHTML=c);c=1==e?T("Games_linesOfCode1"):T("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(c))}c=10>S?T("Games_nextLevel").replace("%1",String(S+1)):T("Games_finalLevel");b=document.getElementById("doneCancel");
b.addEventListener("click",U.Cd,!0);b.addEventListener("touchend",U.Cd,!0);b=document.getElementById("doneOk");b.addEventListener("click",V.Ap,!0);b.addEventListener("touchend",V.Ap,!0);U.Rk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.Lr,!0)});document.body.addEventListener("keydown",U.Lr,!0);document.getElementById("dialogDoneText").textContent=c},ls:function(a){!U.Bh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(U.Cd(!0),a.stopPropagation(),
a.preventDefault())},lu:function(){document.body.addEventListener("keydown",U.ls,!0)},qu:function(){document.body.removeEventListener("keydown",U.ls,!0)},Lr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)U.Cd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&V.Ap()},kr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)U.Cd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&V.wm()},Cs:function(a){27==a.keyCode?U.Cd(!0):13==a.keyCode&&U.Io()},Io:function(){var a=
document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],c=0,e;e=a.elements[c];c++)e.name&&(b[c]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var h=200==f.status?T("Games_submitted"):T("Games_httpRequestError")+"\nStatus: "+f.status;U.su(null,h)}};f.send(b.join("&"));U.Cd(!0)}else a.value=
"",a.focus()}};window.BlocklyDialogs=U;U.hideDialog=U.Cd;
// Copyright 2012 Google Inc.  Apache License 2.0
w.i=new Mh;kl("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
w.i.eh=0;w.i.$z=1.1;w.i.bb=1.2;w.i.Pa=2;w.i.Yz=3;w.i.Uz=3;w.i.Qz=4.1;w.i.bA=4.2;w.i.uj=4.3;w.i.sj=4.4;w.i.aA=4.5;w.i.cA=4.6;w.i.Vz=4.7;w.i.Oz=4.8;w.i.Wz=5;w.i.En=5.1;w.i.rj=5.2;w.i.tj=5.3;w.i.oi=6.1;w.i.dg=6.2;w.i.Sz=7;w.i.Iv=8;w.i.Xz=8;w.i.Zz=8;w.i.Yq=9;w.i.Pz=10;w.i.Tz=11;w.i.Rz=12;w.i.Cn=13;w.i.Dn=14;w.i.Bl=15;w.i.sf=16;w.i.dA=17;w.i.Xb=18;w.i.tc=99;w.i.Cl=[[w.i.Pa,w.i.bb],[w.i.Pa,w.i.Pa],[w.i.bb,w.i.bb],[w.i.bb,w.i.Pa],[w.i.sj,w.i.sj],[w.i.En,w.i.En],[w.i.dg,w.i.dg],[w.i.Cn,w.i.Cn],[w.i.Dn,w.i.Dn]];
w.i.I=function(a){w.i.mg=Object.create(null);w.i.Ho=Object.create(null);w.i.Sa?w.i.Sa.reset():w.i.Sa=new nl;w.i.Sa.ya=a.ya;for(var b=[],c=w.G.Zv(a),e=0;e<c.length;e++)b.push(w.i.Sa.getName(c[e],"DEVELOPER_VARIABLE"));a=w.G.mr(a);for(e=0;e<a.length;e++)b.push(w.i.Sa.getName(a[e].$(),w.G.Ta));b.length&&(w.i.mg.variables="var "+b.join(", ")+";")};w.i.finish=function(a){var b=[],c;for(c in w.i.mg)b.push(w.i.mg[c]);delete w.i.mg;delete w.i.Ho;w.i.Sa.reset();return b.join("\n\n")+"\n\n\n"+a};
w.i.au=function(a){return a+";\n"};w.i.CA=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
w.i.Nk=function(a,b,c){var e="";if(!a.M||!a.M.ga){var f=a.gm();(f=w.h.Lu(f,w.i.Ru-3))&&(e=a.Hf?e+("/**\n"+hl(f+"\n"," * ")+" */\n"):e+hl(f+"\n","// "));for(var h=0;h<a.S.length;h++)if(a.S[h].type==w.Na){var k=D(a.S[h].connection);if(k){f=[];k=qd(k,!0);for(var l=0;l<k.length;l++){var m=k[l].gm();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=hl(f,"// "))}}}a=a.L&&D(a.L);c=c?"":gl(w.i,a);return e+b+c};
w.i.Pe=function(a,b,c,e,f){c=c||0;f=f||w.i.tc;a.o.options.ge&&c--;var h=a.o.options.ge?"1":"0";a=0<c?Q(a,b,w.i.dg)||h:0>c?Q(a,b,w.i.oi)||h:e?Q(a,b,w.i.uj)||h:Q(a,b,f)||h;if(w.Dg(a))a=parseFloat(a)+c,e&&(a=-a);else{if(0<c){a=a+" + "+c;var k=w.i.dg}else 0>c&&(a=a+" - "+-c,k=w.i.oi);e&&(a=c?"-("+a+")":"-"+a,k=w.i.uj);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};w.F.rp={};w.X={};w.X.Bv={};w.X.Bv.yl=260;
w.yi([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
w.F.lists_create_with={I:function(){this.Za=w.g.LISTS_CREATE_WITH_HELPURL;Oh(this,"list_blocks");this.Xc=3;this.ic();this.bd(!0,"Array");this.Vg(new ih(["lists_create_with_item"]));this.qa(w.g.LISTS_CREATE_WITH_TOOLTIP)},Da:function(){var a=document.createElement("mutation");a.setAttribute("items",this.Xc);return a},Ya:function(a){this.Xc=parseInt(a.getAttribute("items"),10);this.ic()},Bf:function(a){var b=a.Ze("lists_create_with_container");b.Bc();for(var c=E(b,"STACK").connection,e=0;e<this.Xc;e++){var f=
a.Ze("lists_create_with_item");f.Bc();c.connect(f.T);c=f.L}return b},Af:function(a){var b=Th(a,"STACK");for(a=[];b;)a.push(b.Eq),b=b.L&&D(b.L);for(b=0;b<this.Xc;b++){var c=E(this,"ADD"+b).connection.ga;c&&-1==a.indexOf(c)&&c.disconnect()}this.Xc=a.length;this.ic();for(b=0;b<this.Xc;b++)jh(a[b],this,"ADD"+b)},fn:function(a){a=Th(a,"STACK");for(var b=0;a;){var c=E(this,"ADD"+b);a.Eq=c&&c.connection.ga;b++;a=a.L&&D(a.L)}},ic:function(){this.Xc&&E(this,"EMPTY")?this.Ja("EMPTY"):this.Xc||E(this,"EMPTY")||
J(N(this,"EMPTY"),w.g.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.Xc;a++)if(!E(this,"ADD"+a)){var b=M(this,"ADD"+a);0==a&&J(b,w.g.LISTS_CREATE_WITH_INPUT_WITH)}for(;E(this,"ADD"+a);)this.Ja("ADD"+a),a++}};w.F.lists_create_with_container={I:function(){Oh(this,"list_blocks");J(N(this),w.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);Qh(this,"STACK");this.qa(w.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
w.F.lists_create_with_item={I:function(){Oh(this,"list_blocks");J(N(this),w.g.LISTS_CREATE_WITH_ITEM_TITLE);this.Ed(!0);this.Dd(!0);this.qa(w.g.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
w.F.lists_indexOf={I:function(){var a=[[w.g.LISTS_INDEX_OF_FIRST,"FIRST"],[w.g.LISTS_INDEX_OF_LAST,"LAST"]];this.Za=w.g.LISTS_INDEX_OF_HELPURL;Oh(this,"list_blocks");this.bd(!0,"Number");J(M(this,"VALUE").Ka("Array"),w.g.LISTS_INDEX_OF_INPUT_IN_LIST);J(M(this,"FIND"),new K(a),"END");this.gc(!0);var b=this;this.qa(function(){return w.g.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.o.options.ge?"0":"-1")})}};
w.F.lists_getIndex={I:function(){var a=[[w.g.LISTS_GET_INDEX_GET,"GET"],[w.g.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[w.g.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.Kn=[[w.g.LISTS_GET_INDEX_FROM_START,"FROM_START"],[w.g.LISTS_GET_INDEX_FROM_END,"FROM_END"],[w.g.LISTS_GET_INDEX_FIRST,"FIRST"],[w.g.LISTS_GET_INDEX_LAST,"LAST"],[w.g.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Za=w.g.LISTS_GET_INDEX_HELPURL;Oh(this,"list_blocks");a=new K(a,function(c){this.v.Cu("REMOVE"==c)});J(M(this,"VALUE").Ka("Array"),w.g.LISTS_GET_INDEX_INPUT_IN_LIST);
J(J(N(this),a,"MODE"),"","SPACE");N(this,"AT");w.g.LISTS_GET_INDEX_TAIL&&J(N(this,"TAIL"),w.g.LISTS_GET_INDEX_TAIL);this.gc(!0);this.bd(!0);this.Jd(!0);var b=this;this.qa(function(){var c=C(b,"MODE"),e=C(b,"WHERE"),f="";switch(c+" "+e){case "GET FROM_START":case "GET FROM_END":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;
break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":f=w.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":f=w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":f=w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;
break;case "REMOVE LAST":f=w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":f=w.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+("FROM_START"==e?w.g.LISTS_INDEX_FROM_START_TOOLTIP:w.g.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.o.options.ge?"#1":"#0");return f})},Da:function(){var a=document.createElement("mutation");a.setAttribute("statement",!this.M);a.setAttribute("at",E(this,"AT").type==w.Na);return a},Ya:function(a){var b="true"==a.getAttribute("statement");
this.Cu(b);a="false"!=a.getAttribute("at");this.Jd(a)},Cu:function(a){a!=!this.M&&(Zd(this,!0),a?(this.bd(!1),this.Ed(!0),this.Dd(!0)):(this.Ed(!1),this.Dd(!1),this.bd(!0)))},Jd:function(a){this.Ja("AT");this.Ja("ORDINAL",!0);a?(M(this,"AT").Ka("Number"),w.g.ORDINAL_NUMBER_SUFFIX&&J(N(this,"ORDINAL"),w.g.ORDINAL_NUMBER_SUFFIX)):N(this,"AT");var b=new K(this.Kn,function(c){var e="FROM_START"==c||"FROM_END"==c;if(e!=a){var f=this.v;f.Jd(e);wf(f,c,"WHERE");return null}});J(E(this,"AT"),b,"WHERE");w.g.LISTS_GET_INDEX_TAIL&&
Sh(this,"TAIL",null)}};
w.F.lists_setIndex={I:function(){var a=[[w.g.LISTS_SET_INDEX_SET,"SET"],[w.g.LISTS_SET_INDEX_INSERT,"INSERT"]];this.Kn=[[w.g.LISTS_GET_INDEX_FROM_START,"FROM_START"],[w.g.LISTS_GET_INDEX_FROM_END,"FROM_END"],[w.g.LISTS_GET_INDEX_FIRST,"FIRST"],[w.g.LISTS_GET_INDEX_LAST,"LAST"],[w.g.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Za=w.g.LISTS_SET_INDEX_HELPURL;Oh(this,"list_blocks");J(M(this,"LIST").Ka("Array"),w.g.LISTS_SET_INDEX_INPUT_IN_LIST);J(J(N(this),new K(a),"MODE"),"","SPACE");N(this,"AT");J(M(this,
"TO"),w.g.LISTS_SET_INDEX_INPUT_TO);this.gc(!0);this.Ed(!0);this.Dd(!0);this.qa(w.g.LISTS_SET_INDEX_TOOLTIP);this.Jd(!0);var b=this;this.qa(function(){var c=C(b,"MODE"),e=C(b,"WHERE"),f="";switch(c+" "+e){case "SET FROM_START":case "SET FROM_END":f=w.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":f=w.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":f=w.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":f=w.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":f=
w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":f=w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":f=w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":f=w.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+w.g.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.o.options.ge?"#1":"#0");return f})},Da:function(){var a=document.createElement("mutation");a.setAttribute("at",E(this,"AT").type==w.Na);return a},Ya:function(a){a=
"false"!=a.getAttribute("at");this.Jd(a)},Jd:function(a){this.Ja("AT");this.Ja("ORDINAL",!0);a?(M(this,"AT").Ka("Number"),w.g.ORDINAL_NUMBER_SUFFIX&&J(N(this,"ORDINAL"),w.g.ORDINAL_NUMBER_SUFFIX)):N(this,"AT");var b=new K(this.Kn,function(c){var e="FROM_START"==c||"FROM_END"==c;if(e!=a){var f=this.v;f.Jd(e);wf(f,c,"WHERE");return null}});Sh(this,"AT","TO");E(this,"ORDINAL")&&Sh(this,"ORDINAL","TO");J(E(this,"AT"),b,"WHERE")}};
w.F.lists_getSublist={I:function(){this.WHERE_OPTIONS_1=[[w.g.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[w.g.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[w.g.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[w.g.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[w.g.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[w.g.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.Za=w.g.LISTS_GET_SUBLIST_HELPURL;Oh(this,"list_blocks");J(M(this,"LIST").Ka("Array"),w.g.LISTS_GET_SUBLIST_INPUT_IN_LIST);N(this,
"AT1");N(this,"AT2");w.g.LISTS_GET_SUBLIST_TAIL&&J(N(this,"TAIL"),w.g.LISTS_GET_SUBLIST_TAIL);this.gc(!0);this.bd(!0,"Array");this.Jd(1,!0);this.Jd(2,!0);this.qa(w.g.LISTS_GET_SUBLIST_TOOLTIP)},Da:function(){var a=document.createElement("mutation");a.setAttribute("at1",E(this,"AT1").type==w.Na);a.setAttribute("at2",E(this,"AT2").type==w.Na);return a},Ya:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Jd(1,b);this.Jd(2,a)},Jd:function(a,b){this.Ja("AT"+a);this.Ja("ORDINAL"+
a,!0);b?(M(this,"AT"+a).Ka("Number"),w.g.ORDINAL_NUMBER_SUFFIX&&J(N(this,"ORDINAL"+a),w.g.ORDINAL_NUMBER_SUFFIX)):N(this,"AT"+a);var c=new K(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=b){var h=this.v;h.Jd(a,f);wf(h,e,"WHERE"+a);return null}});J(E(this,"AT"+a),c,"WHERE"+a);1==a&&(Sh(this,"AT1","AT2"),E(this,"ORDINAL1")&&Sh(this,"ORDINAL1","AT2"));w.g.LISTS_GET_SUBLIST_TAIL&&Sh(this,"TAIL",null)}};
w.F.lists_sort={I:function(){Rh(this,{message0:w.g.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[w.g.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[w.g.LISTS_SORT_TYPE_TEXT,"TEXT"],[w.g.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[w.g.LISTS_SORT_ORDER_ASCENDING,"1"],[w.g.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:w.g.LISTS_SORT_TOOLTIP,helpUrl:w.g.LISTS_SORT_HELPURL})}};
w.F.lists_split={I:function(){var a=this,b=new K([[w.g.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[w.g.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(c){a.Yg(c)});this.Za=w.g.LISTS_SPLIT_HELPURL;Oh(this,"list_blocks");J(M(this,"INPUT").Ka("String"),b,"MODE");J(M(this,"DELIM").Ka("String"),w.g.LISTS_SPLIT_WITH_DELIMITER);this.gc(!0);this.bd(!0,"Array");this.qa(function(){var c=C(a,"MODE");if("SPLIT"==c)return w.g.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==c)return w.g.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+
c);})},Yg:function(a){if(C(this,"MODE")!=a){wf(this,a,"MODE");var b=E(this,"INPUT").connection;b.ze=null;var c=D(b);c&&(b.disconnect(),c.Oa?c.B():this.mb())}"SPLIT"==a?(this.M.Ka("Array"),E(this,"INPUT").Ka("String")):(this.M.Ka("String"),E(this,"INPUT").Ka("Array"))},Da:function(){var a=document.createElement("mutation");a.setAttribute("mode",C(this,"MODE"));return a},Ya:function(a){this.Yg(a.getAttribute("mode"))}};w.F.ly={};w.X.Jc={};w.X.Jc.yl=210;
w.yi([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
w.yi([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);w.X.Jc.Jn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};w.P.register("logic_op_tooltip",w.P.Il("OP",w.X.Jc.Jn));
w.X.Jc.Nq={nd:0,Wd:0,Da:function(){if(!this.nd&&!this.Wd)return null;var a=document.createElement("mutation");this.nd&&a.setAttribute("elseif",this.nd);this.Wd&&a.setAttribute("else",1);return a},Ya:function(a){this.nd=parseInt(a.getAttribute("elseif"),10)||0;this.Wd=parseInt(a.getAttribute("else"),10)||0;this.Xy()},Bf:function(a){var b=a.Ze("controls_if_if");b.Bc();for(var c=b.L,e=1;e<=this.nd;e++){var f=a.Ze("controls_if_elseif");f.Bc();c.connect(f.T);c=f.L}this.Wd&&(a=a.Ze("controls_if_else"),
a.Bc(),c.connect(a.T));return b},Af:function(a){a=D(a.L);this.Wd=this.nd=0;for(var b=[null],c=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.nd++;b.push(a.Eq);c.push(a.Ae);break;case "controls_if_else":this.Wd++;e=a.Ae;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.L&&D(a.L)}this.ic();this.Vt(b,c,e)},fn:function(a){a=D(a.L);for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=E(this,"IF"+b),e=E(this,"DO"+b);a.Eq=c&&c.connection.ga;a.Ae=e&&e.connection.ga;
b++;break;case "controls_if_else":e=E(this,"ELSE");a.Ae=e&&e.connection.ga;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.L&&D(a.L)}},Xy:function(){var a=[null],b=[null],c=null;E(this,"ELSE")&&(c=E(this,"ELSE").connection.ga);for(var e=1;E(this,"IF"+e);){var f=E(this,"DO"+e);a.push(E(this,"IF"+e).connection.ga);b.push(f.connection.ga);e++}this.ic();this.Vt(a,b,c)},ic:function(){E(this,"ELSE")&&this.Ja("ELSE");for(var a=1;E(this,"IF"+a);)this.Ja("IF"+a),this.Ja("DO"+a),a++;for(a=
1;a<=this.nd;a++)J(M(this,"IF"+a).Ka("Boolean"),w.g.CONTROLS_IF_MSG_ELSEIF),J(Qh(this,"DO"+a),w.g.CONTROLS_IF_MSG_THEN);this.Wd&&J(Qh(this,"ELSE"),w.g.CONTROLS_IF_MSG_ELSE)},Vt:function(a,b,c){for(var e=1;e<=this.nd;e++)jh(a[e],this,"IF"+e),jh(b[e],this,"DO"+e);jh(c,this,"ELSE")}};w.P.Xp("controls_if_mutator",w.X.Jc.Nq,null,["controls_if_elseif","controls_if_else"]);
w.X.Jc.Oq=function(){this.qa(function(){if(this.nd||this.Wd){if(!this.nd&&this.Wd)return w.g.CONTROLS_IF_TOOLTIP_2;if(this.nd&&!this.Wd)return w.g.CONTROLS_IF_TOOLTIP_3;if(this.nd&&this.Wd)return w.g.CONTROLS_IF_TOOLTIP_4}else return w.g.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};w.P.register("controls_if_tooltip",w.X.Jc.Oq);
w.X.Jc.xv={onchange:function(a){this.Zi||(this.Zi=[null,null]);var b=Th(this,"A"),c=Th(this,"B");b&&c&&!Se(b.M,c.M)&&(w.j.N(a.group),a=this.Zi[0],a!==b&&(Zd(b),a&&!a.Oa&&E(this,"A").connection.connect(a.M)),b=this.Zi[1],b!==c&&(Zd(c),b&&!b.Oa&&E(this,"B").connection.connect(b.M)),this.mb(),w.j.N(!1));this.Zi[0]=Th(this,"A");this.Zi[1]=Th(this,"B")}};w.X.Jc.wv=function(){lh(this,w.X.Jc.xv)};w.P.register("logic_compare",w.X.Jc.wv);
w.X.Jc.yv={Ot:null,onchange:function(a){var b=Th(this,"THEN"),c=Th(this,"ELSE"),e=this.M.ga;if((b||c)&&e)for(var f=0;2>f;f++){var h=1==f?b:c;h&&!Se(h.M,e)&&(w.j.N(a.group),e===this.Ot?(Zd(this),e.v.mb()):(Zd(h),h.mb()),w.j.N(!1))}this.Ot=e}};w.P.Xm("logic_ternary",w.X.Jc.yv);w.F.oy={};w.X.rf={};w.X.rf.yl=120;
w.yi([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);w.X.rf.Sv={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};w.P.register("controls_whileUntil_tooltip",w.P.Il("MODE",w.X.rf.Sv));w.X.rf.Ou={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};w.P.register("controls_flow_tooltip",w.P.Il("FLOW",w.X.rf.Ou));
w.X.rf.Wu={Ie:function(a){if(!this.xb){var b=Wd(this,"VAR").lc(),c=b.name;if(!this.isCollapsed()&&null!=c){var e={enabled:!0};e.text=w.g.VARIABLES_SET_CREATE_GET.replace("%1",c);b=w.G.Es(b);c=document.createElement("block");c.setAttribute("type","variables_get");c.appendChild(b);e.Wa=w.ba.Cj(this,c);a.push(e)}}}};w.P.Xm("contextMenu_newGetVariableBlock",w.X.rf.Wu);w.P.register("controls_for_tooltip",w.P.Sn("%{BKY_CONTROLS_FOR_TOOLTIP}"));w.P.register("controls_forEach_tooltip",w.P.Sn("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
w.X.rf.Uu={Av:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],onchange:function(){if(this.o.Kb&&!this.o.Kb()){var a=!1,b=this;do{if(-1!=this.Av.indexOf(b.type)){a=!0;break}b=Nh(b)}while(b);a?(this.Vf(null),this.xb||this.rd(!1)):(this.Vf(w.g.CONTROLS_FLOW_STATEMENTS_WARNING),this.xb||Ph(this)||this.rd(!0))}}};w.P.Xm("controls_flow_in_loop_check",w.X.rf.Uu);w.F.py={};w.X.Math={};w.X.Math.yl=230;
w.yi([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
w.X.Math.Jn={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
w.P.register("math_op_tooltip",w.P.Il("OP",w.X.Math.Jn));w.X.Math.qv={Da:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==C(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Ya:function(a){a="true"==a.getAttribute("divisor_input");this.ic(a)},ic:function(a){var b=E(this,"DIVISOR");a?b||M(this,"DIVISOR").Ka("Number"):b&&this.Ja("DIVISOR")}};w.X.Math.rv=function(){Eh(Wd(this,"PROPERTY"),function(a){this.v.ic("DIVISIBLE_BY"==a)})};
w.P.Xp("math_is_divisibleby_mutator",w.X.Math.qv,w.X.Math.rv);w.P.register("math_change_tooltip",w.P.Sn("%{BKY_MATH_CHANGE_TOOLTIP}"));w.X.Math.vv={Yg:function(a){"MODE"==a?this.M.Ka("Array"):this.M.Ka("Number")},Da:function(){var a=document.createElement("mutation");a.setAttribute("op",C(this,"OP"));return a},Ya:function(a){this.Yg(a.getAttribute("op"))}};w.X.Math.uv=function(){Eh(Wd(this,"OP"),function(a){this.Yg(a)}.bind(this))};w.P.Xp("math_modes_of_list_mutator",w.X.Math.vv,w.X.Math.uv);w.F.Wy={};
w.F.procedures_defnoreturn={I:function(){var a=new qk("",w.pa.Ym);a.kn=!1;J(J(J(N(this),w.g.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.Vg(new ih(["procedures_mutatorarg"]));(this.o.options.Fj||this.o.options.Mb&&this.o.options.Mb.options.Fj)&&w.g.PROCEDURES_DEFNORETURN_COMMENT&&this.Qf(w.g.PROCEDURES_DEFNORETURN_COMMENT);Oh(this,"procedure_blocks");this.qa(w.g.PROCEDURES_DEFNORETURN_TOOLTIP);this.Za=w.g.PROCEDURES_DEFNORETURN_HELPURL;this.ca=[];this.vb=[];this.df(!0);this.Ae=null},
df:function(a){this.vm!==a&&(a?(J(Qh(this,"STACK"),w.g.PROCEDURES_DEFNORETURN_DO),E(this,"RETURN")&&Sh(this,"STACK","RETURN")):this.Ja("STACK",!0),this.vm=a)},kl:function(){var a="";this.ca.length&&(a=w.g.PROCEDURES_BEFORE_PARAMS+" "+this.ca.join(", "));w.j.disable();try{wf(this,a,"PARAMS")}finally{w.j.enable()}},Da:function(a){var b=document.createElement("mutation");a&&b.setAttribute("name",C(this,"NAME"));for(var c=0;c<this.vb.length;c++){var e=document.createElement("arg"),f=this.vb[c];e.setAttribute("name",
f.name);e.setAttribute("varid",f.$());a&&this.Jp&&e.setAttribute("paramId",this.Jp[c]);b.appendChild(e)}this.vm||b.setAttribute("statements","false");return b},Ya:function(a){this.ca=[];this.vb=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var e=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.ca.push(e);c=w.G.mm(this.o,c,e,"");null!=c?this.vb.push(c):console.log("Failed to create a variable with name "+e+", ignoring.")}this.kl();w.pa.Fk(this);
this.df("false"!==a.getAttribute("statements"))},Bf:function(a){var b=a.Ze("procedures_mutatorcontainer");b.Bc();E(this,"RETURN")?wf(b,this.vm?"TRUE":"FALSE","STATEMENTS"):E(b,"STATEMENT_INPUT").sa(!1);for(var c=E(b,"STACK").connection,e=0;e<this.ca.length;e++){var f=a.Ze("procedures_mutatorarg");f.Bc();wf(f,this.ca[e],"NAME");f.AA=e;c.connect(f.T);c=f.L}w.pa.Fk(this);return b},Af:function(a){this.ca=[];this.Jp=[];this.vb=[];for(var b=Th(a,"STACK");b;){var c=C(b,"NAME");this.ca.push(c);var e=this.o.lc(c,
"");null!=e?this.vb.push(e):console.log("Failed to get variable named "+c+", ignoring.");this.Jp.push(b.id);b=b.L&&D(b.L)}this.kl();w.pa.Fk(this);a=C(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.vm!=a))if(a)this.df(!0),jh(this.Ae,this,"STACK"),this.Ae=null;else{a=E(this,"STACK").connection;if(this.Ae=a.ga)a=D(a),Zd(a),a.mb();this.df(!1)}},Hf:function(){return[C(this,"NAME"),this.ca,!1]},rm:function(){return this.ca},If:function(){return this.vb},Mk:function(a,b){var c=this.o.qe(a);if(""==c.type){c=
c.name;b=this.o.qe(b);for(var e=!1,f=0;f<this.vb.length;f++)this.vb[f].$()==a&&(this.ca[f]=b.name,this.vb[f]=b,e=!0);e&&(this.$l(c,b.name),w.pa.Fk(this))}},rn:function(a){for(var b=a.name,c=!1,e=0;e<this.vb.length;e++)if(this.vb[e].$()==a.$()){var f=this.ca[e];this.ca[e]=b;c=!0}c&&(this.$l(f,b),w.pa.Fk(this))},$l:function(a,b){this.kl();if(this.$c.isVisible())for(var c=B(this.$c.m,!1),e=0,f;f=c[e];e++)"procedures_mutatorarg"==f.type&&Ud(a,C(f,"NAME"))&&wf(f,b,"NAME")},Ie:function(a){if(!this.xb){var b=
{enabled:!0},c=C(this,"NAME");b.text=w.g.PROCEDURES_CREATE_DO.replace("%1",c);var e=document.createElement("mutation");e.setAttribute("name",c);for(var f=0;f<this.ca.length;f++)c=document.createElement("arg"),c.setAttribute("name",this.ca[f]),e.appendChild(c);c=document.createElement("block");c.setAttribute("type",this.wr);c.appendChild(e);b.Wa=w.ba.Cj(this,c);a.push(b);if(!this.isCollapsed())for(f=0;f<this.vb.length;f++)b={enabled:!0},e=this.vb[f],c=e.name,b.text=w.g.VARIABLES_SET_CREATE_GET.replace("%1",
c),e=w.G.Es(e),c=document.createElement("block"),c.setAttribute("type","variables_get"),c.appendChild(e),b.Wa=w.ba.Cj(this,c),a.push(b)}},wr:"procedures_callnoreturn"};
w.F.procedures_defreturn={I:function(){var a=new qk("",w.pa.Ym);a.kn=!1;J(J(J(N(this),w.g.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");J(Lh(M(this,"RETURN"),w.ah),w.g.PROCEDURES_DEFRETURN_RETURN);this.Vg(new ih(["procedures_mutatorarg"]));(this.o.options.Fj||this.o.options.Mb&&this.o.options.Mb.options.Fj)&&w.g.PROCEDURES_DEFRETURN_COMMENT&&this.Qf(w.g.PROCEDURES_DEFRETURN_COMMENT);Oh(this,"procedure_blocks");this.qa(w.g.PROCEDURES_DEFRETURN_TOOLTIP);this.Za=w.g.PROCEDURES_DEFRETURN_HELPURL;
this.ca=[];this.vb=[];this.df(!0);this.Ae=null},df:w.F.procedures_defnoreturn.df,kl:w.F.procedures_defnoreturn.kl,Da:w.F.procedures_defnoreturn.Da,Ya:w.F.procedures_defnoreturn.Ya,Bf:w.F.procedures_defnoreturn.Bf,Af:w.F.procedures_defnoreturn.Af,Hf:function(){return[C(this,"NAME"),this.ca,!0]},rm:w.F.procedures_defnoreturn.rm,If:w.F.procedures_defnoreturn.If,Mk:w.F.procedures_defnoreturn.Mk,rn:w.F.procedures_defnoreturn.rn,$l:w.F.procedures_defnoreturn.$l,Ie:w.F.procedures_defnoreturn.Ie,wr:"procedures_callreturn"};
w.F.procedures_mutatorcontainer={I:function(){J(N(this),w.g.PROCEDURES_MUTATORCONTAINER_TITLE);Qh(this,"STACK");J(J(N(this,"STATEMENT_INPUT"),w.g.PROCEDURES_ALLOW_STATEMENTS),new Tk("TRUE"),"STATEMENTS");Oh(this,"procedure_blocks");this.qa(w.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1},onchange:function(a){if(this.o&&!this.o.fe&&(a.type==w.j.ol||a.type==w.j.mj)){var b=B(this.o),c=this.o.Qe();if(a.type==w.j.ol){a=[];for(var e=0;e<b.length;e+=1)C(b[e],"NAME")&&a.push(C(b[e],"NAME"));
for(b=0;b<c.length;b+=1)-1==a.indexOf(c[b].name)&&this.o.Je(c[b].$())}else if(a.type==w.j.mj&&(c=Nd(this.o,a.Qb),Wd(c,"NAME")&&(e=C(c,"NAME"),(a=this.o.lc(e))||(a=this.o.Pc(e)),!c.T.isConnected()&&!c.L.isConnected())))for(e=0;e<b.length;e+=1)if(c.id!=b[e].id&&C(b[e],"NAME")==a.name){e=w.G.Ds(this.o);a=this.o.Pc(e);wf(c,a.name,"NAME");break}}}};
w.F.procedures_mutatorarg={I:function(){var a=new qk("x",this.bi);a.By=a.ef;a.ef=function(){this.Lj=[];this.By()};J(J(N(this),w.g.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Ed(!0);this.Dd(!0);Oh(this,"procedure_blocks");this.qa(w.g.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Ep=this.Sw;a.Lj=[];a.Ep("x")},bi:function(a){var b=kh(this.v.o);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var c=B(this.v.o),e=0;e<c.length;e+=1)if(c[e].id!=this.v.id&&C(c[e],"NAME")==a)return null;
(c=b.lc(a,""))&&c.name!=a&&b.Mk(c.$(),a);c||(c=b.Pc(a,""))&&this.Lj&&this.Lj.push(c);return a},Sw:function(a){var b=kh(this.v.o);if(b)for(var c=0;c<this.Lj.length;c++){var e=this.Lj[c];e.name!=a&&b.Je(e.$())}}};
w.F.procedures_callnoreturn={I:function(){J(N(this,"TOPROW"),this.id,"NAME");this.Ed(!0);this.Dd(!0);Oh(this,"procedure_blocks");this.Za=w.g.PROCEDURES_CALLNORETURN_HELPURL;this.ca=[];this.vb=[];this.Lf={};this.bf=null;this.Qp=!1},Ad:function(){return C(this,"NAME")},Lk:function(a,b){Ud(a,this.Ad())&&(wf(this,b,"NAME"),this.qa((this.M?w.g.PROCEDURES_CALLRETURN_TOOLTIP:w.g.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},nq:function(a,b){var c=w.pa.Xj(this.Ad(),this.o),e=c&&c.$c&&c.$c.isVisible();
e||(this.Lf={},this.bf=null);if(b)if(a.join("\n")==this.ca.join("\n"))this.bf=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Sg(!1);this.bf||(this.Lf={},this.bf=[]);c=this.O;this.O=!1;for(var f=0;f<this.ca.length;f++){var h=E(this,"ARG"+f);h&&(h=h.connection.ga,this.Lf[this.bf[f]]=h,e&&h&&-1==b.indexOf(this.bf[f])&&(h.disconnect(),h.v.mb()))}this.ca=[].concat(a);this.vb=[];for(f=0;f<this.ca.length;f++)a=w.G.mm(this.o,null,this.ca[f],""),this.vb.push(a);
this.ic();if(this.bf=b)for(f=0;f<this.ca.length;f++)b=this.bf[f],b in this.Lf&&(h=this.Lf[b],jh(h,this,"ARG"+f)||delete this.Lf[b]);(this.O=c)&&this.ea()}},ic:function(){for(var a=0;a<this.ca.length;a++){var b=Wd(this,"ARGNAME"+a);if(b){w.j.disable();try{b.setValue(this.ca[a])}finally{w.j.enable()}}else b=new Ih(this.ca[a]),J(Lh(M(this,"ARG"+a),w.ah),b,"ARGNAME"+a).I()}for(;E(this,"ARG"+a);)this.Ja("ARG"+a),a++;if(a=E(this,"TOPROW"))if(this.ca.length)Wd(this,"WITH")||(J(a,w.g.PROCEDURES_CALL_BEFORE_PARAMS,
"WITH"),a.I());else if(Wd(this,"WITH"))a:{b=0;for(var c;c=a.Ha[b];b++)if("WITH"===c.name){c.B();a.Ha.splice(b,1);a.v.O&&(a.v.ea(),a.v.mb());break a}throw Error('Field "%s" not found.',"WITH");}},Da:function(){var a=document.createElement("mutation");a.setAttribute("name",this.Ad());for(var b=0;b<this.ca.length;b++){var c=document.createElement("arg");c.setAttribute("name",this.ca[b]);a.appendChild(c)}return a},Ya:function(a){var b=a.getAttribute("name");this.Lk(this.Ad(),b);b=[];for(var c=[],e=0,
f;f=a.childNodes[e];e++)"arg"==f.nodeName.toLowerCase()&&(b.push(f.getAttribute("name")),c.push(f.getAttribute("paramId")));this.nq(b,c)},If:function(){return this.vb},onchange:function(a){if(this.o&&!this.o.fe&&a.dc)if(a.type==w.j.mj&&-1!=a.vg.indexOf(this.id)){var b=this.Ad();b=w.pa.Xj(b,this.o);!b||b.type==this.lo&&JSON.stringify(b.ca)==JSON.stringify(this.ca)||(b=null);if(!b){w.j.N(a.group);a=document.createElement("xml");b=document.createElement("block");b.setAttribute("type",this.lo);var c=
this.wa(),e=c.y+2*w.Kc;b.setAttribute("x",c.x+w.Kc*(this.u?-1:1));b.setAttribute("y",e);c=this.Da();b.appendChild(c);c=document.createElement("field");c.setAttribute("name","NAME");c.appendChild(document.createTextNode(this.Ad()));b.appendChild(c);a.appendChild(b);w.w.Ke(a,this.o);w.j.N(!1)}}else a.type==w.j.ol?(b=this.Ad(),b=w.pa.Xj(b,this.o),b||(w.j.N(a.group),this.B(!0,!1),w.j.N(!1))):a.type==w.j.bh&&"disabled"==a.element&&(b=this.Ad(),(b=w.pa.Xj(b,this.o))&&b.id==a.Qb&&((b=w.j.Ib())&&console.log("Saw an existing group while responding to a definition change"),
w.j.N(a.group),a.newValue?(this.Qp=this.disabled,this.rd(!0)):this.rd(this.Qp),w.j.N(b)))},Ie:function(a){if(this.o.Lb()){var b={enabled:!0};b.text=w.g.PROCEDURES_HIGHLIGHT_DEF;var c=this.Ad(),e=this.o;b.Wa=function(){var f=w.pa.Xj(c,e);if(f){if(e.Lb()){var h=Nd(e,f.id);if(h){var k=h.wa(),l=h.Yb(),m=e.scale;h=(k.x+(e.u?-1:1)*l.width/2)*m;k=(k.y+l.height/2)*m;l=e.qb();h=-(h-l.Sb-l.Ba/2)-l.Sb;k=-(k-l.Fb-l.Fa/2)-l.Fb;w.$b();e.scroll(h,k)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");
f.select()}};a.push(b)}},lo:"procedures_defnoreturn"};
w.F.procedures_callreturn={I:function(){J(N(this,"TOPROW"),"","NAME");this.bd(!0);Oh(this,"procedure_blocks");this.Za=w.g.PROCEDURES_CALLRETURN_HELPURL;this.ca=[];this.Lf={};this.bf=null;this.Qp=!1},Ad:w.F.procedures_callnoreturn.Ad,Lk:w.F.procedures_callnoreturn.Lk,nq:w.F.procedures_callnoreturn.nq,ic:w.F.procedures_callnoreturn.ic,Da:w.F.procedures_callnoreturn.Da,Ya:w.F.procedures_callnoreturn.Ya,If:w.F.procedures_callnoreturn.If,onchange:w.F.procedures_callnoreturn.onchange,Ie:w.F.procedures_callnoreturn.Ie,
lo:"procedures_defreturn"};
w.F.procedures_ifreturn={I:function(){J(M(this,"CONDITION").Ka("Boolean"),w.g.CONTROLS_IF_MSG_IF);J(M(this,"VALUE"),w.g.PROCEDURES_DEFRETURN_RETURN);this.gc(!0);this.Ed(!0);this.Dd(!0);Oh(this,"procedure_blocks");this.qa(w.g.PROCEDURES_IFRETURN_TOOLTIP);this.Za=w.g.PROCEDURES_IFRETURN_HELPURL;this.tg=!0},Da:function(){var a=document.createElement("mutation");a.setAttribute("value",Number(this.tg));return a},Ya:function(a){this.tg=1==a.getAttribute("value");this.tg||(this.Ja("VALUE"),J(N(this,"VALUE"),
w.g.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.o.Kb&&!this.o.Kb()){var a=!1,b=this;do{if(-1!=this.gv.indexOf(b.type)){a=!0;break}b=Nh(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.tg?(this.Ja("VALUE"),J(N(this,"VALUE"),w.g.PROCEDURES_DEFRETURN_RETURN),this.tg=!1):"procedures_defreturn"!=b.type||this.tg||(this.Ja("VALUE"),J(M(this,"VALUE"),w.g.PROCEDURES_DEFRETURN_RETURN),this.tg=!0),this.Vf(null),this.xb||this.rd(!1)):(this.Vf(w.g.PROCEDURES_IFRETURN_WARNING),this.xb||Ph(this)||
this.rd(!0))}},gv:["procedures_defnoreturn","procedures_defreturn"]};w.F.zz={};w.X.G={};w.X.G.yl=330;
w.yi([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
w.X.G.Xu={Ie:function(a){if(!this.xb){if("variables_get"==this.type)var b="variables_set",c=w.g.VARIABLES_GET_CREATE_SET;else b="variables_get",c=w.g.VARIABLES_SET_CREATE_GET;var e={enabled:0<te(this.o)},f=Wd(this,"VAR").Jb();e.text=c.replace("%1",f);c=document.createElement("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(f));f=document.createElement("block");f.setAttribute("type",b);f.appendChild(c);e.Wa=w.ba.Cj(this,f);a.push(e)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:w.g.fA,enabled:!0,Wa:w.X.G.Kv(this)},f=Wd(this,"VAR").Jb(),e={text:w.g.Gz.replace("%1",f),enabled:!0,Wa:w.X.G.Zu(this)},a.unshift(b),a.unshift(e)}};w.X.G.Kv=function(a){return function(){var b=a.o,c=Wd(a,"VAR").lc();w.G.Zm(b,c)}};w.X.G.Zu=function(a){return function(){var b=a.o,c=Wd(a,"VAR").lc();b.Je(c.$());bh(b)}};w.P.Xm("contextMenu_variableSetterGetter",w.X.G.Xu);w.i.rp={};w.i.lists_create_empty=function(){return["[]",w.i.eh]};w.i.lists_create_with=function(a){for(var b=Array(a.Xc),c=0;c<a.Xc;c++)b[c]=Q(a,"ADD"+c,w.i.Xb)||"null";return["["+b.join(", ")+"]",w.i.eh]};w.i.lists_repeat=function(a){var b=ll("listsRepeat",["function "+w.i.Nd+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Q(a,"ITEM",w.i.Xb)||"null";a=Q(a,"NUM",w.i.Xb)||"0";return[b+"("+c+", "+a+")",w.i.Pa]};
w.i.lists_length=function(a){return[(Q(a,"VALUE",w.i.bb)||"[]")+".length",w.i.bb]};w.i.lists_isEmpty=function(a){return["!"+(Q(a,"VALUE",w.i.bb)||"[]")+".length",w.i.sj]};w.i.lists_indexOf=function(a){var b="FIRST"==C(a,"END")?"indexOf":"lastIndexOf",c=Q(a,"FIND",w.i.tc)||"''";b=(Q(a,"VALUE",w.i.bb)||"[]")+"."+b+"("+c+")";return a.o.options.ge?[b+" + 1",w.i.dg]:[b,w.i.Pa]};
w.i.lists_getIndex=function(a){var b=C(a,"MODE")||"GET",c=C(a,"WHERE")||"FROM_START",e=Q(a,"VALUE","RANDOM"==c?w.i.Xb:w.i.bb)||"[]";switch(c){case "FIRST":if("GET"==b)return[e+"[0]",w.i.bb];if("GET_REMOVE"==b)return[e+".shift()",w.i.bb];if("REMOVE"==b)return e+".shift();\n";break;case "LAST":if("GET"==b)return[e+".slice(-1)[0]",w.i.bb];if("GET_REMOVE"==b)return[e+".pop()",w.i.bb];if("REMOVE"==b)return e+".pop();\n";break;case "FROM_START":a=w.i.Pe(a,"AT");if("GET"==b)return[e+"["+a+"]",w.i.bb];if("GET_REMOVE"==
b)return[e+".splice("+a+", 1)[0]",w.i.Pa];if("REMOVE"==b)return e+".splice("+a+", 1);\n";break;case "FROM_END":a=w.i.Pe(a,"AT",1,!0);if("GET"==b)return[e+".slice("+a+")[0]",w.i.Pa];if("GET_REMOVE"==b)return[e+".splice("+a+", 1)[0]",w.i.Pa];if("REMOVE"==b)return e+".splice("+a+", 1);";break;case "RANDOM":e=ll("listsGetRandomItem",["function "+w.i.Nd+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];",
"  }","}"])+"("+e+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[e,w.i.Pa];if("REMOVE"==b)return e+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
w.i.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var k=ml(w.i.Sa,"tmpList",w.G.Ta),l="var "+k+" = "+c+";\n";c=k;return l}var c=Q(a,"LIST",w.i.bb)||"[]",e=C(a,"MODE")||"GET",f=C(a,"WHERE")||"FROM_START",h=Q(a,"TO",w.i.sf)||"null";switch(f){case "FIRST":if("SET"==e)return c+"[0] = "+h+";\n";if("INSERT"==e)return c+".unshift("+h+");\n";break;case "LAST":if("SET"==e)return a=b(),a+(c+"["+c+".length - 1] = "+h+";\n");if("INSERT"==e)return c+".push("+h+");\n";break;case "FROM_START":f=
w.i.Pe(a,"AT");if("SET"==e)return c+"["+f+"] = "+h+";\n";if("INSERT"==e)return c+".splice("+f+", 0, "+h+");\n";break;case "FROM_END":f=w.i.Pe(a,"AT",1,!1,w.i.oi);a=b();if("SET"==e)return a+(c+"["+c+".length - "+f+"] = "+h+";\n");if("INSERT"==e)return a+(c+".splice("+c+".length - "+f+", 0, "+h+");\n");break;case "RANDOM":a=b();f=ml(w.i.Sa,"tmpX",w.G.Ta);a+="var "+f+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==e)return a+(c+"["+f+"] = "+h+";\n");if("INSERT"==e)return a+(c+".splice("+f+
", 0, "+h+");\n")}throw Error("Unhandled combination (lists_setIndex).");};w.i.rp.ux=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
w.i.lists_getSublist=function(a){var b=Q(a,"LIST",w.i.bb)||"[]",c=C(a,"WHERE1"),e=C(a,"WHERE2");if("FIRST"==c&&"LAST"==e)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==e){switch(c){case "FROM_START":var f=w.i.Pe(a,"AT1");break;case "FROM_END":f=w.i.Pe(a,"AT1",1,!1,w.i.oi);f=b+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(e){case "FROM_START":a=w.i.Pe(a,"AT2",1);break;case "FROM_END":a=w.i.Pe(a,"AT2",0,!1,w.i.oi);
a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+f+", "+a+")"}else{f=w.i.Pe(a,"AT1");a=w.i.Pe(a,"AT2");var h=w.i.rp.ux,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=ll("subsequence"+k[c]+k[e],["function "+w.i.Nd+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+h("sequence",c,"at1")+";","  var end = "+h("sequence",e,
"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[b,w.i.Pa]};
w.i.lists_sort=function(a){var b=Q(a,"LIST",w.i.Pa)||"[]",c="1"===C(a,"DIRECTION")?1:-1;a=C(a,"TYPE");var e=ll("listsGetSortCompare",["function "+w.i.Nd+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return parseFloat(a) - parseFloat(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };",
"  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+e+'("'+a+'", '+c+"))",w.i.Pa]};w.i.lists_split=function(a){var b=Q(a,"INPUT",w.i.bb),c=Q(a,"DELIM",w.i.tc)||"''";a=C(a,"MODE");if("SPLIT"==a)b||(b="''"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw Error("Unknown mode: "+a);return[b+"."+a+"("+c+")",w.i.Pa]};w.i.lists_reverse=function(a){return[(Q(a,"LIST",w.i.Pa)||"[]")+".slice().reverse()",w.i.Pa]};w.i.ly={};w.i.controls_if=function(a){var b=0,c="";do{var e=Q(a,"IF"+b,w.i.tc)||"false";var f=il(a,"DO"+b);c+=(0<b?" else ":"")+"if ("+e+") {\n"+f+"}";++b}while(E(a,"IF"+b));E(a,"ELSE")&&(f=il(a,"ELSE"),c+=" else {\n"+f+"}");return c+"\n"};w.i.controls_ifelse=w.i.controls_if;w.i.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[C(a,"OP")],c="=="==b||"!="==b?w.i.Yq:w.i.Iv,e=Q(a,"A",c)||"0";a=Q(a,"B",c)||"0";return[e+" "+b+" "+a,c]};
w.i.logic_operation=function(a){var b="AND"==C(a,"OP")?"&&":"||",c="&&"==b?w.i.Cn:w.i.Dn,e=Q(a,"A",c);a=Q(a,"B",c);if(e||a){var f="&&"==b?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+b+" "+a,c]};w.i.logic_negate=function(a){var b=w.i.sj;return["!"+(Q(a,"BOOL",b)||"true"),b]};w.i.logic_boolean=function(a){return["TRUE"==C(a,"BOOL")?"true":"false",w.i.eh]};w.i.logic_null=function(){return["null",w.i.eh]};
w.i.logic_ternary=function(a){var b=Q(a,"IF",w.i.Bl)||"false",c=Q(a,"THEN",w.i.Bl)||"null";a=Q(a,"ELSE",w.i.Bl)||"null";return[b+" ? "+c+" : "+a,w.i.Bl]};w.i.oy={};w.i.controls_repeat_ext=function(a){var b=Wd(a,"TIMES")?String(Number(C(a,"TIMES"))):Q(a,"TIMES",w.i.sf)||"0",c=il(a,"DO");c=jl(c,a.id);a="";var e=ml(w.i.Sa,"count",w.G.Ta),f=b;b.match(/^\w+$/)||w.Dg(b)||(f=ml(w.i.Sa,"repeat_end",w.G.Ta),a+="var "+f+" = "+b+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+c+"}\n")};w.i.controls_repeat=w.i.controls_repeat_ext;
w.i.controls_whileUntil=function(a){var b="UNTIL"==C(a,"MODE"),c=Q(a,"BOOL",b?w.i.sj:w.i.tc)||"false",e=il(a,"DO");e=jl(e,a.id);b&&(c="!"+c);return"while ("+c+") {\n"+e+"}\n"};
w.i.controls_for=function(a){var b=w.i.Sa.getName(C(a,"VAR"),w.G.Ta),c=Q(a,"FROM",w.i.sf)||"0",e=Q(a,"TO",w.i.sf)||"0",f=Q(a,"BY",w.i.sf)||"1",h=il(a,"DO");h=jl(h,a.id);if(w.Dg(c)&&w.Dg(e)&&w.Dg(f)){var k=parseFloat(c)<=parseFloat(e);a="for ("+b+" = "+c+"; "+b+(k?" <= ":" >= ")+e+"; "+b;b=Math.abs(parseFloat(f));a=(1==b?a+(k?"++":"--"):a+((k?" += ":" -= ")+b))+(") {\n"+h+"}\n")}else a="",k=c,c.match(/^\w+$/)||w.Dg(c)||(k=ml(w.i.Sa,b+"_start",w.G.Ta),a+="var "+k+" = "+c+";\n"),c=e,e.match(/^\w+$/)||
w.Dg(e)||(c=ml(w.i.Sa,b+"_end",w.G.Ta),a+="var "+c+" = "+e+";\n"),e=ml(w.i.Sa,b+"_inc",w.G.Ta),a+="var "+e+" = ",a=w.Dg(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+c+") {\n")+(w.i.qf+e+" = -"+e+";\n"),a+="}\n",a+="for ("+b+" = "+k+"; "+e+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+e+") {\n"+h+"}\n";return a};
w.i.controls_forEach=function(a){var b=w.i.Sa.getName(C(a,"VAR"),w.G.Ta),c=Q(a,"LIST",w.i.sf)||"[]",e=il(a,"DO");e=jl(e,a.id);a="";var f=c;c.match(/^\w+$/)||(f=ml(w.i.Sa,b+"_list",w.G.Ta),a+="var "+f+" = "+c+";\n");c=ml(w.i.Sa,b+"_index",w.G.Ta);e=w.i.qf+b+" = "+f+"["+c+"];\n"+e;return a+("for (var "+c+" in "+f+") {\n"+e+"}\n")};w.i.controls_flow_statements=function(a){switch(C(a,"FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw Error("Unknown flow statement.");};w.i.py={};w.i.math_number=function(a){a=parseFloat(C(a,"NUM"));return[a,0<=a?w.i.eh:w.i.uj]};w.i.math_arithmetic=function(a){var b={ADD:[" + ",w.i.dg],MINUS:[" - ",w.i.oi],MULTIPLY:[" * ",w.i.En],DIVIDE:[" / ",w.i.rj],POWER:[null,w.i.Xb]}[C(a,"OP")],c=b[0];b=b[1];var e=Q(a,"A",b)||"0";a=Q(a,"B",b)||"0";return c?[e+c+a,b]:["Math.pow("+e+", "+a+")",w.i.Pa]};
w.i.math_single=function(a){var b=C(a,"OP");if("NEG"==b)return a=Q(a,"NUM",w.i.uj)||"0","-"==a[0]&&(a=" "+a),["-"+a,w.i.uj];a="SIN"==b||"COS"==b||"TAN"==b?Q(a,"NUM",w.i.rj)||"0":Q(a,"NUM",w.i.tc)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,w.i.Pa];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,w.i.rj]};
w.i.math_constant=function(a){return{PI:["Math.PI",w.i.bb],E:["Math.E",w.i.bb],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",w.i.rj],SQRT2:["Math.SQRT2",w.i.bb],SQRT1_2:["Math.SQRT1_2",w.i.bb],INFINITY:["Infinity",w.i.eh]}[C(a,"CONSTANT")]};
w.i.math_number_property=function(a){var b=Q(a,"NUMBER_TO_CHECK",w.i.tj)||"0",c=C(a,"PROPERTY");if("PRIME"==c){var e=ll("mathIsPrime",["function "+w.i.Nd+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[e,w.i.Pa]}switch(c){case "EVEN":e=b+" % 2 == 0";break;case "ODD":e=b+" % 2 == 1";break;case "WHOLE":e=b+" % 1 == 0";break;case "POSITIVE":e=b+" > 0";break;case "NEGATIVE":e=b+" < 0";break;case "DIVISIBLE_BY":a=Q(a,"DIVISOR",w.i.tj)||"0",e=b+" % "+a+" == 0"}return[e,w.i.Yq]};
w.i.math_change=function(a){var b=Q(a,"DELTA",w.i.dg)||"0";a=w.i.Sa.getName(C(a,"VAR"),w.G.Ta);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};w.i.math_round=w.i.math_single;w.i.math_trig=w.i.math_single;
w.i.math_on_list=function(a){var b=C(a,"OP");switch(b){case "SUM":a=Q(a,"LIST",w.i.bb)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Q(a,"LIST",w.i.Xb)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Q(a,"LIST",w.i.Xb)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=ll("mathMean",["function "+w.i.Nd+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Q(a,"LIST",w.i.tc)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=
ll("mathMedian",["function "+w.i.Nd+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Q(a,"LIST",w.i.tc)||"[]";a=b+"("+a+")";break;case "MODE":b=ll("mathModes",
["function "+w.i.Nd+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Q(a,"LIST",w.i.tc)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=ll("mathStandardDeviation",["function "+w.i.Nd+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Q(a,"LIST",w.i.tc)||"[]";a=b+"("+a+")";break;case "RANDOM":b=ll("mathRandomList",["function "+w.i.Nd+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Q(a,"LIST",w.i.tc)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,w.i.Pa]};w.i.math_modulo=function(a){var b=Q(a,"DIVIDEND",w.i.tj)||"0";a=Q(a,"DIVISOR",w.i.tj)||"0";return[b+" % "+a,w.i.tj]};
w.i.math_constrain=function(a){var b=Q(a,"VALUE",w.i.Xb)||"0",c=Q(a,"LOW",w.i.Xb)||"0";a=Q(a,"HIGH",w.i.Xb)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",w.i.Pa]};
w.i.math_random_int=function(a){var b=Q(a,"FROM",w.i.Xb)||"0";a=Q(a,"TO",w.i.Xb)||"0";return[ll("mathRandomInt",["function "+w.i.Nd+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",w.i.Pa]};w.i.math_random_float=function(){return["Math.random()",w.i.Pa]};
w.i.math_atan2=function(a){var b=Q(a,"X",w.i.Xb)||"0";return["Math.atan2("+(Q(a,"Y",w.i.Xb)||"0")+", "+b+") / Math.PI * 180",w.i.rj]};w.i.Wy={};w.i.procedures_defreturn=function(a){var b=w.i.Sa.getName(C(a,"NAME"),w.pa.Ta),c=il(a,"STACK");if(w.i.pi){var e=a.id.replace(/\$/g,"$$$$");c=hl(w.i.pi.replace(/%1/g,"'"+e+"'"),w.i.qf)+c}w.i.zl&&(c=w.i.zl.replace(/%1/g,"'"+a.id+"'")+c);(e=Q(a,"RETURN",w.i.tc)||"")&&(e=w.i.qf+"return "+e+";\n");for(var f=[],h=0;h<a.ca.length;h++)f[h]=w.i.Sa.getName(a.ca[h],w.G.Ta);c="function "+b+"("+f.join(", ")+") {\n"+c+e+"}";c=w.i.Nk(a,c);w.i.mg["%"+b]=c;return null};w.i.procedures_defnoreturn=w.i.procedures_defreturn;
w.i.procedures_callreturn=function(a){for(var b=w.i.Sa.getName(C(a,"NAME"),w.pa.Ta),c=[],e=0;e<a.ca.length;e++)c[e]=Q(a,"ARG"+e,w.i.Xb)||"null";return[b+"("+c.join(", ")+")",w.i.Pa]};w.i.procedures_callnoreturn=function(a){for(var b=w.i.Sa.getName(C(a,"NAME"),w.pa.Ta),c=[],e=0;e<a.ca.length;e++)c[e]=Q(a,"ARG"+e,w.i.Xb)||"null";return b+"("+c.join(", ")+");\n"};
w.i.procedures_ifreturn=function(a){var b="if ("+(Q(a,"CONDITION",w.i.tc)||"false")+") {\n";a.tg?(a=Q(a,"VALUE",w.i.tc)||"null",b+=w.i.qf+"return "+a+";\n"):b+=w.i.qf+"return;\n";return b+"}\n"};w.i.zz={};w.i.variables_get=function(a){return[w.i.Sa.getName(C(a,"VAR"),w.G.Ta),w.i.eh]};w.i.variables_set=function(a){var b=Q(a,"VALUE",w.i.sf)||"0";return w.i.Sa.getName(C(a,"VAR"),w.G.Ta)+" = "+b+";\n"};w.F.controls_if.I=function(){this.Za=w.g.CONTROLS_IF_HELPURL;this.Hc(w.g.LOGIC_HUE);J(M(this,"IF0").Ka("Boolean"),"if (");J(N(this),") {");Qh(this,"DO0");J(N(this,"TAIL"),"}");this.gc(!0);this.Ed(!0);this.Dd(!0);this.Vg(new ih(["controls_if_elseif","controls_if_else"]));w.X.Jc.Oq.apply(this)};Da(w.F.controls_if,w.X.Jc.Nq);
w.F.controls_if.ic=function(){E(this,"ELSE")&&(this.Ja("ELSEMSG"),this.Ja("ELSE"));for(var a=1;E(this,"IF"+a);)this.Ja("IF"+a),this.Ja("TAIL"+a),this.Ja("DO"+a),a++;for(a=1;a<=this.nd;a++)J(M(this,"IF"+a).Ka("Boolean"),"} else if ("),J(N(this,"TAIL"+a),") {"),Qh(this,"DO"+a);this.Wd&&(J(N(this,"ELSEMSG"),"} else {"),Qh(this,"ELSE"));Sh(this,"TAIL",null)};
w.F.logic_compare.I=function(){this.Za=w.g.LOGIC_COMPARE_HELPURL;this.Hc(w.g.LOGIC_HUE);this.bd(!0,"Boolean");M(this,"A");J(M(this,"B"),new K([["==","EQ"],["!=","NEQ"],["<","LT"],["<=","LTE"],[">","GT"],[">=","GTE"]]),"OP");this.gc(!0);var a=this;this.qa(function(){var b=C(a,"OP");return{EQ:w.g.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:w.g.LOGIC_COMPARE_TOOLTIP_NEQ,LT:w.g.LOGIC_COMPARE_TOOLTIP_LT,LTE:w.g.LOGIC_COMPARE_TOOLTIP_LTE,GT:w.g.LOGIC_COMPARE_TOOLTIP_GT,GTE:w.g.LOGIC_COMPARE_TOOLTIP_GTE}[b]});this.Zi=
[null,null]};w.g.LOGIC_OPERATION_AND="&&";w.g.LOGIC_OPERATION_OR="||";w.g.LOGIC_NEGATE_TITLE="! %1";w.g.LOGIC_BOOLEAN_TRUE="true";w.g.LOGIC_BOOLEAN_FALSE="false";w.F.controls_whileUntil.I=function(){Rh(this,{message0:"while ( %1 ) { %2 %3 }",args0:[{type:"input_value",name:"BOOL",check:"Boolean"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:w.g.LOOPS_HUE,tooltip:w.g.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,helpUrl:w.g.CONTROLS_WHILEUNTIL_HELPURL})};
w.F.controls_for.I=function(){Rh(this,{message0:"for (var %1 = %2;  %3 < %4;  %5 += 1) { %6 %7 }",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR1",text:"?"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR2",text:"?"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:w.g.LOOPS_HUE,helpUrl:w.g.CONTROLS_FOR_HELPURL});
var a=this;this.qa(function(){return w.g.CONTROLS_FOR_TOOLTIP.replace("%1",C(a,"VAR"))})};w.F.controls_for.onchange=function(){var a=C(this,"VAR");wf(this,a,"VAR1");wf(this,a,"VAR2")};w.i.controls_for=function(a){var b=w.i.Sa.getName(C(a,"VAR"),w.G.Ta),c=Q(a,"FROM",w.i.sf)||"0",e=Q(a,"TO",w.i.sf)||"0",f=il(a,"DO");f=jl(f,a.id);return"for (var "+b+" = "+c+"; "+b+" < "+e+"; "+b+" += 1) {\n"+f+"}\n"};w.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break ;";
w.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue ;";
w.F.math_arithmetic.I=function(){Rh(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:w.g.MATH_HUE,helpUrl:w.g.MATH_ARITHMETIC_HELPURL});var a=this;this.qa(function(){var b=C(a,"OP");return{ADD:w.g.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:w.g.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:w.g.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,
DIVIDE:w.g.MATH_ARITHMETIC_TOOLTIP_DIVIDE}[b]})};w.F.math_change.I=function(){Rh(this,{message0:"%1 += %2;",args0:[{type:"field_variable",name:"VAR",variable:"name"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:w.g.VARIABLES_HUE,helpUrl:w.g.MATH_CHANGE_HELPURL});var a=this;this.qa(function(){return w.g.MATH_CHANGE_TOOLTIP.replace("%1",C(a,"VAR"))})};
w.i.math_change=function(a){var b=Q(a,"DELTA",w.i.dg)||"0";return w.i.Sa.getName(C(a,"VAR"),w.G.Ta)+" += "+b+";\n"};w.F.math_random_int.I=function(){Rh(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:w.g.MATH_HUE,tooltip:w.g.MATH_RANDOM_INT_TOOLTIP,helpUrl:w.g.MATH_RANDOM_INT_HELPURL})};w.g.MATH_RANDOM_FLOAT_TITLE_RANDOM="Math.random  (  )";
w.g.LISTS_CREATE_EMPTY_TITLE="[ ]";w.g.LISTS_CREATE_WITH_INPUT_WITH="[";w.F.lists_create_with.ic=function(){E(this,"TAIL")&&this.Ja("TAIL");this.Xc&&E(this,"EMPTY")?this.Ja("EMPTY"):this.Xc||E(this,"EMPTY")||J(N(this,"EMPTY"),w.g.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.Xc;a++)if(!E(this,"ADD"+a)){var b=M(this,"ADD"+a);0==a?J(b,w.g.LISTS_CREATE_WITH_INPUT_WITH):J(b,",")}for(;E(this,"ADD"+a);)this.Ja("ADD"+a),a++;this.Xc&&J(N(this,"TAIL"),"]")};
w.F.lists_getIndex={I:function(){Rh(this,{message0:"%1[%2]",args0:[{type:"input_value",name:"VALUE",check:"Array"},{type:"input_value",name:"AT",check:"Number"}],inputsInline:!0,output:null,colour:w.g.LISTS_HUE,tooltip:w.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM+w.g.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:w.g.LISTS_GET_INDEX_HELPURL})}};
w.F.lists_setIndex={I:function(){Rh(this,{message0:"%1[%2] = %3;",args0:[{type:"input_value",name:"LIST",check:"Array"},{type:"input_value",name:"AT",check:"Number"},{type:"input_value",name:"TO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:w.g.LISTS_HUE,tooltip:w.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM+w.g.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:w.g.LISTS_SET_INDEX_HELPURL})}};w.g.LISTS_LENGTH_TITLE="%1 . length";
w.F.variables_get.I=function(){this.Za=w.g.VARIABLES_GET_HELPURL;this.Hc(w.g.VARIABLES_HUE);J(N(this),new bl("name"),"VAR");this.bd(!0);this.qa(w.g.VARIABLES_GET_TOOLTIP)};w.F.variables_set.I=function(){this.Za=w.g.VARIABLES_SET_HELPURL;this.Hc(w.g.VARIABLES_HUE);J(J(J(M(this,"VALUE"),"var"),new bl("name"),"VAR"),"=");J(N(this),";");this.gc(!0);this.Ed(!0);this.Dd(!0);this.qa(w.g.VARIABLES_SET_TOOLTIP)};
w.F.procedures_defnoreturn.I=function(){var a=new qk("",w.pa.Ym);J(J(J(J(J(N(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");this.df(!0);J(N(this),"}");this.Vg(new ih(["procedures_mutatorarg"]));w.g.PROCEDURES_DEFNORETURN_COMMENT&&this.Qf(w.g.PROCEDURES_DEFNORETURN_COMMENT);this.Hc(w.g.PROCEDURES_HUE);this.qa(w.g.PROCEDURES_DEFNORETURN_TOOLTIP);this.Za=w.g.PROCEDURES_DEFNORETURN_HELPURL;this.ca=[];this.vb=[];this.df(!0);this.Ae=null};
w.F.procedures_defreturn.I=function(){var a=new qk("",w.pa.Ym);J(J(J(J(J(N(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");J(Lh(M(this,"RETURN"),w.ah),"return");J(N(this),"}");this.Vg(new ih(["procedures_mutatorarg"]));w.g.PROCEDURES_DEFRETURN_COMMENT&&this.Qf(w.g.PROCEDURES_DEFRETURN_COMMENT);this.Hc(w.g.PROCEDURES_HUE);this.qa(w.g.PROCEDURES_DEFRETURN_TOOLTIP);this.Za=w.g.PROCEDURES_DEFRETURN_HELPURL;this.ca=[];this.vb=[];this.df(!0);this.Ae=null};w.g.PROCEDURES_BEFORE_PARAMS="";
w.F.procedures_callnoreturn.I=function(){this.Za=w.g.PROCEDURES_CALLNORETURN_HELPURL;this.Hc(w.g.PROCEDURES_HUE);J(J(N(this),"","NAME"),"(");J(N(this,"TAIL"),");");this.gc(!0);this.Ed(!0);this.Dd(!0);this.qa(w.g.PROCEDURES_CALLNORETURN_TOOLTIP);this.ca=[];this.Lf={}};w.F.procedures_callnoreturn.ic=function(){for(var a=0;a<this.ca.length;a++)if(!E(this,"ARG"+a)){new Ih(this.ca[a]);var b=M(this,"ARG"+a);0<a&&J(b,",");b.I()}for(;E(this,"ARG"+a);)this.Ja("ARG"+a),a++;Sh(this,"TAIL",null)};
w.F.procedures_callreturn.I=function(){this.Za=w.g.PROCEDURES_CALLRETURN_HELPURL;this.Hc(w.g.PROCEDURES_HUE);J(J(N(this),"","NAME"),"(");J(N(this,"TAIL"),")");this.gc(!0);this.bd(!0);this.qa(w.g.PROCEDURES_CALLRETURN_TOOLTIP);this.ca=[];this.Lf={}};w.F.procedures_callreturn.ic=w.F.procedures_callnoreturn.ic;delete w.F.procedures_ifreturn;var Dm;w.i.genetics_generateMouseFunctionJS_=function(a,b,c){var e=il(c,"STACK"),f=Q(c,"RETURN",w.i.tc)||"";b=w.i.Nk(c,"function "+a+"("+b+") {\n"+e+("  return "+f+";\n")+"}");w.i.mg[a]=b;return null};w.F.genetics_initMouseFunctionBlock_=function(a,b,c){Rh(this,{message0:"function %1(%2) { %3 %4 return %5 }",args0:[a,b,{type:"input_dummy"},{type:"input_statement",name:"STACK"},{type:"input_value",check:c,align:"right",name:"RETURN"}],inputsInline:!0,colour:360,tooltip:T("Genetics_"+a+"Tooltip")})};
w.F.genetics_pickFight={I:Ca(w.F.genetics_initMouseFunctionBlock_,"pickFight","","Mouse")};w.i.genetics_pickFight=Ca(w.i.genetics_generateMouseFunctionJS_,"pickFight","");w.F.genetics_proposeMate={I:Ca(w.F.genetics_initMouseFunctionBlock_,"proposeMate","","Mouse")};w.i.genetics_proposeMate=Ca(w.i.genetics_generateMouseFunctionJS_,"proposeMate","");
w.F.genetics_acceptMate={I:Ca(w.F.genetics_initMouseFunctionBlock_,"acceptMate","suitor","Boolean"),rm:function(){return["suitor"]},Ie:function(a){if(!this.isCollapsed()){var b={enabled:!0};b.text=w.g.VARIABLES_SET_CREATE_GET.replace("%1","suitor");var c=$c("field",null,"suitor");c.setAttribute("name","VAR");c=$c("block",null,c);c.setAttribute("type","variables_get");b.Wa=w.ba.Cj(this,c);a.push(b)}}};w.i.genetics_acceptMate=Ca(w.i.genetics_generateMouseFunctionJS_,"acceptMate","suitor");
w.F.genetics_getSelf={I:function(){Rh(this,{message0:"%1(%2)",args0:["getSelf",""],output:"Mouse",colour:20,tooltip:T("Genetics_getSelfTooltip")})}};w.i.genetics_getSelf=function(){return["getSelf()",w.i.Pa]};w.F.genetics_getMice={I:function(){Rh(this,{message0:"%1(%2)",args0:["getMice",""],output:"Array",colour:20,tooltip:T("Genetics_getMiceTooltip")})}};w.i.genetics_getMice=function(){return["getMice()",w.i.Pa]};
w.F.genetics_getProperties={I:function(){var a=this;this.Hc(20);M(this,"MOUSE").Ka("Mouse");var b=new K([["size","SIZE"],["aggressiveness","AGGRESSIVENESS"],["startAggressiveness","START_AGGRESSIVENESS"],["fertility","FERTILITY"],["startFertility","START_FERTILITY"],["sex","SEX"],["age","AGE"],["id","ID"],["pickFightOwner","PICK_FIGHT"],["proposeMateOwner","PROPOSE_MATE"],["acceptMateOwner","ACCEPT_MATE"]],function(c){a.Yg(c)});J(N(this),b,"PROPERTY");this.gc(!0);this.bd(!0,"Number");this.qa(function(){var c=
C(a,"PROPERTY");return{SIZE:T("Genetics_sizeTooltip"),AGGRESSIVENESS:T("Genetics_aggressivenessTooltip"),FERTILITY:T("Genetics_fertilityTooltip"),START_FERTILITY:T("Genetics_startFertilityTooltip"),SEX:T("Genetics_sexTooltip"),AGE:T("Genetics_ageTooltip"),ID:T("Genetics_idTooltip"),PICK_FIGHT:T("Genetics_pickFightOwnerTooltip"),PROPOSE_MATE:T("Genetics_proposeMateOwnerTooltip"),ACCEPT_MATE:T("Genetics_acceptMateOwnerTooltip")}[c]})},Yg:function(a){"SEX"==a?this.M.Ka("String"):this.M.Ka("Number")},
Da:function(){var a=document.createElement("mutation");a.setAttribute("property",C(this,"PROPERTY"));return a},Ya:function(a){this.Yg(a.getAttribute("property"))}};
w.i.genetics_getProperties=function(a){var b=Q(a,"MOUSE",w.i.tc)||"me()";a=C(a,"PROPERTY");b+=".";switch(a){case "SIZE":b+="size";break;case "AGGRESSIVENESS":b+="aggressiveness";break;case "START_AGGRESSIVENESS":b+="startAggressiveness";break;case "FERTILITY":b+="fertility";break;case "START_FERTILITY":b+="startFertility";break;case "SEX":b+="sex";break;case "AGE":b+="age";break;case "ID":b+="id";break;case "PICK_FIGHT":b+="pickFightOwner";break;case "PROPOSE_MATE":b+="proposeMateOwner";break;case "ACCEPT_MATE":b+=
"acceptMateOwner";break;default:throw"Unknown mouse property: "+a;}return[b,w.i.bb]};w.F.genetics_sex={I:function(){Rh(this,{message0:"Sex.%1",args0:[{type:"field_dropdown",name:"TYPE",options:[["Male","MALE"],["Female","FEMALE"]]}],output:"String",colour:20})}};w.i.genetics_sex=function(a){var b="Genetics.Mouse.Sex.";b="MALE"==C(a,"TYPE")?b+"Male":b+"Female";return[b,w.i.bb]};
w.F.genetics_math_randomInt={I:function(){Rh(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"MIN_VALUE",check:"Number"},{type:"input_value",name:"MAX_VALUE",check:"Number"}],inputsInline:!0,output:"Number",colour:w.g.MATH_HUE,helpUrl:w.g.MATH_RANDOM_INT_HELPURL,tooltip:w.g.MATH_RANDOM_INT_TOOLTIP})}};w.i.genetics_math_randomInt=function(a){var b=Q(a,"MIN_VALUE",w.i.Xb)||"0";a=Q(a,"MAX_VALUE",w.i.Xb)||"0";return["Math.randomInt("+b+", "+a+")",w.i.Pa]};function Em(a,b,c,e,f){if(e&&f){c=Gc(2);var h=Gc(2),k=c===h?!h:Gc(2);this.Dc=c?e.Dc:f.Dc;this.Fc=h?e.Fc:f.Fc;this.uc=k?e.uc:f.uc;this.size=Hc(Lc(e.size+f.size)+(Gc(3)+-1),1,10);this.le=this.Vk=Math.max(0,Math.round(Lc(e.Vk,f.Vk))+(Gc(3)+-1));this.Wk=Math.max(0,Math.round(Lc(e.Wk,f.Wk))+(Gc(3)+-1))}else this.uc=this.Fc=this.Dc=c,this.Vk=this.size=2,this.le=0,this.Wk=4;this.Yd=this.Wk;this.El=0;this.id=a;this.lb=b}var Fm={Nz:"Male",Mz:"Female"};var Gm=!0,Hm=[],Im=[],Jm=[],Km={},Lm=0,Mm=[],Nm=!1,Om={ADD:["MOUSE"],START_GAME:[],NEXT_ROUND:[],FIGHT:["ID","RESULT","OPT_OPPONENT"],MATE:["ID","RESULT","OPT_PARTNER","OPT_OFFSPRING"],RETIRE:["ID"],OVERPOPULATION:["ID"],EXPLODE:["ID","SOURCE","CAUSE"],END_GAME:["IS_SUCCESS","OPT_RANKINGS"]};function W(a,b){var c=Om[a];this.TYPE=a;for(var e=0;e<c.length;e++)this[c[e]]=arguments[e+1]}function X(a){Mm.push(a)}var Pm=0,Qm=0,Rm=!1;
function Sm(){Gm=!0;clearTimeout(Lm);Mm.length=0;Km={};Im.length=0;Pm=Jm.length=0}var Tm="",Um=!1,Vm=!1,Wm=!1;
function Xm(){if(Nm||100>Mm.length){0==Jm.length&&(10>Pm&&(Jm=Im.slice(0),X(new W("NEXT_ROUND"))),Pm++);if(Jm.length){var a=Jm.shift();if(0!=a.id&&!Um||0==a.id&&!Vm)if(a.El++,!Wm&&0<a.le){var b=Ym(a,"pickFight");a.le--;if(b.nn)if(b=b.value,null===b)X(new W("FIGHT",a.id,"NONE")),a.le=0;else if("object"==typeof b&&Km.hasOwnProperty(b.id))if(b=Km[b.id],a.id==b.id)X(new W("FIGHT",a.id,"SELF")),Zm(a);else{var c=Rm?b.size-a.size:Math.random()-a.size/(a.size+b.size);.1>Math.abs(c)?X(new W("FIGHT",a.id,"TIE",
b.id)):0>c?(X(new W("FIGHT",a.id,"WIN",b.id)),Zm(b)):(X(new W("FIGHT",a.id,"LOSS",b.id)),Zm(a))}else X(new W("EXPLODE",a.id,"pickFight","Invalid return")),Zm(a);else X(new W("EXPLODE",a.id,"pickFight",b.Un)),Zm(a)}else if(0<a.Yd)if(c=Ym(a,"proposeMate"),c.nn)if(c=c.value,null===c)X(new W("MATE",a.id,"NONE")),a.Yd=0;else if("object"==typeof c&&Km.hasOwnProperty(c.id)){c=Km[c.id];if($m(a,c)){for(var e=Qm++,f=0,h=0,k=0,l;l=Im[k];k++)f+=l.Yd,"Female"==l.lb&&(h+=l.Yd);e=new Em(e,Math.random()<h/f?"Male":
"Female",null,a,c);Km[e.id]=e;Im.unshift(e);X(new W("MATE",a.id,"SUCCESS",c.id,e));if(50<Object.keys(Km).length){c=null;for(b in Km)if(e=Km[b],!c||e.El>c.El)c=e;X(new W("OVERPOPULATION",c.id));Zm(c)}}a.Yd--}else X(new W("EXPLODE",a.id,"proposeMate","Invalid return")),Zm(a);else X(new W("EXPLODE",a.id,"proposeMate",c.Un)),Zm(a);else X(new W("RETIRE",a.id)),Zm(a)}an()&&(Gm=!0,clearTimeout(Lm))}Gm||(Lm=setTimeout(Xm,50))}
function an(){var a={pickFight:[],proposeMate:[],acceptMate:[]};if(0==Im.length)return X(new W("END_GAME",!1,a)),!0;for(var b={pickFight:[0,0,0,0],proposeMate:[0,0,0,0],acceptMate:[0,0,0,0]},c=10<Pm,e=Im[0],f=0,h;h=Im[f];f++){if(!c&&(h.Dc!=e.Dc||h.Fc!=e.Fc||h.uc!=e.uc))return!1;b.pickFight[h.Dc]++;b.proposeMate[h.Fc]++;b.acceptMate[h.uc]++}if(!c)return b=Im[0].Dc,f=Im[0].Fc,c=Im[0].uc,a.pickFight.push([b]),a.proposeMate.push([f]),a.acceptMate.push([c]),X(new W("END_GAME",0==b&&0==f&&0==c,a)),!0;a=
{pickFight:[],proposeMate:[],acceptMate:[]};c=["pickFight","proposeMate","acceptMate"];for(e=0;e<Hm.length;e++){f=0;for(var k;k=c[f];f++){h=b[k];k=a[k];for(var l=!1,m=0;!l&&m<k.length;m++){var n=k[m][0];h[e]==h[n]?(k[m].push(e),l=!0):h[e]>h[n]&&(k.splice(m,0,[e]),l=!0)}l||k.push([e])}}X(new W("END_GAME",!1,a));return!0}
function $m(a,b){if(a.id==b.id)return X(new W("MATE",a.id,"SELF")),!1;var c=Ym(b,"acceptMate",a);if(!c.nn)return X(new W("MATE",a.id,"MATE_EXPLODED",b.id)),X(new W("EXPLODE",b.id,"acceptMate",c.Un)),Zm(b),!1;if(!c.value)return X(new W("MATE",a.id,"REJECTION",b.id)),!1;b.Yd--;return a.lb==b.lb?(X(new W("MATE",a.id,"INCOMPATIBLE",b.id)),!1):0>b.Yd?(X(new W("MATE",a.id,"INFERTILE",b.id)),!1):!0}function Zm(a){Oa(Im,a);Oa(Jm,a);delete Km[a.id]}
function Ym(a,b,c){switch(b){case "pickFight":var e=a.Dc;break;case "proposeMate":e=a.Fc;break;case "acceptMate":e=a.uc}var f=Hm[e].code;if(ua(f))f=Hm[e].nw;else if(!u(f))throw"Player "+Hm[e].name+" has invalid code: "+f;try{var h=new Interpreter(f,Ca(bn,a,c));switch(b){case "pickFight":h.appendCode("proposeMate = null;");h.appendCode("acceptMate = null;");h.appendCode("pickFight();");break;case "proposeMate":h.appendCode("pickFight = null;");h.appendCode("acceptMate = null;");h.appendCode("proposeMate();");
break;case "acceptMate":h.appendCode("pickFight = null;"),h.appendCode("proposeMate = null;"),h.appendCode("acceptMate(getSuitor());")}}catch(k){h=new Interpreter("throw SyntaxError('"+b+"')",Ca(bn,a,c))}a=h;b={};try{for(c=1E5;a.step();)if(0>=c--)throw Infinity;b.nn=!0;b.value=a.pseudoToNative(a.value)}catch(k){b.Un=Infinity==k?"Timeout":k,b.nn=!1}return b}
function bn(a,b,c,e){for(var f=void 0,h=c.ARRAY,k=c.createObject(c.ARRAY),l=0,m=0,n;n=Im[m];m++){var p=c.nativeToPseudo({pickFightOwner:n.Dc,proposeMateOwner:n.Fc,acceptMateOwner:n.uc,sex:n.lb,size:n.size,startAggressiveness:n.Vk,aggressiveness:n.le,startFertility:n.Wk,fertility:n.Yd,age:n.El,id:n.id});n.id==a.id?f=p:(c.setProperty(k,l++,p),b&&n.id==b.id&&(h=p))}c.setProperty(e,"getSelf",c.createNativeFunction(function(){return f}));c.setProperty(e,"getMice",c.createNativeFunction(function(){return k}));
h&&c.setProperty(e,"getSuitor",c.createNativeFunction(function(){return h}));a=c.nativeToPseudo(Fm);c.setProperty(e,"Sex",a);if(a=c.getProperty(e,"Math"))e=function(t,r){return Math.floor(Math.random()*(r-t+1))+t},c.setProperty(a,"randomInt",c.createNativeFunction(e))};function cn(a){this.id=a.id;this.lb=a.lb;this.size=a.size;this.Dc=a.Dc;this.Fc=a.Fc;this.uc=a.uc;this.element=document.createElementNS(w.De,"svg");this.element.setAttribute("id","mouse"+a.id);this.element.setAttribute("class","mouse");this.element.style.transformOrigin="20px 20px";var b=document.createElementNS(w.De,"clipPath");b.setAttribute("id","mouse"+a.id+"ClipPath");var c=document.createElementNS(w.De,"rect");c.setAttribute("width","40px");c.setAttribute("height","60px");b.appendChild(c);this.element.appendChild(b);
this.Jf=document.createElementNS(w.De,"image");this.Jf.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","genetics/mouse.png");this.Jf.setAttribute("width","120px");this.Jf.setAttribute("height","120px");"Female"==this.lb&&this.Jf.setAttribute("y","-60px");this.Jf.setAttribute("clip-path","url(#mouse"+a.id+"ClipPath)");this.element.appendChild(this.Jf);b=7.5*(1+.5*Math.sqrt(3))+12.5;a=7.5*(1-.5*Math.sqrt(3))+12.5;c=document.createElementNS(w.De,"path");c.setAttribute("d","M 20 28.5 A 7.5 7.5, 0, 0, 1, "+
b+" 39.75 L 20 36 Z");c.setAttribute("fill",dn[this.Fc]);this.element.appendChild(c);c=document.createElementNS(w.De,"path");c.setAttribute("d","M "+b+" 39.75 A 7.5 7.5, 0, 0, 1, "+a+" 39.75 L 20 36 Z");c.setAttribute("fill",dn[this.Dc]);this.element.appendChild(c);b=document.createElementNS(w.De,"path");b.setAttribute("d","M "+a+" 39.75 A 7.5 7.5, 0, 0, 1, 20 28.5 L 20 36 Z");b.setAttribute("fill",dn[this.uc]);this.element.appendChild(b);this.qo=2*Math.random()*Math.PI;this.kd=!0;this.wj=[0,0];var e=
Ba(function(){var f=400+100*Math.random();en||this.kd||fn(this,f);this.wj[0]=setTimeout(e,f)},this);e()}Object.defineProperty(cn.prototype,"direction",{set:function(a){a=Ic(a,2*Math.PI);var b=Jc(a,this.qo);if(Math.abs(b)>Math.PI/10){var c=this.Jf,e=function(){c.setAttribute("x","0px")};0<b?(this.Jf.setAttribute("x","-40px"),setTimeout(e,150)):0>b&&(this.Jf.setAttribute("x","-80px"),setTimeout(e,150))}this.element.style.transform="rotate("+(a+Math.PI/2)+"rad)";this.qo=a},get:function(){return this.qo}});
var gn=0,en=!1;cn.prototype.stop=function(){for(var a=0;a<this.wj.length;a++)clearTimeout(this.wj[a]);hn(this);this.element.style.animation=""};function hn(a){var b=window.getComputedStyle(a.element),c=b.left;a.element.style.top=b.top;a.element.style.left=c;a.element.style.transition=""}
cn.prototype.move=function(a,b,c,e){var f=Hc(a,0,gn-40),h=Hc(b,0,gn-40),k=parseInt(this.element.style.left,10),l=parseInt(this.element.style.top,10),m=f-k,n=h-l;e=null!=e?e:Math.hypot(Math.abs(m),Math.abs(n))/.07;10>e||1>Math.abs(m)&&1>Math.abs(n)?(this.element.style.left=f+"px",this.element.style.top=h+"px",this.direction=Math.atan2(b-l,a-k)):(this.direction=Math.atan2(n,m),this.element.style.transition="top "+e+"ms linear, left "+e+"ms linear",this.element.style.left=f+"px",this.element.style.top=
h+"px");this.wj[1]=setTimeout(c,e)};function fn(a,b){var c=Math.PI/2;c=a.direction+Math.random()*c-c/2;var e=.05*b;a.move(parseInt(a.element.style.left,10)+Math.cos(c)*e,parseInt(a.element.style.top,10)+Math.sin(c)*e,function(){},b)}cn.prototype.Zd=function(a){a?jn(this,Ba(this.Zd,this)):this.kd=!1};function jn(a,b){var c=0,e=Ba(function(){var f=400+100*Math.random();fn(this,f);3>++c?this.wj[1]=setTimeout(e,f):b()},a);e()};var kn={},ln,dn=["#ff8b00","#c90015","#166c0b","#11162a"],mn=!0,nn=!0,on=null,pn={},qn=!1,rn=null,sn=null,tn=null,un=null,vn=null,wn={},xn=[],yn=[],zn=[],An=0;
function Bn(){gn=400;var a=document.getElementById("vizTabbar");if(a){Dm=new Cn;Dm.Td(a);var b=function(c){for(var e=["displayContent","charts"],f=0,h;h=e[f];f++){var k=document.getElementById(h);"displayContent"==h?k.style.visibility=f==c?"visible":"hidden":(qn=f==c,f==c&&Dn(),k.style.display=f==c?"block":"none")}};qi(Dm,"select",function(c){c=En(c.target.getParent());b(c)});b(0);google.charts.load("current",{packages:["corechart"]});google.charts.setOnLoadCallback(function(){var c={hAxis:{title:"Time",
titleTextStyle:{color:"#333"},format:"0"},vAxis:{minValue:0},chartArea:{left:"8%",top:"8%",width:"60%",height:"70%"},backgroundColor:"white"},e=jb(c);e.colors=dn;e.isStacked="relative";e.lineWidth=0;e.areaOpacity=.8;e.vAxis.maxValue=1;var f=ib(e),h=ib(e);c.title="Population";c.colors=["#ADD8E6","#FFB5C1"];c.isStacked=!0;c.vAxis.maxValue=50;rn=new google.visualization.ChartWrapper({chartType:"AreaChart",options:c,containerId:"populationChart"});e.title="Pick Fight";sn=new google.visualization.ChartWrapper({chartType:"AreaChart",
options:e,containerId:"pickFightChart"});f.title="Propose Mate";tn=new google.visualization.ChartWrapper({chartType:"AreaChart",options:f,containerId:"proposeMateChart"});h.title="Accept Mate";un=new google.visualization.ChartWrapper({chartType:"AreaChart",options:h,containerId:"acceptMateChart"});Fn();rn.draw();sn.draw();tn.draw();un.draw()})}vn=document.getElementById("display")}
function Fn(){if(google.visualization){rn.setDataTable(google.visualization.arrayToDataTable([[{label:"Time",type:"number"},{label:"Male",type:"number"},{label:"Female",type:"number"}]],!1));for(var a=[{label:"Time",type:"number"}],b=0,c;c=Hm[b];b++)a.push({label:c.name,type:"number"});sn.setDataTable(google.visualization.arrayToDataTable([a],!1));tn.setDataTable(google.visualization.arrayToDataTable([a],!1));un.setDataTable(google.visualization.arrayToDataTable([a],!1));Gn=!0}}
function Hn(){clearTimeout(An);mn=!0;for(var a in pn)pn[a].stop()}
function In(){Hn();qn=!1;Jn=Kn=0;pn={};wn.Male=0;wn.Female=0;xn.length=0;yn.length=0;for(var a=zn.length=0;a<Hm.length;a++)xn.push(0),yn.push(0),zn.push(0);Fn();Ln.length=0;a=document.getElementById("playerNameRow");for(var b=document.getElementById("playerStatRow"),c=0,e;e=Hm[c];c++){var f=dn[c],h=a.cells[c];h.style.borderColor=f;e=e.name;h.title=e;h.style.background=f;e=document.createTextNode(e);dd(h);h.appendChild(e);h=b.cells[c];h.style.borderColor=f;e={};var k=h.getElementsByClassName("pickFightStat")[0];
k&&(k.style.background=f,k.style.width=0,e.pickFightDiv=k);if(k=h.getElementsByClassName("proposeMateStat")[0])k.style.background=f,k.style.width=0,e.proposeMateDiv=k;if(k=h.getElementsByClassName("acceptMateStat")[0])k.style.background=f,k.style.width=0,e.acceptMateDiv=k;e.td=h;Ln.push(e)}dd(vn)}
function Mn(){if(!mn){if(nn){var a=!0;for(b in pn)if(pn[b].kd){a=!1;break}if(a){Hn();if(on){a={pickFight:"",proposeMate:"",acceptMate:""};var b=["pickFight","proposeMate","acceptMate"];for(var c=0;c<b.length;c++)for(var e=b[c],f=on[e][0],h=0;f&&h<f.length;h++)a[e]+=Hm[f[h]].name+" ";Y("Game ended with: PickFight Winners: "+a.pickFight+" proposeMate Winners: "+a.proposeMate+" acceptMate Winners: "+a.acceptMate)}ln?(V.az(),U.Ew(),Y("Level Succeeded")):on||Y("Level Failed");return}}else{for(;Jn<Mm.length;){b=
Nm?Mm[Jn++]:Mm.shift();a=void 0!==b.ID?pn[b.ID]:null;c=void 0!==b.OPT_OPPONENT?pn[b.OPT_OPPONENT]:null;e=void 0!==b.OPT_PARTNER?pn[b.OPT_PARTNER]:null;if(a&&a.kd||c&&c.kd||e&&e.kd){kn.wA?Jn--:Mm.unshift(b);break}switch(b.TYPE){case "ADD":a=Nn(b.MOUSE);On(a,400*Math.random()-40,400*Math.random()-40,!1,Ba(a.Zd,a));break;case "START_GAME":Y("Starting game with "+Hm.length+" players.");break;case "NEXT_ROUND":Kn++;break;case "FIGHT":Pn(b,a,c);break;case "MATE":Qn(b,a,e);break;case "RETIRE":Rn(a,"RETIRE");
Y(Z(a)+" dies after a productive life.");break;case "OVERPOPULATION":Rn(a,"OVERPOPULATION");Y("Cage has gotten too cramped "+Z(a)+" can't compete with the younger mice and dies.");break;case "EXPLODE":c=b.SOURCE;b=b.CAUSE;Rn(a,"EXPLOSION");Y(Z(a)+" exploded in "+c+' because "'+b+'"');break;case "END_GAME":nn=!0;ln=b.IS_SUCCESS;on=b.OPT_RANKINGS;break;default:throw"unhandled visualization event "+JSON.stringify(b);}}Dn()}An=setTimeout(Mn,50)}}var Gn=!0,Ln=[];
function Sn(){for(var a=wn.Male+wn.Female,b=0;b<Ln.length;b++){var c=Ln[b],e=100*xn[b]/a||0;c.pickFightDiv&&(c.pickFightDiv.style.width=e+"%");var f=100*yn[b]/a||0;c.proposeMateDiv&&(c.proposeMateDiv.style.width=f+"%");var h=100*zn[b]/a||0;c.acceptMateDiv&&(c.acceptMateDiv.style.width=h+"%");c.td.title="pickFight "+Math.round(100*e)/100+"%\nproposeMate "+Math.round(100*f)/100+"%\nacceptMate "+Math.round(100*h)/100+"%"}}function Dn(){Gn&&qn&&(rn.draw(),sn.draw(),tn.draw(),un.draw(),Gn=!1)}
var Kn=0,Jn=0;function Pn(a,b,c){var e=a.RESULT;"NONE"==e?(b.kd=!0,Tn(b,"genetics/peace.png",40,1E3,function(){Y(Z(b)+" elected to never fight again.");b.Zd()})):(a=function(){b.Zd();"SELF"!=e&&c.Zd()},b.kd=!0,"SELF"==e?Un(b,b,e,a):(c.kd=!0,Vn(b,c,Ca(Un,b,c,e,a))))}var Wn=!0;
function Qn(a,b,c){var e=a.RESULT;if("NONE"==e)Y(Z(b)+" elected to never mate again.");else if("SELF"==e)b.kd=!0,Tn(b,"genetics/heart.png",40,1E3,function(){Y(Z(b)+" caught trying to mate with itself.");b.Zd()});else if("MATE_EXPLODED"==e)Y(Z(c)+" exploded after "+Z(b)+" asked it out.");else if("REJECTION"==e){var f=Lc(parseInt(b.element.style.left,10),parseInt(c.element.style.left,10))+20,h=Lc(parseInt(b.element.style.top,10),parseInt(c.element.style.top,10))+20;b.kd=!0;c.kd=!0;Vn(b,c,Ca(Tn,b,"genetics/broken-heart.png",
40,1E3,function(){Y(Z(b)+" asked "+Z(c)+" to mate, The answer is NO!");b.Zd(Wn);c.Zd(Wn)}))}else{Y(Z(b,!0,!0)+" asked "+Z(c,!0,!0)+" to mate, The answer is YES!");f=Lc(parseInt(b.element.style.left,10),parseInt(c.element.style.left,10))+20;h=Lc(parseInt(b.element.style.top,10),parseInt(c.element.style.top,10))+20;if("SUCCESS"==e){var k=Nn(a.OPT_OFFSPRING);var l="genetics/heart.png"}else if("INCOMPATIBLE"==e){var m=Z(b)+" mated with "+Z(c)+", another "+b.lb+".";l="genetics/rainbow-heart.png"}else"INFERTILE"==
e&&(m="Mating between "+Z(b)+" and "+Z(c)+" failed because "+Z(c)+" is sterile.",l="genetics/grey-heart.png");b.kd=!0;c.kd=!0;Vn(b,c,Ca(Xn,l,f,h,50,700,function(){"SUCCESS"==e?On(k,f,h,!0,Ba(k.Zd,k)):Y(m);b.Zd(Wn);c.Zd(Wn)}))}}function Yn(){if(google.visualization){rn.getDataTable().addRow([Kn,wn.Male,wn.Female]);for(var a=[Kn],b=[Kn],c=[Kn],e=0;e<Hm.length;e++)a.push(xn[e]),b.push(yn[e]),c.push(zn[e]);sn.getDataTable().addRow(a);tn.getDataTable().addRow(b);un.getDataTable().addRow(c);Gn=!0}}
function Z(a,b,c){var e="Monica Danielle Zena Brianna Katie Lacy Leela Suzy Saphira Missie Flo Lisa".split(" "),f="Neil Chris Charlie Camden Rick Dean Xavier Zeke Han Samuel Wade Patrick".split(" "),h="("+Hm[a.Fc].name+"/"+Hm[a.uc].name+"/"+Hm[a.Dc].name+")",k="[id:"+a.id+"/size:"+a.size+"/sex: "+a.lb+"]";f="Female"==a.lb?e:f;e=f[a.id%f.length||0];a=Math.floor(a.id/f.length)+1;if(1<a){f="M CM D CD C XC L XL X IX V IV I".split(" ");var l=[1E3,900,500,400,100,90,50,40,10,9,5,4,1];if(!(0>=a||4E3<=a)){for(var m=
"",n=0;n<f.length;n++)for(;a>=l[n];)a-=l[n],m+=f[n];a=m}e+=" "+a}c&&(e+=" "+h);b&&(e+=" "+k);return e}function Rn(a,b){a.stop();vn.removeChild(a.element);delete pn[a.id];if("FIGHT"!=b){var c=parseInt(a.element.style.left)+20,e=parseInt(a.element.style.top)+20;"EXPLOSION"==b?Xn("genetics/explode.png",c,e,40,1E3):"OVERPOPULATION"==b?Xn("genetics/kickedOut.png",c,e,40,1E3):Xn("genetics/retire.png",c,e,40,1E3)}wn[a.lb]--;xn[a.Dc]--;yn[a.Fc]--;zn[a.uc]--;Yn();Sn()}
function Vn(a,b,c){function e(){if(t){var r=Math.atan2(m-p,l-n);a.direction=r;b.direction=r+Math.PI;c()}t=!0}var f=parseInt(a.element.style.left,10),h=parseInt(a.element.style.top,10),k=parseInt(b.element.style.top,10),l=Lc(f,parseInt(b.element.style.left,10)),m=Lc(h,k);h=Math.atan2(h-m,f-l);f=20*Math.cos(h);h=20*Math.sin(h);var n=l+f,p=m+h;f=l-f;h=m-h;var t=!1;a.move(n,p,e);b.move(f,h,e)}
function Un(a,b,c,e){function f(m){m.target==h&&(h.removeEventListener("animationend",f,!1),a.element.style.display="",b.element.style.display="","WIN"==c?(Y(Z(a)+" fights and kills "+Z(b)+"."),Rn(b,"FIGHT")):"LOSS"==c?(Y(Z(a)+" fights and is killed by "+Z(b)+"."),Rn(a,"FIGHT")):"TIE"==c?Y(Z(a)+" fights "+Z(b)+" to a draw."):(Rn(a,"FIGHT"),Y(Z(a)+" chose itself when asked whom to fight with. "+Z(a)+" is being executed to put it out of its misery.")),h.parentNode.removeChild(h),e())}var h=document.getElementById("dust").cloneNode(!0),
k=Lc(parseInt(a.element.style.top,10),parseInt(b.element.style.top,10))+20-25,l=Lc(parseInt(a.element.style.left,10),parseInt(b.element.style.left,10))+20-25;h.style.top=k+"px";h.style.left=l+"px";h.addEventListener("animationend",f,!1);vn.appendChild(h);a.element.style.display="none";b.element.style.display="none"}
function On(a,b,c,e,f){function h(k){k.target==a.element&&(e?Y(Z(a,!0,!0)+" was born!"):Y(Z(a,!0,!0)+" added to game."),wn[a.lb]++,xn[a.Dc]++,yn[a.Fc]++,zn[a.uc]++,e&&Yn(),Sn(),a.element.style.animationName="none",a.element.removeEventListener("animationEnd",h,!1),f())}c=Hc(c-20,0,355);a.element.style.left=Hc(b-20,0,360)+"px";a.element.style.top=c+"px";a.element.addEventListener("animationend",h,!1);a.element.style.animation="bounceIn 500ms";a.element.style.display="block"}
function Tn(a,b,c,e,f){hn(a);Xn(b,parseInt(a.element.style.left,10)+20,parseInt(a.element.style.top,10)+20,c,e,f)}function Xn(a,b,c,e,f,h){var k=document.createElement("img");k.src=a;k.style.width=e+"px";k.style.height=e+"px";k.style.position="absolute";k.style.left=b-e/2+"px";k.style.top=c-e/2+"px";k.addEventListener("animationend",function(l){l.target==k&&(k.parentNode.removeChild(k),h&&h())},!1);k.style.animation="bounceIn "+f+"ms";vn.appendChild(k)}
function Nn(a){a=new cn(a);pn[a.id]=a;a.element.style.display="none";vn.appendChild(a.element);return a};var Zn={},$n={};function ao(){throw Error("Do not instantiate directly");}ao.prototype.co=null;ao.prototype.pg=function(){return this.content};ao.prototype.toString=function(){return this.content};ao.prototype.qn=function(){if(this.eo===$n)return Tb(this.toString());if(this.eo!==Zn)throw Error("Sanitized content was not of kind TEXT or HTML.");return Ub(this.toString(),this.co||null)};function bo(a){if(null!=a)switch(a.co){case 1:return 1;case -1:return-1;case 0:return 0}return null}function co(){ao.call(this)}v(co,ao);co.prototype.eo=Zn;function eo(a){return null!=a&&a.eo===Zn?a:fo(String(String(a)).replace(go,ho),bo(a))}
var fo=function(a){function b(){}b.prototype=a.prototype;return function(c,e){var f=new b;f.content=String(c);void 0!==e&&(f.co=e);return f}}(co),io={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ho(a){return io[a]}var go=/[\x00\x22\x26\x27\x3c\x3e]/g;function jo(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function ko(){for(var a='<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Genetics_tutorEnemy">Enemy</span><span id="Genetics_simpleName">Simple</span><span id="Genetics_aggressiveName">Aggressive</span><span id="Genetics_highBreedingName">High Breeding</span><span id="Genetics_variantName">Variant</span><span id="Genetics_myName">Player</span><span id="Genetics_getMiceTooltip">Returns all other alive mice in the game.</span><span id="Genetics_getSelfTooltip">Returns the mouse making the decision.</span><span id="Genetics_pickFightTooltip">Defines the function for picking a mouse to fight against.</span><span id="Genetics_proposeMateTooltip">Defines the function for choosing a mouse to mate with.</span><span id="Genetics_acceptMateTooltip">Defines the function for the answer to a mate request.</span><span id="Genetics_sizeTooltip">Reports the size of the specified mouse.</span><span id="Genetics_aggressivenessTooltip">Reports the aggressiveness of the specified mouse.</span><span id="Genetics_fertilityTooltip">Reports the fertility of the specified mouse.</span><span id="Genetics_startFertilityTooltip">Reports the starting fertility of the specified mouse.</span><span id="Genetics_sexTooltip">Reports the sex of the specified mouse.</span><span id="Genetics_ageTooltip">Reports the age of the specified mouse.</span><span id="Genetics_idTooltip">Reports the id of the specified mouse.</span><span id="Genetics_pickFightOwnerTooltip">Reports the owner of the pickFight function of the specified mouse.</span><span id="Genetics_proposeMateOwnerTooltip">Reports the owner of the proposeMate function of the specified mouse.</span><span id="Genetics_acceptMateOwnerTooltip">Reports the owner of the acceptMate function of the specified mouse.</span></div><table width="100%"><tr><td><h1>'+
('<span id="title">'+(um?'<a href="index.html?lang='+eo(sm)+'">':'<a href="./?lang='+eo(sm)+'">')+"Blockly Games</a> : "+eo({appName:"Genetics"}.appName)+"</span>"),b=" &nbsp; ",c=1;11>c;c++)b+=" "+(c==S?'<span class="level_number level_done" id="level'+eo(c)+'">'+eo(c)+"</span>":10==c?'<a class="level_number" id="level'+eo(c)+'" href="?lang='+eo(sm)+"&level="+eo(c)+eo("")+'">'+eo(c)+"</a>":'<a class="level_dot" id="level'+eo(c)+'" href="?lang='+eo(sm)+"&level="+eo(c)+eo("")+'"></a>');c='<div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>'+
jo()+"</div>";for(var e='<div id="visualization">'+(9<=S?'<div id="vizTabbar" class="goog-tab-bar goog-tab-bar-top"><div class="goog-tab goog-tab-selected">Visualization</div><div class="goog-tab">Charts</div></div><div class="goog-tab-bar-clear"></div>':"")+'</style><div id="gameElements" style="display:none;"><div id="dust" class="dust"><div class="cloud cloud1"></div><div class="cloud cloud2"></div><p class="star1">&#9734;</p><p class="star2">&#9734;</p><p class="star3">&#9734;</p><p class="star4">&#9734;</p></div></div><div class="vizTabContent"><div id="displayContent"><div id="display"></div></div>'+
(9<=S?'<div id="charts"><div id="populationChart"></div><div id="pickFightChart"></div><div id="proposeMateChart"></div><div id="acceptMateChart"></div></div>':"")+'</div></div><table class="playerStatTable"><tbody><tr id="playerNameRow">',f=0;4>f;f++)e+='<td class="playerStatName"></td>';e+='<tr id="playerStatRow">';for(f=0;4>f;f++)e+='<td><div class="mouseFunctionIcons"></div><div class="pickFightStat" ></div>'+(5<=S?'<div class="proposeMateStat"></div>'+(7<=S?'<div class="acceptMateStat"></div>':
""):"")+"</td>";return a+b+'</h1></td><td class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;<button id="helpButton">Help</button></td></tr></table>'+(e+'</tr></tbody></table><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><button id="docsButton" title="Display the language documentation.">Documentation</button></td><td><button id="runButton" class="primary" title="Run the program you wrote."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Stop the program and reset the level."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><div id="dialogDocs" style="display: none"><img src="common/1x1.gif" class="close icon21" id="closeDocs"><iframe id="frameDocs"></iframe></div>')+
(8<S?'<div id="tabarea"><div id="tabbar" class="goog-tab-bar goog-tab-bar-top"><div class="goog-tab goog-tab-selected">Blocks</div><div class="goog-tab">JavaScript</div></div><div class="goog-tab-bar-clear"></div>':"")+(8<S||1==S%2?'<div id="blockly"></div>':"")+(8<S||0==S%2?'<div id="editor"></div>':"")+(8<S?"</div>":"")+('<xml id="toolbox" style="display: none;"><category name="Genetics"><block type="genetics_getMice"></block>'+(4<=S?'<block type="genetics_getSelf"></block>':"")+(3<=S?'<block type="genetics_getProperties"></block>':
"")+(9<=S?'<block type="genetics_sex"></block>':"")+'</category><category name="Lists">'+(9<=S?'<block type="lists_create_with"><mutation items="0"></mutation></block>':"")+(2<=S?'<block type="lists_length"></block>':"")+'<block type="lists_getIndex"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value><value name="AT"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>'+(9<=S?'<block type="lists_setIndex"><value name="AT"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>':
"")+"</category>"+(3<=S?'<category name="Logic"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block>'+(7<=S?'<block type="logic_boolean"></block>':"")+(9<=S?'<block type="logic_negate"></block>':"")+'<block type="logic_null"></block></category><category name="Loops"><block type="controls_for"><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value></block><block type="controls_whileUntil"></block><block type="controls_flow_statements"></block></category>':
"")+'<category name="Math"><block type="math_number"></block>'+(2<=S?'<block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>':"")+(9<=S?'<block type="genetics_math_randomInt"><value name="MIN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="MAX_VALUE"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="math_random_float"></block>':
"")+"</category>"+(3<=S?'<sep></sep><category name="Variables" custom="VARIABLE"></category>':"")+(9<=S?'<category name="Functions" custom="PROCEDURE"></category>':"")+"</xml>")+'\n<div id="playerTutor" style="display: none">\n/* Tutor player */\nvar suitor;\nfunction pickFight() {\n  return null;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  for (var i = 0, mouse; mouse = mice[i]; i++) {\n    if (mouse.id == 0) {\n      return mouse;\n    }\n  }\n  // Should not get here.\n  return null;\n}\nfunction acceptMate(suitor) {\n  return true;\n}\n</div>\n\n<div id="playerSimple" style="display: none">\n/* Simple player */\nvar suitor;\nfunction pickFight() {\n  var mice = getMice();\n  var opponent = mice[Math.randomInt(0,mice.length-1)];\n  return opponent;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  var mate = mice[Math.randomInt(0,mice.length-1)];\n  return mate;\n}\nfunction acceptMate(suitor) {\n  return true;\n}\n</div>\n\n<div id="playerAggressive" style="display: none">\n/* Aggressive player */\nvar suitor;\nfunction pickFight() {\n  var targetOwner = getSelf().pickFightOwner;\n  var mice = getMice();\n  // Choose the biggest opponent, smaller than itself.\n  var opponent = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that mouse is smaller than self and doesn\'t share function owner.\n    if (mouse.size < getSelf().size && mouse.pickFightOwner != targetOwner &&\n        mouse.proposeMateOwner != targetOwner && mouse.acceptMateOwner != targetOwner) {\n      // Set opponent choice if opponent is biggest we have seen.\n      if (!opponent || mouse.size > opponent.size) {\n        opponent = mouse;\n      }\n    }\n  }\n  return opponent;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  // Choose the biggest valid mate.\n  var mate = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that potential mate is valid.\n    if (mouse != getSelf() && mouse.sex != getSelf().sex && mouse.fertility > 0) {\n      // Set mate choice if new mate is biggest we have seen.\n      if (!mate || mouse.size > mate.size) {\n        mate = mouse;\n      }\n    }\n  }\n  return mate;\n}\nfunction acceptMate(suitor) {\n  return suitor.proposeMateOwner == getSelf().acceptMateOwner ||\n      suitor.sex != getSelf().sex && suitor.size > getSelf().size;\n}\n</div>\n\n<div id="playerHighBreeding" style="display: none">\n/* High Breeding player */\nvar suitor;\nfunction pickFight() {\n  // Always choose not to fight.\n  return null;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  // Choose the mate with the highest fertility gene.\n  var mate = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that potential mate is valid.\n    if (mouse != getSelf() && mouse.sex != getSelf().sex && mouse.fertility > 0) {\n      // Change mate choice if new mate would pass on higher fertility.\n      if (!mate || mouse.startingFertility > mate.startingFertility) {\n        mate = mouse;\n      }\n    }\n  }\n  return mate;\n}\nfunction acceptMate(suitor) {\n    return suitor.proposeMateOwner == getSelf().acceptMateOwner ||\n        suitor.sex != getSelf().sex && suitor.startingFertility > getSelf().startingFertility;\n}\n</div>\n<div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div>'+
c+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==S?"Use getMice() to get the list of other mice in the game.<BR>Use the []'s on the list of mice to get the FIRST element in the list and return it in pickFight.":2==S?"Use getMice() to get the list of other mice in the game.<BR>Use the []'s on the list of mice to get the LAST element in the list and return it in pickFight.<BR>You can get the length of the list with .length.":3==S||4==S?(3==S?"Bigger mice are more likely to win in a fight. Return a mouse that is smaller than 2 in pickFight.<BR>":
4==S?"Bigger mice are more likely to win in a fight. Return a mouse that is smaller than yourself in pickFight.<BR>":"")+"Use .size to get the size of a mouse."+(3==S?'<br><br><img src="genetics/docs/sizeProperty.png" height=40 width=162>':4==S?"<pre>mouse.size</pre><pre>getSelf()</pre>":""):5==S||6==S?"Mice mate to pass on their functions to their children. If the other mate accepts a mate request and the mate is valid, a child is born.\n"+(5==S?'Return a mouse that is fertile (fertility greater than 0) and of the opposite sex.<br><br><img src="genetics/docs/fertilityProperty.png" height=43 width=180><br><br><img src="genetics/docs/sexProperty.png" height=55 width=178><br><br>':
6==S?"Return a mouse that is fertile (fertility greater than 0), of the opposite sex, and is bigger than yourself.<pre>mouse.fertility</pre><pre>mouse.sex</pre>":""):7==S||8==S?"Mice answer mating requests with acceptMate. Accepting will use up some fertility but will make a child.<BR>"+(7==S?"Return true in acceptMate if the suitor is of the opposite sex.":8==S?"Return true in acceptMate if the suitor is of the opposite sex and bigger than yourself.":""):9==S?"Write your own implementations for the mouse functions and compete to try to get majority of each function in the cage.<BR>WARNING: This level does not save.":
10==S?"Write your own implementations for the mouse functions and compete to try to get majority of each function in the cage. Watch out, these mice are much smarter than before.<BR>WARNING: This level does not save.":"")+"</div>"+jo()+"</div>"};function lo(){}v(lo,wj);qa(lo);d=lo.prototype;d.ib=function(){return"goog-tab"};d.Wj=function(){return"tab"};d.Z=function(a){var b=lo.s.Z.call(this,a);(a=a.Qo())&&this.qa(b,a);return b};d.Td=function(a,b){b=lo.s.Td.call(this,a,b);var c=this.Qo(b);c&&(a.lf=c);a.rk()&&(c=a.getParent())&&ua(c.cj)&&(a.ke(8,!1),c.cj(a));return b};d.Qo=function(a){return a.title||""};d.qa=function(a,b){a&&(a.title=b||"")};function mo(a,b,c){P.call(this,a,b||lo.Se(),c);this.sd(8,!0);this.Vh|=9}v(mo,P);mo.prototype.Qo=function(){return this.lf};mo.prototype.qa=function(a){this.ma.qa(this.J(),a);this.lf=a};oj("goog-tab",function(){return new mo(null)});function no(){this.Nn="tablist"}v(no,rj);qa(no);no.prototype.ib=function(){return"goog-tab-bar"};no.prototype.qq=function(a,b,c){this.jt||(this.Ml||oo(this),this.jt=kb(this.Ml));var e=this.jt[b];e?(a.setOrientation(e==po||e==qo?vj:uj),a.kt=e):no.s.qq.call(this,a,b,c)};no.prototype.Ci=function(a){var b=no.s.Ci.call(this,a);this.Ml||oo(this);b.push(this.Ml[a.kt]);return b};function oo(a){var b=a.ib();a.Ml=nb(ro,b+"-top",so,b+"-bottom",po,b+"-start",qo,b+"-end")};function Cn(a,b,c){a=a||ro;this.setOrientation(a==po||a==qo?vj:uj);this.kt=a;Rj.call(this,this.Kg,b||no.Se(),c);to(this)}v(Cn,Rj);var ro="top",so="bottom",po="start",qo="end";d=Cn.prototype;d.ew=!0;d.je=null;d.Hb=function(){Cn.s.Hb.call(this);to(this)};d.wb=function(){Cn.s.wb.call(this);this.je=null};d.removeChild=function(a,b){uo(this,a);return Cn.s.removeChild.call(this,a,b)};d.lq=function(a){Cn.s.lq.call(this,a);this.ew&&this.cj(O(this,a))};d.cj=function(a){a?Ij(a,!0):this.je&&Ij(this.je,!1)};
function En(a){return Ti(a,a.je)}function uo(a,b){if(b&&b==a.je){for(var c=Ti(a,b),e=c-1;b=O(a,e);e--){var f=b;if(f.isVisible()&&f.isEnabled()){a.cj(b);return}}for(c+=1;b=O(a,c);c++)if(e=b,e.isVisible()&&e.isEnabled()){a.cj(b);return}a.cj(null)}}d.Lx=function(a){this.je&&this.je!=a.target&&Ij(this.je,!1);this.je=a.target};d.Mx=function(a){a.target==this.je&&(this.je=null)};d.Jx=function(a){uo(this,a.target)};d.Kx=function(a){uo(this,a.target)};
d.fk=function(){O(this,this.jb)||this.ad(this.je||O(this,0))};function to(a){Ni(a).ra(a,"select",a.Lx).ra(a,"unselect",a.Mx).ra(a,"disable",a.Jx).ra(a,"hide",a.Kx)}oj("goog-tab-bar",function(){return new Cn});var vo=!0,wo=!0;
function xo(){if(1==S)var a=[{id:0,ob:0,x:200,y:300,direction:-Math.PI/2,size:2,le:1},{id:1,ob:3,x:300,y:100,direction:Math.PI/2,size:3},{id:2,ob:2,x:200,y:100,direction:Math.PI/2,size:2},{id:3,ob:1,x:100,y:100,direction:Math.PI/2,size:1}];else if(2==S)a=[{id:0,ob:0,x:200,y:300,direction:-Math.PI/2,size:2,le:1},{id:1,ob:3,x:300,y:100,direction:Math.PI/2,size:1},{id:2,ob:2,x:200,y:100,direction:Math.PI/2,size:2},{id:3,ob:1,x:100,y:100,direction:Math.PI/2,size:2}];else{if(4>=S)a=[{id:0,ob:0,x:200,y:200,
direction:-Math.PI/2,size:2,le:3},{id:1,ob:1,x:150,y:100,direction:Math.PI/2,size:3},{id:2,ob:2,x:250,y:300,direction:Math.PI/2,size:3},{id:3,ob:3,x:300,y:200,direction:Math.PI/2,size:2},{id:4,ob:1,x:250,y:100,direction:Math.PI/2,size:1},{id:5,ob:2,x:150,y:300,direction:Math.PI/2,size:1},{id:6,ob:3,x:100,y:200,direction:Math.PI/2,size:1}];else if(8>=S)a=[{id:0,ob:0,x:200,y:200,direction:-Math.PI/2,size:2,Yd:5},{id:1,ob:1,x:150,y:100,direction:Math.PI/2,size:3,lb:"Male"},{id:2,ob:2,x:250,y:300,direction:Math.PI/
2,size:3,lb:"Female"},{id:3,ob:3,x:300,y:200,direction:Math.PI/2,size:3,lb:"Male"},{id:4,ob:1,x:250,y:100,direction:Math.PI/2,size:3,lb:"Female"},{id:5,ob:2,x:150,y:300,direction:Math.PI/2,size:2,lb:"Female"},{id:6,ob:3,x:100,y:200,direction:Math.PI/2,size:2,lb:"Male"}];else{a=[];for(var b=0,c=0;4>c;c++)for(var e=0;2>e;e++)a.push({id:b++,lb:0==e%2?"Male":"Female",ob:c})}e=a;b=Math.random;for(c=e.length-1;0<c;c--){var f=Math.floor(b()*(c+1)),h=e[c];e[c]=e[f];e[f]=h}}for(e=0;h=a[e];e++)c=new Em(h.id,
h.lb||(0==Gc(2)?"Male":"Female"),h.ob),null!=h.size&&(c.size=h.size),null!=h.Yd&&(c.Yd=h.Yd),null!=h.le&&(c.le=h.le),b=c,Km[b.id]=b,Im.unshift(b),8>=S?(b=h.x,f=h.y,h=h.direction,c=Nn(c),c.direction=h,f=Hc(f-20,0,355),c.element.style.left=Hc(b-20,0,360)+"px",c.element.style.top=f+"px",wn[c.lb]++,xn[c.Dc]++,yn[c.Fc]++,zn[c.uc]++,Sn(),c.element.style.display="block",c.Zd(),Y(Z(c,!0,!0)+" added to game.")):X(new W("ADD",c))}
function yo(){switch(S){case 1:case 2:for(var a=0,b;b=Mm[a];a++){if("FIGHT"==b.TYPE)return X(new W("END_GAME","WIN"==b.RESULT)),!0;if("START_GAME"!=b.TYPE&&"NEXT_ROUND"!=b.TYPE)return X(new W("END_GAME",!1)),!0}return!1;case 3:case 4:var c=0;for(a=0;b=Mm[a];a++)if("FIGHT"==b.TYPE)if("WIN"==b.RESULT){if(c++,3==c)return X(new W("END_GAME",!0)),!0}else return X(new W("END_GAME",!1)),!0;else if("START_GAME"!=b.TYPE&&"NEXT_ROUND"!=b.TYPE)return X(new W("END_GAME",!1)),!0;return!1;case 5:case 6:for(a=c=
0;b=Mm[a];a++)if("MATE"==b.TYPE)if("SUCCESS"==b.RESULT){if(6==S&&2>=Km[b.OPT_PARTNER].size)return X(new W("END_GAME",!1)),!0;c++;if(5==c)return X(new W("END_GAME",!0)),!0}else return X(new W("END_GAME",!1)),!0;else if("START_GAME"!=b.TYPE&&"NEXT_ROUND"!=b.TYPE)return X(new W("END_GAME",!1)),!0;return!1;case 7:case 8:for(a=c=0;b=Mm[a];a++)if("MATE"==b.TYPE)if("SUCCESS"==b.RESULT){if(8==S&&2>=Km[b.ID].size)return X(new W("END_GAME",!1)),!0;c++;if(5==c)return X(new W("END_GAME",!0)),!0}else if("REJECTION"==
b.RESULT){var e=Km[0];b=Km[b.ID];if(e.lb!=b.lb&&(8!=S||e.size<b.lb))return X(new W("END_GAME",!1)),!0}else return X(new W("END_GAME",!1)),!0;else if("START_GAME"!=b.TYPE&&"NEXT_ROUND"!=b.TYPE&&"RETIRE"!=b.TYPE)return X(new W("END_GAME",!1)),!0;return!1;default:throw"unhandled checkForLevelEnd for level "+S;}}function zo(){}function Ao(){}
function Bo(a){if(!V.Me(a)){a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";Co()}}function Do(a){V.Me(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Sm(),In(),en=!0,xo())}
function Co(){if("Interpreter"in window){en=2>=S;var a=8>=S?yo:null;a&&(an=a);Gm=!1;Qm=Im.length;a=0;for(var b;b=Hm[a];a++)ua(b.code)&&(b.nw=Tm+"\n"+b.code());X(new W("START_GAME"));Xm();nn=!1;on=null;mn=!1;Mn()}else setTimeout(Co,250)}function Eo(){var a=document.getElementById("help"),b=document.getElementById("helpButton");U.Rk(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},U.qu);U.lu()}
function Fo(a){for(var b=["blockly","editor"],c=0,e;e=b[c];c++)e=document.getElementById(e),e.style.visibility=c==a?"visible":"hidden";b=[".blocklyTooltipDiv",".blocklyToolboxDiv"];for(c=0;e=b[c];c++)e=document.querySelector(e),e.style.visibility=0==a?"visible":"hidden";1==a&&vo&&(a=el(),wo=!0,V.md.setValue(a,-1),wo=!1)}
function Go(){if(!wo)if(vo)if(!be(fl,!1).length||confirm(T("Games_breakLink")))O(Dm,0).Rf(!1),vo=!1;else{var a=el();wo=!0;V.md.setValue(a,-1);wo=!1}else a=V.md.getValue(),a.trim()||(fl.clear(),O(Dm,0).Rf(!0),vo=!0)}function Y(a){console.log(a)}
window.addEventListener("load",function(){document.body.innerHTML=ko();V.I();Bn();Cm("runButton",Bo);Cm("resetButton",Do);Cm("docsButton",zo);Cm("closeDocs",Ao);setTimeout(V.Xx,1);8<S&&(Dm=new Cn,Dm.Td(document.getElementById("tabbar")),qi(Dm,"select",function(p){p=En(p.target.getParent());Fo(p)}));Cm("helpButton",Eo);2>location.hash.length&&!Am(S)&&setTimeout(Eo,1E3);var a=-1!=rm.indexOf(sm),b=document.getElementById("visualization"),c=document.getElementById("tabarea"),e=document.getElementById("blockly"),
f=document.getElementById("editor");if(f&&e)var h=[e,f],k=function(){var p=b.offsetTop;c.style.top=p-window.pageYOffset+"px";c.style.left=a?"10px":"420px";c.style.width=window.innerWidth-440+"px";p=Math.max(0,p+c.offsetHeight-window.pageYOffset)+"px";for(var t=a?"10px":"420px",r=window.innerWidth-440+"px",q=0,y;y=h[q];q++)y.style.top=p,y.style.left=t,y.style.width=r};else{var l=e||f;k=function(){l.style.top=Math.max(10,b.offsetTop-window.pageYOffset)+"px";l.style.left=a?"10px":"420px";l.style.width=
window.innerWidth-440+"px"}}window.addEventListener("scroll",function(){k(null);w.Yh(fl)});window.addEventListener("resize",k);k(null);if(f){f=document.getElementById("containerCode");f.parentNode.removeChild(f);f="";switch(S){case 2:f="/**\n * Return the last mouse from getMice().\n * @return {Mouse|null} The mouse chosen to fight with.\n */\nfunction pickFight() {\n  return null;\n}";break;case 4:f="/**\n * Return a mouse from getMice() that is smaller than itself.\n * @return {Mouse|null} The mouse chosen to fight with.\n */\nfunction pickFight() {\n  for (var i = 0; i < getMice().length; i++) {\n    var mouse = getMice()[i];\n  }\n  return null;\n}";
break;case 6:f="/**\n * Return a mouse from getMice() that is fertile, of the opposite sex,\n * and bigger than itself.\n * @return {Mouse|null} The mouse chosen to attempt to mate with.\n */\nfunction proposeMate() {\n  for (var i = 0; i < getMice().length; i++) {\n    var mouse = getMice()[i];\n  }\n  return null;\n}";break;case 8:f="/**\n *  Return true if the suitor mouse is of the opposite sex and bigger than itself.\n *  @param {Mouse} suitor the mouse requesting to mate.\n *  @return {Boolean} Whether the mate request is accepted.\n */\nfunction acceptMate(suitor) {\n  return false;\n}"}V.md=
window.ace.edit("editor");V.md.setTheme("ace/theme/chrome");V.md.setShowPrintMargin(!1);var m=V.md.getSession();m.setMode("ace/mode/javascript");m.setTabSize(2);m.setUseSoftTabs(!0);m.on("change",Go);f&&V.gt(f+"\n",!1)}if(e){f=document.getElementById("toolbox");fl=w.yg("blockly",{media:"third-party/blockly/media/",rtl:!1,toolbox:f,trashcan:!0,zoom:{controls:!0,wheel:!0}});fl.Nc(w.j.rs);switch(S){case 1:var n='<xml><block type="genetics_pickFight" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return the first mouse from getMice().\n@return {Mouse|null} The mouse chosen to fight with.</comment></block></xml>';
break;case 3:n='<xml><block type="genetics_pickFight" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return a mouse from getMice() that is smaller than 2.\n@return {Mouse|null} The mouse chosen to fight with.</comment><statement name="STACK"><block type="controls_for"><field name="VAR">i</field><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value><statement name="DO"><block type="variables_set" ><field name="VAR">mouse</field><value name="VALUE"><block type="lists_getIndex"><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="genetics_getMice"></block></value><value name="AT"><block type="variables_get"><field name="VAR">i</field></block></value></block></value></block></statement></block></statement></block></xml>';
break;case 5:n='<xml><block type="genetics_proposeMate" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return a mouse from getMice() that is fertile and of the opposite sex.\n@return {Mouse|null} The mouse chosen to attempt to mate with.</comment><statement name="STACK"><block type="controls_for"><field name="VAR">i</field><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value><statement name="DO"><block type="variables_set" ><field name="VAR">mouse</field><value name="VALUE"><block type="lists_getIndex"><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="genetics_getMice"></block></value><value name="AT"><block type="variables_get"><field name="VAR">i</field></block></value></block></value></block></statement></block></statement></block></xml>';
break;case 7:n='<xml><block type="genetics_acceptMate" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return true if the suitor mouse is of the opposite sex.\n@param {Mouse} suitor the mouse requesting to mate.\n@return {Boolean} Whether the mate request is accepted.</comment></block></xml>'}n&&V.gt(n,!1)}kl("pickFight,proposeMate,acceptMate");c&&(n=w.w.dd('<xml><block type="genetics_pickFight" deletable="false" editable="true" x="0" y="150"><comment pinned="false" h="65" w="560">Return a mouse from cage to pick a fight with. Returning itself will kill the mouse and returning null will result in no fights.\n@return {Mouse|null} The mouse chosen to fight with.</comment><value name="RETURN"><shadow type="logic_null"></shadow></value></block><block type="genetics_proposeMate" deletable="false" editable="true" x="0" y="350"><comment pinned="false" h="80" w="590">Return a mouse from cage to attempt to mate with. If the mate chosen accepts, is fertile, and is of the opposite sex, then a child will be born.\n@return {Mouse|null} The mouse chosen to attempt to mate with.</comment><value name="RETURN"><shadow type="logic_null"></shadow></value></block><block type="genetics_acceptMate" deletable="false" editable="true" x="0" y="550"><comment pinned="false" h="80" w="560">Return true to agree to a mate request or false to decline a mate request.\n@param {Mouse} suitor the mouse requesting to mate.\n@return {Boolean} Whether the mate request is accepted.</comment><value name="RETURN"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow></value></block></xml>'),
fl.clear(),w.w.Ke(n,fl),fl.Xn());vo=null!=e;8>=S?(e=[{name:"Genetics_myName",code:null},{name:"Genetics_tutorEnemy",code:"playerTutor"},{name:"Genetics_tutorEnemy",code:"playerTutor"},{name:"Genetics_tutorEnemy",code:"playerTutor"}],Wn=!1,Rm=Nm=!0,Um=6>=S,Wm=5<=S,Vm=7==S||8==S,Tm=document.getElementById("playerTutor").textContent):e=9==S?[{name:"Genetics_myName",code:null},{name:"Genetics_simpleName",code:"playerSimple"},{name:"Genetics_simpleName",code:"playerSimple"},{name:"Genetics_simpleName",
code:"playerSimple"}]:[{name:"Genetics_myName",code:null},{name:"Genetics_aggressiveName",code:"playerAggressive"},{name:"Genetics_highBreedingName",code:"playerHighBreeding"},{name:"Genetics_simpleName",code:"playerSimple"}];for(n=0;m=e[n];n++)f=m.code?document.getElementById(m.code).textContent:function(){return vo?el():V.md.getValue()},m=T(m.name),Hm.push({name:m,code:f});Sm();In();en=!0;xo();c&&(Fo(0),wo=!1)});
